var UA=t=>{throw TypeError(t)};var RJ=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Z_=(t,e,r)=>e.has(t)||UA("Cannot "+r);var we=(t,e,r)=>(Z_(t,e,"read from private field"),r?r.call(t):e.get(t)),Zt=(t,e,r)=>e.has(t)?UA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ct=(t,e,r,n)=>(Z_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),fn=(t,e,r)=>(Z_(t,e,"access private method"),r);var zv=(t,e,r,n)=>({set _(i){Ct(t,e,i,r)},get _(){return we(t,e,n)}});var Exe=RJ(il=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var QO={exports:{}},Fw={},YO={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=Symbol.for("react.element"),PJ=Symbol.for("react.portal"),kJ=Symbol.for("react.fragment"),OJ=Symbol.for("react.strict_mode"),TJ=Symbol.for("react.profiler"),NJ=Symbol.for("react.provider"),$J=Symbol.for("react.context"),DJ=Symbol.for("react.forward_ref"),LJ=Symbol.for("react.suspense"),BJ=Symbol.for("react.memo"),FJ=Symbol.for("react.lazy"),zA=Symbol.iterator;function jJ(t){return t===null||typeof t!="object"?null:(t=zA&&t[zA]||t["@@iterator"],typeof t=="function"?t:null)}var ZO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XO=Object.assign,eT={};function C0(t,e,r){this.props=t,this.context=e,this.refs=eT,this.updater=r||ZO}C0.prototype.isReactComponent={};C0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};C0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tT(){}tT.prototype=C0.prototype;function XE(t,e,r){this.props=t,this.context=e,this.refs=eT,this.updater=r||ZO}var e7=XE.prototype=new tT;e7.constructor=XE;XO(e7,C0.prototype);e7.isPureReactComponent=!0;var qA=Array.isArray,rT=Object.prototype.hasOwnProperty,t7={current:null},nT={key:!0,ref:!0,__self:!0,__source:!0};function iT(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rT.call(e,n)&&!nT.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Fg,type:t,key:s,ref:o,props:i,_owner:t7.current}}function UJ(t,e){return{$$typeof:Fg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r7(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fg}function zJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var HA=/\/+/g;function X_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zJ(""+t.key):e.toString(36)}function Gy(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fg:case PJ:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+X_(o,0):n,qA(i)?(r="",t!=null&&(r=t.replace(HA,"$&/")+"/"),Gy(i,e,r,"",function(l){return l})):i!=null&&(r7(i)&&(i=UJ(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(HA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",qA(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+X_(s,a);o+=Gy(s,e,r,c,i)}else if(c=jJ(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+X_(s,a++),o+=Gy(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qv(t,e,r){if(t==null)return t;var n=[],i=0;return Gy(t,n,"","",function(s){return e.call(r,s,i++)}),n}function qJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qi={current:null},Jy={transition:null},HJ={ReactCurrentDispatcher:qi,ReactCurrentBatchConfig:Jy,ReactCurrentOwner:t7};function sT(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:qv,forEach:function(t,e,r){qv(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qv(t,function(){e++}),e},toArray:function(t){return qv(t,function(e){return e})||[]},only:function(t){if(!r7(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=C0;Wt.Fragment=kJ;Wt.Profiler=TJ;Wt.PureComponent=XE;Wt.StrictMode=OJ;Wt.Suspense=LJ;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HJ;Wt.act=sT;Wt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=XO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t7.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)rT.call(e,c)&&!nT.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Fg,type:t.type,key:i,ref:s,props:n,_owner:o}};Wt.createContext=function(t){return t={$$typeof:$J,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NJ,_context:t},t.Consumer=t};Wt.createElement=iT;Wt.createFactory=function(t){var e=iT.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:DJ,render:t}};Wt.isValidElement=r7;Wt.lazy=function(t){return{$$typeof:FJ,_payload:{_status:-1,_result:t},_init:qJ}};Wt.memo=function(t,e){return{$$typeof:BJ,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=Jy.transition;Jy.transition={};try{t()}finally{Jy.transition=e}};Wt.unstable_act=sT;Wt.useCallback=function(t,e){return qi.current.useCallback(t,e)};Wt.useContext=function(t){return qi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return qi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return qi.current.useEffect(t,e)};Wt.useId=function(){return qi.current.useId()};Wt.useImperativeHandle=function(t,e,r){return qi.current.useImperativeHandle(t,e,r)};Wt.useInsertionEffect=function(t,e){return qi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return qi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return qi.current.useMemo(t,e)};Wt.useReducer=function(t,e,r){return qi.current.useReducer(t,e,r)};Wt.useRef=function(t){return qi.current.useRef(t)};Wt.useState=function(t){return qi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,r){return qi.current.useSyncExternalStore(t,e,r)};Wt.useTransition=function(){return qi.current.useTransition()};Wt.version="18.3.1";YO.exports=Wt;var Ir=YO.exports;const oT=_u(Ir);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WJ=Ir,VJ=Symbol.for("react.element"),KJ=Symbol.for("react.fragment"),GJ=Object.prototype.hasOwnProperty,JJ=WJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QJ={key:!0,ref:!0,__self:!0,__source:!0};function aT(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)GJ.call(e,n)&&!QJ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:VJ,type:t,key:s,ref:o,props:i,_owner:JJ.current}}Fw.Fragment=KJ;Fw.jsx=aT;Fw.jsxs=aT;QO.exports=Fw;var xt=QO.exports,M0={},jw={};jw.byteLength=XJ;jw.toByteArray=tQ;jw.fromByteArray=iQ;var Da=[],so=[],YJ=typeof Uint8Array<"u"?Uint8Array:Array,e6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dh=0,ZJ=e6.length;Dh<ZJ;++Dh)Da[Dh]=e6[Dh],so[e6.charCodeAt(Dh)]=Dh;so[45]=62;so[95]=63;function cT(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function XJ(t){var e=cT(t),r=e[0],n=e[1];return(r+n)*3/4-n}function eQ(t,e,r){return(e+r)*3/4-r}function tQ(t){var e,r=cT(t),n=r[0],i=r[1],s=new YJ(eQ(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=so[t.charCodeAt(c)]<<18|so[t.charCodeAt(c+1)]<<12|so[t.charCodeAt(c+2)]<<6|so[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=so[t.charCodeAt(c)]<<2|so[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=so[t.charCodeAt(c)]<<10|so[t.charCodeAt(c+1)]<<4|so[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function rQ(t){return Da[t>>18&63]+Da[t>>12&63]+Da[t>>6&63]+Da[t&63]}function nQ(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(rQ(n));return i.join("")}function iQ(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(nQ(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Da[e>>2]+Da[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Da[e>>10]+Da[e>>4&63]+Da[e<<2&63]+"=")),i.join("")}var n7={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n7.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,h=-7,p=r?i-1:0,v=r?-1:1,b=t[e+p];for(p+=v,s=b&(1<<-h)-1,b>>=-h,h+=a;h>0;s=s*256+t[e+p],p+=v,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=o*256+t[e+p],p+=v,h-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(b?-1:1)*o*Math.pow(2,s-n)};n7.write=function(t,e,r,n,i,s){var o,a,c,l=s*8-i-1,h=(1<<l)-1,p=h>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,S=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?e+=v/c:e+=v*Math.pow(2,1-p),e*c>=2&&(o++,c/=2),o+p>=h?(a=0,o=h):o+p>=1?(a=(e*c-1)*Math.pow(2,i),o=o+p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;t[r+b]=a&255,b+=S,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+b]=o&255,b+=S,o/=256,l-=8);t[r+b-S]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=jw,r=n7,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=P,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const G=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(G,N),G.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(G){if(G>i)throw new RangeError('The value "'+G+'" is invalid for option "size"');const N=new Uint8Array(G);return Object.setPrototypeOf(N,a.prototype),N}function a(G,N,F){if(typeof G=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(G)}return c(G,N,F)}a.poolSize=8192;function c(G,N,F){if(typeof G=="string")return v(G,N);if(ArrayBuffer.isView(G))return S(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(Me(G,ArrayBuffer)||G&&Me(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Me(G,SharedArrayBuffer)||G&&Me(G.buffer,SharedArrayBuffer)))return T(G,N,F);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=G.valueOf&&G.valueOf();if(X!=null&&X!==G)return a.from(X,N,F);const ie=B(G);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return a.from(G[Symbol.toPrimitive]("string"),N,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}a.from=function(G,N,F){return c(G,N,F)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function h(G,N,F){return l(G),G<=0?o(G):N!==void 0?typeof F=="string"?o(G).fill(N,F):o(G).fill(N):o(G)}a.alloc=function(G,N,F){return h(G,N,F)};function p(G){return l(G),o(G<0?0:R(G)|0)}a.allocUnsafe=function(G){return p(G)},a.allocUnsafeSlow=function(G){return p(G)};function v(G,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const F=O(G,N)|0;let X=o(F);const ie=X.write(G,N);return ie!==F&&(X=X.slice(0,ie)),X}function b(G){const N=G.length<0?0:R(G.length)|0,F=o(N);for(let X=0;X<N;X+=1)F[X]=G[X]&255;return F}function S(G){if(Me(G,Uint8Array)){const N=new Uint8Array(G);return T(N.buffer,N.byteOffset,N.byteLength)}return b(G)}function T(G,N,F){if(N<0||G.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<N+(F||0))throw new RangeError('"length" is outside of buffer bounds');let X;return N===void 0&&F===void 0?X=new Uint8Array(G):F===void 0?X=new Uint8Array(G,N):X=new Uint8Array(G,N,F),Object.setPrototypeOf(X,a.prototype),X}function B(G){if(a.isBuffer(G)){const N=R(G.length)|0,F=o(N);return F.length===0||G.copy(F,0,0,N),F}if(G.length!==void 0)return typeof G.length!="number"||ke(G.length)?o(0):b(G);if(G.type==="Buffer"&&Array.isArray(G.data))return b(G.data)}function R(G){if(G>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return G|0}function P(G){return+G!=G&&(G=0),a.alloc(+G)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,F){if(Me(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),Me(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),!a.isBuffer(N)||!a.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===F)return 0;let X=N.length,ie=F.length;for(let ue=0,de=Math.min(X,ie);ue<de;++ue)if(N[ue]!==F[ue]){X=N[ue],ie=F[ue];break}return X<ie?-1:ie<X?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,F){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);let X;if(F===void 0)for(F=0,X=0;X<N.length;++X)F+=N[X].length;const ie=a.allocUnsafe(F);let ue=0;for(X=0;X<N.length;++X){let de=N[X];if(Me(de,Uint8Array))ue+de.length>ie.length?(a.isBuffer(de)||(de=a.from(de)),de.copy(ie,ue)):Uint8Array.prototype.set.call(ie,de,ue);else if(a.isBuffer(de))de.copy(ie,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=de.length}return ie};function O(G,N){if(a.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||Me(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const F=G.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&F===0)return 0;let ie=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Ee(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return Ne(G).length;default:if(ie)return X?-1:Ee(G).length;N=(""+N).toLowerCase(),ie=!0}}a.byteLength=O;function L(G,N,F){let X=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,N>>>=0,F<=N))return"";for(G||(G="utf8");;)switch(G){case"hex":return A(this,N,F);case"utf8":case"utf-8":return f(this,N,F);case"ascii":return I(this,N,F);case"latin1":case"binary":return C(this,N,F);case"base64":return g(this,N,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,N,F);default:if(X)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),X=!0}}a.prototype._isBuffer=!0;function D(G,N,F){const X=G[N];G[N]=G[F],G[F]=X}a.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<N;F+=2)D(this,F,F+1);return this},a.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<N;F+=4)D(this,F,F+3),D(this,F+1,F+2);return this},a.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<N;F+=8)D(this,F,F+7),D(this,F+1,F+6),D(this,F+2,F+5),D(this,F+3,F+4);return this},a.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?f(this,0,N):L.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){let N="";const F=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(N+=" ... "),"<Buffer "+N+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(N,F,X,ie,ue){if(Me(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(F===void 0&&(F=0),X===void 0&&(X=N?N.length:0),ie===void 0&&(ie=0),ue===void 0&&(ue=this.length),F<0||X>N.length||ie<0||ue>this.length)throw new RangeError("out of range index");if(ie>=ue&&F>=X)return 0;if(ie>=ue)return-1;if(F>=X)return 1;if(F>>>=0,X>>>=0,ie>>>=0,ue>>>=0,this===N)return 0;let de=ue-ie,_e=X-F;const Ie=Math.min(de,_e),De=this.slice(ie,ue),Fe=N.slice(F,X);for(let Be=0;Be<Ie;++Be)if(De[Be]!==Fe[Be]){de=De[Be],_e=Fe[Be];break}return de<_e?-1:_e<de?1:0};function q(G,N,F,X,ie){if(G.length===0)return-1;if(typeof F=="string"?(X=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,ke(F)&&(F=ie?0:G.length-1),F<0&&(F=G.length+F),F>=G.length){if(ie)return-1;F=G.length-1}else if(F<0)if(ie)F=0;else return-1;if(typeof N=="string"&&(N=a.from(N,X)),a.isBuffer(N))return N.length===0?-1:M(G,N,F,X,ie);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(G,N,F):Uint8Array.prototype.lastIndexOf.call(G,N,F):M(G,[N],F,X,ie);throw new TypeError("val must be string, number or Buffer")}function M(G,N,F,X,ie){let ue=1,de=G.length,_e=N.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(G.length<2||N.length<2)return-1;ue=2,de/=2,_e/=2,F/=2}function Ie(Fe,Be){return ue===1?Fe[Be]:Fe.readUInt16BE(Be*ue)}let De;if(ie){let Fe=-1;for(De=F;De<de;De++)if(Ie(G,De)===Ie(N,Fe===-1?0:De-Fe)){if(Fe===-1&&(Fe=De),De-Fe+1===_e)return Fe*ue}else Fe!==-1&&(De-=De-Fe),Fe=-1}else for(F+_e>de&&(F=de-_e),De=F;De>=0;De--){let Fe=!0;for(let Be=0;Be<_e;Be++)if(Ie(G,De+Be)!==Ie(N,Be)){Fe=!1;break}if(Fe)return De}return-1}a.prototype.includes=function(N,F,X){return this.indexOf(N,F,X)!==-1},a.prototype.indexOf=function(N,F,X){return q(this,N,F,X,!0)},a.prototype.lastIndexOf=function(N,F,X){return q(this,N,F,X,!1)};function H(G,N,F,X){F=Number(F)||0;const ie=G.length-F;X?(X=Number(X),X>ie&&(X=ie)):X=ie;const ue=N.length;X>ue/2&&(X=ue/2);let de;for(de=0;de<X;++de){const _e=parseInt(N.substr(de*2,2),16);if(ke(_e))return de;G[F+de]=_e}return de}function te(G,N,F,X){return Pe(Ee(N,G.length-F),G,F,X)}function oe(G,N,F,X){return Pe(je(N),G,F,X)}function K(G,N,F,X){return Pe(Ne(N),G,F,X)}function k(G,N,F,X){return Pe(Ue(N,G.length-F),G,F,X)}a.prototype.write=function(N,F,X,ie){if(F===void 0)ie="utf8",X=this.length,F=0;else if(X===void 0&&typeof F=="string")ie=F,X=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(X)?(X=X>>>0,ie===void 0&&(ie="utf8")):(ie=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ue=this.length-F;if((X===void 0||X>ue)&&(X=ue),N.length>0&&(X<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let de=!1;for(;;)switch(ie){case"hex":return H(this,N,F,X);case"utf8":case"utf-8":return te(this,N,F,X);case"ascii":case"latin1":case"binary":return oe(this,N,F,X);case"base64":return K(this,N,F,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,N,F,X);default:if(de)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),de=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(G,N,F){return N===0&&F===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(N,F))}function f(G,N,F){F=Math.min(G.length,F);const X=[];let ie=N;for(;ie<F;){const ue=G[ie];let de=null,_e=ue>239?4:ue>223?3:ue>191?2:1;if(ie+_e<=F){let Ie,De,Fe,Be;switch(_e){case 1:ue<128&&(de=ue);break;case 2:Ie=G[ie+1],(Ie&192)===128&&(Be=(ue&31)<<6|Ie&63,Be>127&&(de=Be));break;case 3:Ie=G[ie+1],De=G[ie+2],(Ie&192)===128&&(De&192)===128&&(Be=(ue&15)<<12|(Ie&63)<<6|De&63,Be>2047&&(Be<55296||Be>57343)&&(de=Be));break;case 4:Ie=G[ie+1],De=G[ie+2],Fe=G[ie+3],(Ie&192)===128&&(De&192)===128&&(Fe&192)===128&&(Be=(ue&15)<<18|(Ie&63)<<12|(De&63)<<6|Fe&63,Be>65535&&Be<1114112&&(de=Be))}}de===null?(de=65533,_e=1):de>65535&&(de-=65536,X.push(de>>>10&1023|55296),de=56320|de&1023),X.push(de),ie+=_e}return _(X)}const m=4096;function _(G){const N=G.length;if(N<=m)return String.fromCharCode.apply(String,G);let F="",X=0;for(;X<N;)F+=String.fromCharCode.apply(String,G.slice(X,X+=m));return F}function I(G,N,F){let X="";F=Math.min(G.length,F);for(let ie=N;ie<F;++ie)X+=String.fromCharCode(G[ie]&127);return X}function C(G,N,F){let X="";F=Math.min(G.length,F);for(let ie=N;ie<F;++ie)X+=String.fromCharCode(G[ie]);return X}function A(G,N,F){const X=G.length;(!N||N<0)&&(N=0),(!F||F<0||F>X)&&(F=X);let ie="";for(let ue=N;ue<F;++ue)ie+=$e[G[ue]];return ie}function w(G,N,F){const X=G.slice(N,F);let ie="";for(let ue=0;ue<X.length-1;ue+=2)ie+=String.fromCharCode(X[ue]+X[ue+1]*256);return ie}a.prototype.slice=function(N,F){const X=this.length;N=~~N,F=F===void 0?X:~~F,N<0?(N+=X,N<0&&(N=0)):N>X&&(N=X),F<0?(F+=X,F<0&&(F=0)):F>X&&(F=X),F<N&&(F=N);const ie=this.subarray(N,F);return Object.setPrototypeOf(ie,a.prototype),ie};function y(G,N,F){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+N>F)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,F,X){N=N>>>0,F=F>>>0,X||y(N,F,this.length);let ie=this[N],ue=1,de=0;for(;++de<F&&(ue*=256);)ie+=this[N+de]*ue;return ie},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,F,X){N=N>>>0,F=F>>>0,X||y(N,F,this.length);let ie=this[N+--F],ue=1;for(;F>0&&(ue*=256);)ie+=this[N+--F]*ue;return ie},a.prototype.readUint8=a.prototype.readUInt8=function(N,F){return N=N>>>0,F||y(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,F){return N=N>>>0,F||y(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,F){return N=N>>>0,F||y(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,F){return N=N>>>0,F||y(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,F){return N=N>>>0,F||y(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readBigUInt64LE=Ce(function(N){N=N>>>0,ae(N,"offset");const F=this[N],X=this[N+7];(F===void 0||X===void 0)&&fe(N,this.length-8);const ie=F+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,ue=this[++N]+this[++N]*2**8+this[++N]*2**16+X*2**24;return BigInt(ie)+(BigInt(ue)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ce(function(N){N=N>>>0,ae(N,"offset");const F=this[N],X=this[N+7];(F===void 0||X===void 0)&&fe(N,this.length-8);const ie=F*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],ue=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+X;return(BigInt(ie)<<BigInt(32))+BigInt(ue)}),a.prototype.readIntLE=function(N,F,X){N=N>>>0,F=F>>>0,X||y(N,F,this.length);let ie=this[N],ue=1,de=0;for(;++de<F&&(ue*=256);)ie+=this[N+de]*ue;return ue*=128,ie>=ue&&(ie-=Math.pow(2,8*F)),ie},a.prototype.readIntBE=function(N,F,X){N=N>>>0,F=F>>>0,X||y(N,F,this.length);let ie=F,ue=1,de=this[N+--ie];for(;ie>0&&(ue*=256);)de+=this[N+--ie]*ue;return ue*=128,de>=ue&&(de-=Math.pow(2,8*F)),de},a.prototype.readInt8=function(N,F){return N=N>>>0,F||y(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,F){N=N>>>0,F||y(N,2,this.length);const X=this[N]|this[N+1]<<8;return X&32768?X|4294901760:X},a.prototype.readInt16BE=function(N,F){N=N>>>0,F||y(N,2,this.length);const X=this[N+1]|this[N]<<8;return X&32768?X|4294901760:X},a.prototype.readInt32LE=function(N,F){return N=N>>>0,F||y(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,F){return N=N>>>0,F||y(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readBigInt64LE=Ce(function(N){N=N>>>0,ae(N,"offset");const F=this[N],X=this[N+7];(F===void 0||X===void 0)&&fe(N,this.length-8);const ie=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(X<<24);return(BigInt(ie)<<BigInt(32))+BigInt(F+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),a.prototype.readBigInt64BE=Ce(function(N){N=N>>>0,ae(N,"offset");const F=this[N],X=this[N+7];(F===void 0||X===void 0)&&fe(N,this.length-8);const ie=(F<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ie)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+X)}),a.prototype.readFloatLE=function(N,F){return N=N>>>0,F||y(N,4,this.length),r.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,F){return N=N>>>0,F||y(N,4,this.length),r.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,F){return N=N>>>0,F||y(N,8,this.length),r.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,F){return N=N>>>0,F||y(N,8,this.length),r.read(this,N,!1,52,8)};function E(G,N,F,X,ie,ue){if(!a.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ie||N<ue)throw new RangeError('"value" argument is out of bounds');if(F+X>G.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,F,X,ie){if(N=+N,F=F>>>0,X=X>>>0,!ie){const _e=Math.pow(2,8*X)-1;E(this,N,F,X,_e,0)}let ue=1,de=0;for(this[F]=N&255;++de<X&&(ue*=256);)this[F+de]=N/ue&255;return F+X},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,F,X,ie){if(N=+N,F=F>>>0,X=X>>>0,!ie){const _e=Math.pow(2,8*X)-1;E(this,N,F,X,_e,0)}let ue=X-1,de=1;for(this[F+ue]=N&255;--ue>=0&&(de*=256);)this[F+ue]=N/de&255;return F+X},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,1,255,0),this[F]=N&255,F+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,2,65535,0),this[F]=N&255,this[F+1]=N>>>8,F+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,2,65535,0),this[F]=N>>>8,this[F+1]=N&255,F+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,4,4294967295,0),this[F+3]=N>>>24,this[F+2]=N>>>16,this[F+1]=N>>>8,this[F]=N&255,F+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,4,4294967295,0),this[F]=N>>>24,this[F+1]=N>>>16,this[F+2]=N>>>8,this[F+3]=N&255,F+4};function V(G,N,F,X,ie){J(N,X,ie,G,F,7);let ue=Number(N&BigInt(4294967295));G[F++]=ue,ue=ue>>8,G[F++]=ue,ue=ue>>8,G[F++]=ue,ue=ue>>8,G[F++]=ue;let de=Number(N>>BigInt(32)&BigInt(4294967295));return G[F++]=de,de=de>>8,G[F++]=de,de=de>>8,G[F++]=de,de=de>>8,G[F++]=de,F}function ce(G,N,F,X,ie){J(N,X,ie,G,F,7);let ue=Number(N&BigInt(4294967295));G[F+7]=ue,ue=ue>>8,G[F+6]=ue,ue=ue>>8,G[F+5]=ue,ue=ue>>8,G[F+4]=ue;let de=Number(N>>BigInt(32)&BigInt(4294967295));return G[F+3]=de,de=de>>8,G[F+2]=de,de=de>>8,G[F+1]=de,de=de>>8,G[F]=de,F+8}a.prototype.writeBigUInt64LE=Ce(function(N,F=0){return V(this,N,F,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ce(function(N,F=0){return ce(this,N,F,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(N,F,X,ie){if(N=+N,F=F>>>0,!ie){const Ie=Math.pow(2,8*X-1);E(this,N,F,X,Ie-1,-Ie)}let ue=0,de=1,_e=0;for(this[F]=N&255;++ue<X&&(de*=256);)N<0&&_e===0&&this[F+ue-1]!==0&&(_e=1),this[F+ue]=(N/de>>0)-_e&255;return F+X},a.prototype.writeIntBE=function(N,F,X,ie){if(N=+N,F=F>>>0,!ie){const Ie=Math.pow(2,8*X-1);E(this,N,F,X,Ie-1,-Ie)}let ue=X-1,de=1,_e=0;for(this[F+ue]=N&255;--ue>=0&&(de*=256);)N<0&&_e===0&&this[F+ue+1]!==0&&(_e=1),this[F+ue]=(N/de>>0)-_e&255;return F+X},a.prototype.writeInt8=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,1,127,-128),N<0&&(N=255+N+1),this[F]=N&255,F+1},a.prototype.writeInt16LE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,2,32767,-32768),this[F]=N&255,this[F+1]=N>>>8,F+2},a.prototype.writeInt16BE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,2,32767,-32768),this[F]=N>>>8,this[F+1]=N&255,F+2},a.prototype.writeInt32LE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,4,2147483647,-2147483648),this[F]=N&255,this[F+1]=N>>>8,this[F+2]=N>>>16,this[F+3]=N>>>24,F+4},a.prototype.writeInt32BE=function(N,F,X){return N=+N,F=F>>>0,X||E(this,N,F,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[F]=N>>>24,this[F+1]=N>>>16,this[F+2]=N>>>8,this[F+3]=N&255,F+4},a.prototype.writeBigInt64LE=Ce(function(N,F=0){return V(this,N,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ce(function(N,F=0){return ce(this,N,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function U(G,N,F,X,ie,ue){if(F+X>G.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function Z(G,N,F,X,ie){return N=+N,F=F>>>0,ie||U(G,N,F,4),r.write(G,N,F,X,23,4),F+4}a.prototype.writeFloatLE=function(N,F,X){return Z(this,N,F,!0,X)},a.prototype.writeFloatBE=function(N,F,X){return Z(this,N,F,!1,X)};function W(G,N,F,X,ie){return N=+N,F=F>>>0,ie||U(G,N,F,8),r.write(G,N,F,X,52,8),F+8}a.prototype.writeDoubleLE=function(N,F,X){return W(this,N,F,!0,X)},a.prototype.writeDoubleBE=function(N,F,X){return W(this,N,F,!1,X)},a.prototype.copy=function(N,F,X,ie){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if(X||(X=0),!ie&&ie!==0&&(ie=this.length),F>=N.length&&(F=N.length),F||(F=0),ie>0&&ie<X&&(ie=X),ie===X||N.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),N.length-F<ie-X&&(ie=N.length-F+X);const ue=ie-X;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,X,ie):Uint8Array.prototype.set.call(N,this.subarray(X,ie),F),ue},a.prototype.fill=function(N,F,X,ie){if(typeof N=="string"){if(typeof F=="string"?(ie=F,F=0,X=this.length):typeof X=="string"&&(ie=X,X=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!a.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(N.length===1){const de=N.charCodeAt(0);(ie==="utf8"&&de<128||ie==="latin1")&&(N=de)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(F<0||this.length<F||this.length<X)throw new RangeError("Out of range index");if(X<=F)return this;F=F>>>0,X=X===void 0?this.length:X>>>0,N||(N=0);let ue;if(typeof N=="number")for(ue=F;ue<X;++ue)this[ue]=N;else{const de=a.isBuffer(N)?N:a.from(N,ie),_e=de.length;if(_e===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(ue=0;ue<X-F;++ue)this[ue+F]=de[ue%_e]}return this};const Y={};function ee(G,N,F){Y[G]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(G,N){return`The "${G}" argument must be of type number. Received type ${typeof N}`},TypeError),ee("ERR_OUT_OF_RANGE",function(G,N,F){let X=`The value of "${G}" is out of range.`,ie=F;return Number.isInteger(F)&&Math.abs(F)>2**32?ie=$(String(F)):typeof F=="bigint"&&(ie=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(ie=$(ie)),ie+="n"),X+=` It must be ${N}. Received ${ie}`,X},RangeError);function $(G){let N="",F=G.length;const X=G[0]==="-"?1:0;for(;F>=X+4;F-=3)N=`_${G.slice(F-3,F)}${N}`;return`${G.slice(0,F)}${N}`}function z(G,N,F){ae(N,"offset"),(G[N]===void 0||G[N+F]===void 0)&&fe(N,G.length-(F+1))}function J(G,N,F,X,ie,ue){if(G>F||G<N){const de=typeof N=="bigint"?"n":"";let _e;throw N===0||N===BigInt(0)?_e=`>= 0${de} and < 2${de} ** ${(ue+1)*8}${de}`:_e=`>= -(2${de} ** ${(ue+1)*8-1}${de}) and < 2 ** ${(ue+1)*8-1}${de}`,new Y.ERR_OUT_OF_RANGE("value",_e,G)}z(X,ie,ue)}function ae(G,N){if(typeof G!="number")throw new Y.ERR_INVALID_ARG_TYPE(N,"number",G)}function fe(G,N,F){throw Math.floor(G)!==G?(ae(G,F),new Y.ERR_OUT_OF_RANGE("offset","an integer",G)):N<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,G)}const ye=/[^+/0-9A-Za-z-_]/g;function be(G){if(G=G.split("=")[0],G=G.trim().replace(ye,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function Ee(G,N){N=N||1/0;let F;const X=G.length;let ie=null;const ue=[];for(let de=0;de<X;++de){if(F=G.charCodeAt(de),F>55295&&F<57344){if(!ie){if(F>56319){(N-=3)>-1&&ue.push(239,191,189);continue}else if(de+1===X){(N-=3)>-1&&ue.push(239,191,189);continue}ie=F;continue}if(F<56320){(N-=3)>-1&&ue.push(239,191,189),ie=F;continue}F=(ie-55296<<10|F-56320)+65536}else ie&&(N-=3)>-1&&ue.push(239,191,189);if(ie=null,F<128){if((N-=1)<0)break;ue.push(F)}else if(F<2048){if((N-=2)<0)break;ue.push(F>>6|192,F&63|128)}else if(F<65536){if((N-=3)<0)break;ue.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((N-=4)<0)break;ue.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return ue}function je(G){const N=[];for(let F=0;F<G.length;++F)N.push(G.charCodeAt(F)&255);return N}function Ue(G,N){let F,X,ie;const ue=[];for(let de=0;de<G.length&&!((N-=2)<0);++de)F=G.charCodeAt(de),X=F>>8,ie=F%256,ue.push(ie),ue.push(X);return ue}function Ne(G){return e.toByteArray(be(G))}function Pe(G,N,F,X){let ie;for(ie=0;ie<X&&!(ie+F>=N.length||ie>=G.length);++ie)N[ie+F]=G[ie];return ie}function Me(G,N){return G instanceof N||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===N.name}function ke(G){return G!==G}const $e=function(){const G="0123456789abcdef",N=new Array(256);for(let F=0;F<16;++F){const X=F*16;for(let ie=0;ie<16;++ie)N[X+ie]=G[F]+G[ie]}return N}();function Ce(G){return typeof BigInt>"u"?Oe:G}function Oe(){throw new Error("BigInt not supported")}})(M0);var jg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uw=typeof window>"u"||"Deno"in globalThis;function zo(){}function sQ(t,e){return typeof t=="function"?t(e):t}function oQ(t){return typeof t=="number"&&t>=0&&t!==1/0}function aQ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function WA(t,e){return typeof t=="function"?t(e):t}function VA(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==i7(o,e.options))return!1}else if(!D1(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function KA(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Lf(e.options.mutationKey)!==Lf(s))return!1}else if(!D1(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function i7(t,e){return((e==null?void 0:e.queryKeyHashFn)||Lf)(t)}function Lf(t){return JSON.stringify(t,(e,r)=>x4(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function D1(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!D1(t[r],e[r])):!1}function lT(t,e){if(t===e)return t;const r=GA(t)&&GA(e);if(r||x4(t)&&x4(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,a=r?[]:{};let c=0;for(let l=0;l<o;l++){const h=r?l:s[l];(!r&&n.includes(h)||r)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=lT(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function cQ(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function GA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function x4(t){if(!JA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!JA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JA(t){return Object.prototype.toString.call(t)==="[object Object]"}function lQ(t){return new Promise(e=>{setTimeout(e,t)})}function uQ(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?lT(t,e):e}function fQ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function hQ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var uT=Symbol(),fT=(t,e)=>!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===uT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,Af,jl,$d,UO,dQ=(UO=class extends jg{constructor(){super();Zt(this,Af);Zt(this,jl);Zt(this,$d);Ct(this,$d,e=>{if(!Uw&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){we(this,jl)||this.setEventListener(we(this,$d))}onUnsubscribe(){var e;this.hasListeners()||((e=we(this,jl))==null||e.call(this),Ct(this,jl,void 0))}setEventListener(e){var r;Ct(this,$d,e),(r=we(this,jl))==null||r.call(this),Ct(this,jl,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){we(this,Af)!==e&&(Ct(this,Af,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof we(this,Af)=="boolean"?we(this,Af):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Af=new WeakMap,jl=new WeakMap,$d=new WeakMap,UO),hT=new dQ,Dd,Ul,Ld,zO,pQ=(zO=class extends jg{constructor(){super();Zt(this,Dd,!0);Zt(this,Ul);Zt(this,Ld);Ct(this,Ld,e=>{if(!Uw&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){we(this,Ul)||this.setEventListener(we(this,Ld))}onUnsubscribe(){var e;this.hasListeners()||((e=we(this,Ul))==null||e.call(this),Ct(this,Ul,void 0))}setEventListener(e){var r;Ct(this,Ld,e),(r=we(this,Ul))==null||r.call(this),Ct(this,Ul,e(this.setOnline.bind(this)))}setOnline(e){we(this,Dd)!==e&&(Ct(this,Dd,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return we(this,Dd)}},Dd=new WeakMap,Ul=new WeakMap,Ld=new WeakMap,zO),A2=new pQ;function gQ(t){return Math.min(1e3*2**t,3e4)}function dT(t){return(t??"online")==="online"?A2.isOnline():!0}var pT=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function t6(t){return t instanceof pT}function gT(t){let e=!1,r=0,n=!1,i,s,o;const a=new Promise((R,P)=>{s=R,o=P}),c=R=>{var P;n||(S(new pT(R)),(P=t.abort)==null||P.call(t))},l=()=>{e=!0},h=()=>{e=!1},p=()=>hT.isFocused()&&(t.networkMode==="always"||A2.isOnline())&&t.canRun(),v=()=>dT(t.networkMode)&&t.canRun(),b=R=>{var P;n||(n=!0,(P=t.onSuccess)==null||P.call(t,R),i==null||i(),s(R))},S=R=>{var P;n||(n=!0,(P=t.onError)==null||P.call(t,R),i==null||i(),o(R))},T=()=>new Promise(R=>{var P;i=O=>{(n||p())&&R(O)},(P=t.onPause)==null||P.call(t)}).then(()=>{var R;i=void 0,n||(R=t.onContinue)==null||R.call(t)}),B=()=>{if(n)return;let R;const P=r===0?t.initialPromise:void 0;try{R=P??t.fn()}catch(O){R=Promise.reject(O)}Promise.resolve(R).then(b).catch(O=>{var H;if(n)return;const L=t.retry??(Uw?0:3),D=t.retryDelay??gQ,q=typeof D=="function"?D(r,O):D,M=L===!0||typeof L=="number"&&r<L||typeof L=="function"&&L(r,O);if(e||!M){S(O);return}r++,(H=t.onFail)==null||H.call(t,r,O),lQ(q).then(()=>p()?void 0:T()).then(()=>{e?S(O):B()})})};return{promise:a,cancel:c,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:h,canStart:v,start:()=>(v()?B():T().then(B),a)}}function mQ(){let t=[],e=0,r=v=>{v()},n=v=>{v()},i=v=>setTimeout(v,0);const s=v=>{i=v},o=v=>{let b;e++;try{b=v()}finally{e--,e||l()}return b},a=v=>{e?t.push(v):i(()=>{r(v)})},c=v=>(...b)=>{a(()=>{v(...b)})},l=()=>{const v=t;t=[],v.length&&i(()=>{n(()=>{v.forEach(b=>{r(b)})})})};return{batch:o,batchCalls:c,schedule:a,setNotifyFunction:v=>{r=v},setBatchNotifyFunction:v=>{n=v},setScheduler:s}}var ni=mQ(),If,qO,mT=(qO=class{constructor(){Zt(this,If)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),oQ(this.gcTime)&&Ct(this,If,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uw?1/0:5*60*1e3))}clearGcTimeout(){we(this,If)&&(clearTimeout(we(this,If)),Ct(this,If,void 0))}},If=new WeakMap,qO),Bd,Fd,ao,bi,Lg,Cf,Wo,Ic,HO,vQ=(HO=class extends mT{constructor(e){super();Zt(this,Wo);Zt(this,Bd);Zt(this,Fd);Zt(this,ao);Zt(this,bi);Zt(this,Lg);Zt(this,Cf);Ct(this,Cf,!1),Ct(this,Lg,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ct(this,ao,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ct(this,Bd,e.state||wQ(this.options)),this.state=we(this,Bd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=we(this,bi))==null?void 0:e.promise}setOptions(e){this.options={...we(this,Lg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&we(this,ao).remove(this)}setData(e,r){const n=uQ(this.state.data,e,this.options);return fn(this,Wo,Ic).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){fn(this,Wo,Ic).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=we(this,bi))==null?void 0:n.promise;return(i=we(this,bi))==null||i.cancel(e),r?r.then(zo).catch(zo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(we(this,Bd))}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!aQ(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=we(this,bi))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=we(this,bi))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),we(this,ao).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(we(this,bi)&&(we(this,Cf)?we(this,bi).cancel({revert:!0}):we(this,bi).cancelRetry()),this.scheduleGc()),we(this,ao).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fn(this,Wo,Ic).call(this,{type:"invalidate"})}fetch(e,r){var c,l,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(we(this,bi))return we(this,bi).continueRetry(),we(this,bi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Ct(this,Cf,!0),n.signal)})},s=()=>{const p=fT(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return i(v),Ct(this,Cf,!1),this.options.persister?this.options.persister(p,v,this):p(v)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ct(this,Fd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&fn(this,Wo,Ic).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const a=p=>{var v,b,S,T;t6(p)&&p.silent||fn(this,Wo,Ic).call(this,{type:"error",error:p}),t6(p)||((b=(v=we(this,ao).config).onError)==null||b.call(v,p,this),(T=(S=we(this,ao).config).onSettled)==null||T.call(S,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ct(this,bi,gT({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var v,b,S,T;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(b=(v=we(this,ao).config).onSuccess)==null||b.call(v,p,this),(T=(S=we(this,ao).config).onSettled)==null||T.call(S,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(p,v)=>{fn(this,Wo,Ic).call(this,{type:"failed",failureCount:p,error:v})},onPause:()=>{fn(this,Wo,Ic).call(this,{type:"pause"})},onContinue:()=>{fn(this,Wo,Ic).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),we(this,bi).start()}},Bd=new WeakMap,Fd=new WeakMap,ao=new WeakMap,bi=new WeakMap,Lg=new WeakMap,Cf=new WeakMap,Wo=new WeakSet,Ic=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yQ(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return t6(i)&&i.revert&&we(this,Fd)?{...we(this,Fd),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ni.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),we(this,ao).notify({query:this,type:"updated",action:e})})},HO);function yQ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wQ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ka,WO,bQ=(WO=class extends jg{constructor(e={}){super();Zt(this,ka);this.config=e,Ct(this,ka,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??i7(i,r);let o=this.get(s);return o||(o=new vQ({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){we(this,ka).has(e.queryHash)||(we(this,ka).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=we(this,ka).get(e.queryHash);r&&(e.destroy(),r===e&&we(this,ka).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ni.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return we(this,ka).get(e)}getAll(){return[...we(this,ka).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>VA(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>VA(e,n)):r}notify(e){ni.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ni.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ni.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ka=new WeakMap,WO),Oa,Ti,Mf,Ta,Il,VO,_Q=(VO=class extends mT{constructor(e){super();Zt(this,Ta);Zt(this,Oa);Zt(this,Ti);Zt(this,Mf);this.mutationId=e.mutationId,Ct(this,Ti,e.mutationCache),Ct(this,Oa,[]),this.state=e.state||vT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){we(this,Oa).includes(e)||(we(this,Oa).push(e),this.clearGcTimeout(),we(this,Ti).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ct(this,Oa,we(this,Oa).filter(r=>r!==e)),this.scheduleGc(),we(this,Ti).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){we(this,Oa).length||(this.state.status==="pending"?this.scheduleGc():we(this,Ti).remove(this))}continue(){var e;return((e=we(this,Mf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,c,l,h,p,v,b,S,T,B,R,P,O,L,D,q,M;Ct(this,Mf,gT({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(H,te)=>{fn(this,Ta,Il).call(this,{type:"failed",failureCount:H,error:te})},onPause:()=>{fn(this,Ta,Il).call(this,{type:"pause"})},onContinue:()=>{fn(this,Ta,Il).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>we(this,Ti).canRun(this)}));const r=this.state.status==="pending",n=!we(this,Mf).canStart();try{if(!r){fn(this,Ta,Il).call(this,{type:"pending",variables:e,isPaused:n}),await((s=(i=we(this,Ti).config).onMutate)==null?void 0:s.call(i,e,this));const te=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));te!==this.state.context&&fn(this,Ta,Il).call(this,{type:"pending",context:te,variables:e,isPaused:n})}const H=await we(this,Mf).start();return await((l=(c=we(this,Ti).config).onSuccess)==null?void 0:l.call(c,H,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,H,e,this.state.context)),await((b=(v=we(this,Ti).config).onSettled)==null?void 0:b.call(v,H,null,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,H,null,e,this.state.context)),fn(this,Ta,Il).call(this,{type:"success",data:H}),H}catch(H){try{throw await((R=(B=we(this,Ti).config).onError)==null?void 0:R.call(B,H,e,this.state.context,this)),await((O=(P=this.options).onError)==null?void 0:O.call(P,H,e,this.state.context)),await((D=(L=we(this,Ti).config).onSettled)==null?void 0:D.call(L,void 0,H,this.state.variables,this.state.context,this)),await((M=(q=this.options).onSettled)==null?void 0:M.call(q,void 0,H,e,this.state.context)),H}finally{fn(this,Ta,Il).call(this,{type:"error",error:H})}}finally{we(this,Ti).runNext(this)}}},Oa=new WeakMap,Ti=new WeakMap,Mf=new WeakMap,Ta=new WeakSet,Il=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ni.batch(()=>{we(this,Oa).forEach(n=>{n.onMutationUpdate(e)}),we(this,Ti).notify({mutation:this,type:"updated",action:e})})},VO);function vT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cs,Bg,KO,EQ=(KO=class extends jg{constructor(e={}){super();Zt(this,Cs);Zt(this,Bg);this.config=e,Ct(this,Cs,new Map),Ct(this,Bg,Date.now())}build(e,r,n){const i=new _Q({mutationCache:this,mutationId:++zv(this,Bg)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=Hv(e),n=we(this,Cs).get(r)??[];n.push(e),we(this,Cs).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Hv(e);if(we(this,Cs).has(r)){const i=(n=we(this,Cs).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?we(this,Cs).delete(r):we(this,Cs).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=we(this,Cs).get(Hv(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=we(this,Cs).get(Hv(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ni.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...we(this,Cs).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>KA(r,n))}findAll(e={}){return this.getAll().filter(r=>KA(e,r))}notify(e){ni.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ni.batch(()=>Promise.all(e.map(r=>r.continue().catch(zo))))}},Cs=new WeakMap,Bg=new WeakMap,KO);function Hv(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function SQ(t){return{onFetch:(e,r)=>{const n=async()=>{var S,T,B,R,P;const i=e.options,s=(B=(T=(S=e.fetchOptions)==null?void 0:S.meta)==null?void 0:T.fetchMore)==null?void 0:B.direction,o=((R=e.state.data)==null?void 0:R.pages)||[],a=((P=e.state.data)==null?void 0:P.pageParams)||[],c={pages:[],pageParams:[]};let l=!1;const h=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},p=fT(e.options,e.fetchOptions),v=async(O,L,D)=>{if(l)return Promise.reject();if(L==null&&O.pages.length)return Promise.resolve(O);const q={queryKey:e.queryKey,pageParam:L,direction:D?"backward":"forward",meta:e.options.meta};h(q);const M=await p(q),{maxPages:H}=e.options,te=D?hQ:fQ;return{pages:te(O.pages,M,H),pageParams:te(O.pageParams,L,H)}};let b;if(s&&o.length){const O=s==="backward",L=O?xQ:QA,D={pages:o,pageParams:a},q=L(i,D);b=await v(D,q,O)}else{b=await v(c,a[0]??i.initialPageParam);const O=t??o.length;for(let L=1;L<O;L++){const D=QA(i,b);b=await v(b,D)}}return b};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function QA(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function xQ(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}var rn,zl,ql,jd,Ud,Hl,zd,qd,GO,AQ=(GO=class{constructor(t={}){Zt(this,rn);Zt(this,zl);Zt(this,ql);Zt(this,jd);Zt(this,Ud);Zt(this,Hl);Zt(this,zd);Zt(this,qd);Ct(this,rn,t.queryCache||new bQ),Ct(this,zl,t.mutationCache||new EQ),Ct(this,ql,t.defaultOptions||{}),Ct(this,jd,new Map),Ct(this,Ud,new Map),Ct(this,Hl,0)}mount(){zv(this,Hl)._++,we(this,Hl)===1&&(Ct(this,zd,hT.subscribe(async t=>{t&&(await this.resumePausedMutations(),we(this,rn).onFocus())})),Ct(this,qd,A2.subscribe(async t=>{t&&(await this.resumePausedMutations(),we(this,rn).onOnline())})))}unmount(){var t,e;zv(this,Hl)._--,we(this,Hl)===0&&((t=we(this,zd))==null||t.call(this),Ct(this,zd,void 0),(e=we(this,qd))==null||e.call(this),Ct(this,qd,void 0))}isFetching(t){return we(this,rn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return we(this,zl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=we(this,rn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=we(this,rn).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(WA(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return we(this,rn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=we(this,rn).get(n.queryHash),s=i==null?void 0:i.state.data,o=sQ(e,s);if(o!==void 0)return we(this,rn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ni.batch(()=>we(this,rn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=we(this,rn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=we(this,rn);ni.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=we(this,rn),n={type:"active",...t};return ni.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=ni.batch(()=>we(this,rn).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(zo).catch(zo)}invalidateQueries(t={},e={}){return ni.batch(()=>{if(we(this,rn).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=ni.batch(()=>we(this,rn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(zo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(zo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=we(this,rn).build(this,e);return r.isStaleByTime(WA(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zo).catch(zo)}fetchInfiniteQuery(t){return t.behavior=SQ(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zo).catch(zo)}resumePausedMutations(){return A2.isOnline()?we(this,zl).resumePausedMutations():Promise.resolve()}getQueryCache(){return we(this,rn)}getMutationCache(){return we(this,zl)}getDefaultOptions(){return we(this,ql)}setDefaultOptions(t){Ct(this,ql,t)}setQueryDefaults(t,e){we(this,jd).set(Lf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...we(this,jd).values()];let r={};return e.forEach(n=>{D1(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){we(this,Ud).set(Lf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...we(this,Ud).values()];let r={};return e.forEach(n=>{D1(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...we(this,ql).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=i7(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===uT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...we(this,ql).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){we(this,rn).clear(),we(this,zl).clear()}},rn=new WeakMap,zl=new WeakMap,ql=new WeakMap,jd=new WeakMap,Ud=new WeakMap,Hl=new WeakMap,zd=new WeakMap,qd=new WeakMap,GO),Wl,Vl,rs,$c,Wc,Qy,A4,JO,IQ=(JO=class extends jg{constructor(r,n){super();Zt(this,Wc);Zt(this,Wl);Zt(this,Vl);Zt(this,rs);Zt(this,$c);Ct(this,Wl,r),this.setOptions(n),this.bindMethods(),fn(this,Wc,Qy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=we(this,Wl).defaultMutationOptions(r),cQ(this.options,n)||we(this,Wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:we(this,rs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Lf(n.mutationKey)!==Lf(this.options.mutationKey)?this.reset():((i=we(this,rs))==null?void 0:i.state.status)==="pending"&&we(this,rs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=we(this,rs))==null||r.removeObserver(this)}onMutationUpdate(r){fn(this,Wc,Qy).call(this),fn(this,Wc,A4).call(this,r)}getCurrentResult(){return we(this,Vl)}reset(){var r;(r=we(this,rs))==null||r.removeObserver(this),Ct(this,rs,void 0),fn(this,Wc,Qy).call(this),fn(this,Wc,A4).call(this)}mutate(r,n){var i;return Ct(this,$c,n),(i=we(this,rs))==null||i.removeObserver(this),Ct(this,rs,we(this,Wl).getMutationCache().build(we(this,Wl),this.options)),we(this,rs).addObserver(this),we(this,rs).execute(r)}},Wl=new WeakMap,Vl=new WeakMap,rs=new WeakMap,$c=new WeakMap,Wc=new WeakSet,Qy=function(){var n;const r=((n=we(this,rs))==null?void 0:n.state)??vT();Ct(this,Vl,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},A4=function(r){ni.batch(()=>{var n,i,s,o,a,c,l,h;if(we(this,$c)&&this.hasListeners()){const p=we(this,Vl).variables,v=we(this,Vl).context;(r==null?void 0:r.type)==="success"?((i=(n=we(this,$c)).onSuccess)==null||i.call(n,r.data,p,v),(o=(s=we(this,$c)).onSettled)==null||o.call(s,r.data,null,p,v)):(r==null?void 0:r.type)==="error"&&((c=(a=we(this,$c)).onError)==null||c.call(a,r.error,p,v),(h=(l=we(this,$c)).onSettled)==null||h.call(l,void 0,r.error,p,v))}this.listeners.forEach(p=>{p(we(this,Vl))})})},JO),yT=Ir.createContext(void 0),CQ=t=>{const e=Ir.useContext(yT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},MQ=({client:t,children:e})=>(Ir.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),xt.jsx(yT.Provider,{value:t,children:e}));function RQ(t,e){return typeof t=="function"?t(...e):!!t}function PQ(){}function wT(t,e){const r=CQ(),[n]=Ir.useState(()=>new IQ(r,t));Ir.useEffect(()=>{n.setOptions(t)},[n,t]);const i=Ir.useSyncExternalStore(Ir.useCallback(o=>n.subscribe(ni.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=Ir.useCallback((o,a)=>{n.mutate(o,a).catch(PQ)},[n]);if(i.error&&RQ(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var I4={},bT={exports:{}},Bs={},_T={exports:{}},ET={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,A){var w=C.length;C.push(A);e:for(;0<w;){var y=w-1>>>1,E=C[y];if(0<i(E,A))C[y]=A,C[w]=E,w=y;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var A=C[0],w=C.pop();if(w!==A){C[0]=w;e:for(var y=0,E=C.length,V=E>>>1;y<V;){var ce=2*(y+1)-1,U=C[ce],Z=ce+1,W=C[Z];if(0>i(U,w))Z<E&&0>i(W,U)?(C[y]=W,C[Z]=w,y=Z):(C[y]=U,C[ce]=w,y=ce);else if(Z<E&&0>i(W,w))C[y]=W,C[Z]=w,y=Z;else break e}}return A}function i(C,A){var w=C.sortIndex-A.sortIndex;return w!==0?w:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],h=1,p=null,v=3,b=!1,S=!1,T=!1,B=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(C){for(var A=r(l);A!==null;){if(A.callback===null)n(l);else if(A.startTime<=C)n(l),A.sortIndex=A.expirationTime,e(c,A);else break;A=r(l)}}function L(C){if(T=!1,O(C),!S)if(r(c)!==null)S=!0,_(D);else{var A=r(l);A!==null&&I(L,A.startTime-C)}}function D(C,A){S=!1,T&&(T=!1,R(H),H=-1),b=!0;var w=v;try{for(O(A),p=r(c);p!==null&&(!(p.expirationTime>A)||C&&!K());){var y=p.callback;if(typeof y=="function"){p.callback=null,v=p.priorityLevel;var E=y(p.expirationTime<=A);A=t.unstable_now(),typeof E=="function"?p.callback=E:p===r(c)&&n(c),O(A)}else n(c);p=r(c)}if(p!==null)var V=!0;else{var ce=r(l);ce!==null&&I(L,ce.startTime-A),V=!1}return V}finally{p=null,v=w,b=!1}}var q=!1,M=null,H=-1,te=5,oe=-1;function K(){return!(t.unstable_now()-oe<te)}function k(){if(M!==null){var C=t.unstable_now();oe=C;var A=!0;try{A=M(!0,C)}finally{A?g():(q=!1,M=null)}}else q=!1}var g;if(typeof P=="function")g=function(){P(k)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,m=f.port2;f.port1.onmessage=k,g=function(){m.postMessage(null)}}else g=function(){B(k,0)};function _(C){M=C,q||(q=!0,g())}function I(C,A){H=B(function(){C(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,_(D))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(C){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var w=v;v=A;try{return C()}finally{v=w}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var w=v;v=C;try{return A()}finally{v=w}},t.unstable_scheduleCallback=function(C,A,w){var y=t.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?y+w:y):w=y,C){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=w+E,C={id:h++,callback:A,priorityLevel:C,startTime:w,expirationTime:E,sortIndex:-1},w>y?(C.sortIndex=w,e(l,C),r(c)===null&&C===r(l)&&(T?(R(H),H=-1):T=!0,I(L,w-y))):(C.sortIndex=E,e(c,C),S||b||(S=!0,_(D))),C},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(C){var A=v;return function(){var w=v;v=A;try{return C.apply(this,arguments)}finally{v=w}}}})(ET);_T.exports=ET;var kQ=_T.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OQ=Ir,$s=kQ;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ST=new Set,L1={};function th(t,e){Hd(t,e),Hd(t+"Capture",e)}function Hd(t,e){for(L1[t]=e,t=0;t<e.length;t++)ST.add(e[t])}var Vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C4=Object.prototype.hasOwnProperty,TQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YA={},ZA={};function NQ(t){return C4.call(ZA,t)?!0:C4.call(YA,t)?!1:TQ.test(t)?ZA[t]=!0:(YA[t]=!0,!1)}function $Q(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DQ(t,e,r,n){if(e===null||typeof e>"u"||$Q(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hi(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ai[t]=new Hi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ai[e]=new Hi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ai[t]=new Hi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ai[t]=new Hi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ai[t]=new Hi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ai[t]=new Hi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ai[t]=new Hi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ai[t]=new Hi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ai[t]=new Hi(t,5,!1,t.toLowerCase(),null,!1,!1)});var s7=/[\-:]([a-z])/g;function o7(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(s7,o7);ai[e]=new Hi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(s7,o7);ai[e]=new Hi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(s7,o7);ai[e]=new Hi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ai[t]=new Hi(t,1,!1,t.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ai[t]=new Hi(t,1,!1,t.toLowerCase(),null,!0,!0)});function a7(t,e,r,n){var i=ai.hasOwnProperty(e)?ai[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DQ(e,r,i,n)&&(r=null),n||i===null?NQ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var nl=OQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wv=Symbol.for("react.element"),rd=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),c7=Symbol.for("react.strict_mode"),M4=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),AT=Symbol.for("react.context"),l7=Symbol.for("react.forward_ref"),R4=Symbol.for("react.suspense"),P4=Symbol.for("react.suspense_list"),u7=Symbol.for("react.memo"),Cl=Symbol.for("react.lazy"),IT=Symbol.for("react.offscreen"),XA=Symbol.iterator;function Cp(t){return t===null||typeof t!="object"?null:(t=XA&&t[XA]||t["@@iterator"],typeof t=="function"?t:null)}var Qr=Object.assign,r6;function i1(t){if(r6===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);r6=e&&e[1]||""}return`
`+r6+t}var n6=!1;function i6(t,e){if(!t||n6)return"";n6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{n6=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?i1(t):""}function LQ(t){switch(t.tag){case 5:return i1(t.type);case 16:return i1("Lazy");case 13:return i1("Suspense");case 19:return i1("SuspenseList");case 0:case 2:case 15:return t=i6(t.type,!1),t;case 11:return t=i6(t.type.render,!1),t;case 1:return t=i6(t.type,!0),t;default:return""}}function k4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nd:return"Fragment";case rd:return"Portal";case M4:return"Profiler";case c7:return"StrictMode";case R4:return"Suspense";case P4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AT:return(t.displayName||"Context")+".Consumer";case xT:return(t._context.displayName||"Context")+".Provider";case l7:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u7:return e=t.displayName||null,e!==null?e:k4(t.type)||"Memo";case Cl:e=t._payload,t=t._init;try{return k4(t(e))}catch{}}return null}function BQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k4(e);case 8:return e===c7?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function du(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FQ(t){var e=CT(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vv(t){t._valueTracker||(t._valueTracker=FQ(t))}function MT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=CT(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function I2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function O4(t,e){var r=e.checked;return Qr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function eI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=du(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RT(t,e){e=e.checked,e!=null&&a7(t,"checked",e,!1)}function T4(t,e){RT(t,e);var r=du(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N4(t,e.type,r):e.hasOwnProperty("defaultValue")&&N4(t,e.type,du(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function N4(t,e,r){(e!=="number"||I2(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var s1=Array.isArray;function vd(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+du(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return Qr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(s1(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:du(r)}}function PT(t,e){var r=du(e.value),n=du(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function nI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kv,OT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kv=Kv||document.createElement("div"),Kv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function B1(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var h1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jQ=["Webkit","ms","Moz","O"];Object.keys(h1).forEach(function(t){jQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),h1[e]=h1[t]})});function TT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||h1.hasOwnProperty(t)&&h1[t]?(""+e).trim():e+"px"}function NT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=TT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var UQ=Qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function L4(t,e){if(e){if(UQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function B4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F4=null;function f7(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var j4=null,yd=null,wd=null;function iI(t){if(t=qg(t)){if(typeof j4!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=Vw(e),j4(t.stateNode,t.type,e))}}function $T(t){yd?wd?wd.push(t):wd=[t]:yd=t}function DT(){if(yd){var t=yd,e=wd;if(wd=yd=null,iI(t),e)for(t=0;t<e.length;t++)iI(e[t])}}function LT(t,e){return t(e)}function BT(){}var s6=!1;function FT(t,e,r){if(s6)return t(e,r);s6=!0;try{return LT(t,e,r)}finally{s6=!1,(yd!==null||wd!==null)&&(BT(),DT())}}function F1(t,e){var r=t.stateNode;if(r===null)return null;var n=Vw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var U4=!1;if(Vc)try{var Mp={};Object.defineProperty(Mp,"passive",{get:function(){U4=!0}}),window.addEventListener("test",Mp,Mp),window.removeEventListener("test",Mp,Mp)}catch{U4=!1}function zQ(t,e,r,n,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(h){this.onError(h)}}var d1=!1,C2=null,M2=!1,z4=null,qQ={onError:function(t){d1=!0,C2=t}};function HQ(t,e,r,n,i,s,o,a,c){d1=!1,C2=null,zQ.apply(qQ,arguments)}function WQ(t,e,r,n,i,s,o,a,c){if(HQ.apply(this,arguments),d1){if(d1){var l=C2;d1=!1,C2=null}else throw Error(Le(198));M2||(M2=!0,z4=l)}}function rh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function jT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sI(t){if(rh(t)!==t)throw Error(Le(188))}function VQ(t){var e=t.alternate;if(!e){if(e=rh(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return sI(i),t;if(s===n)return sI(i),e;s=s.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function UT(t){return t=VQ(t),t!==null?zT(t):null}function zT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zT(t);if(e!==null)return e;t=t.sibling}return null}var qT=$s.unstable_scheduleCallback,oI=$s.unstable_cancelCallback,KQ=$s.unstable_shouldYield,GQ=$s.unstable_requestPaint,gn=$s.unstable_now,JQ=$s.unstable_getCurrentPriorityLevel,h7=$s.unstable_ImmediatePriority,HT=$s.unstable_UserBlockingPriority,R2=$s.unstable_NormalPriority,QQ=$s.unstable_LowPriority,WT=$s.unstable_IdlePriority,zw=null,za=null;function YQ(t){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(zw,t,void 0,(t.current.flags&128)===128)}catch{}}var Yo=Math.clz32?Math.clz32:eY,ZQ=Math.log,XQ=Math.LN2;function eY(t){return t>>>=0,t===0?32:31-(ZQ(t)/XQ|0)|0}var Gv=64,Jv=4194304;function o1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function P2(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=o1(a):(s&=o,s!==0&&(n=o1(s)))}else o=r&~i,o!==0?n=o1(o):s!==0&&(n=o1(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yo(e),i=1<<r,n|=t[r],e&=~i;return n}function tY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rY(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yo(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=tY(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function q4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VT(){var t=Gv;return Gv<<=1,!(Gv&4194240)&&(Gv=64),t}function o6(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ug(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yo(e),t[e]=r}function nY(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Yo(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function d7(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var gr=0;function KT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GT,p7,JT,QT,YT,H4=!1,Qv=[],ru=null,nu=null,iu=null,j1=new Map,U1=new Map,Nl=[],iY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aI(t,e){switch(t){case"focusin":case"focusout":ru=null;break;case"dragenter":case"dragleave":nu=null;break;case"mouseover":case"mouseout":iu=null;break;case"pointerover":case"pointerout":j1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":U1.delete(e.pointerId)}}function Rp(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=qg(e),e!==null&&p7(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sY(t,e,r,n,i){switch(e){case"focusin":return ru=Rp(ru,t,e,r,n,i),!0;case"dragenter":return nu=Rp(nu,t,e,r,n,i),!0;case"mouseover":return iu=Rp(iu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return j1.set(s,Rp(j1.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,U1.set(s,Rp(U1.get(s)||null,t,e,r,n,i)),!0}return!1}function ZT(t){var e=mf(t.target);if(e!==null){var r=rh(e);if(r!==null){if(e=r.tag,e===13){if(e=jT(r),e!==null){t.blockedOn=e,YT(t.priority,function(){JT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=W4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);F4=n,r.target.dispatchEvent(n),F4=null}else return e=qg(r),e!==null&&p7(e),t.blockedOn=r,!1;e.shift()}return!0}function cI(t,e,r){Yy(t)&&r.delete(e)}function oY(){H4=!1,ru!==null&&Yy(ru)&&(ru=null),nu!==null&&Yy(nu)&&(nu=null),iu!==null&&Yy(iu)&&(iu=null),j1.forEach(cI),U1.forEach(cI)}function Pp(t,e){t.blockedOn===e&&(t.blockedOn=null,H4||(H4=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,oY)))}function z1(t){function e(i){return Pp(i,t)}if(0<Qv.length){Pp(Qv[0],t);for(var r=1;r<Qv.length;r++){var n=Qv[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ru!==null&&Pp(ru,t),nu!==null&&Pp(nu,t),iu!==null&&Pp(iu,t),j1.forEach(e),U1.forEach(e),r=0;r<Nl.length;r++)n=Nl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Nl.length&&(r=Nl[0],r.blockedOn===null);)ZT(r),r.blockedOn===null&&Nl.shift()}var bd=nl.ReactCurrentBatchConfig,k2=!0;function aY(t,e,r,n){var i=gr,s=bd.transition;bd.transition=null;try{gr=1,g7(t,e,r,n)}finally{gr=i,bd.transition=s}}function cY(t,e,r,n){var i=gr,s=bd.transition;bd.transition=null;try{gr=4,g7(t,e,r,n)}finally{gr=i,bd.transition=s}}function g7(t,e,r,n){if(k2){var i=W4(t,e,r,n);if(i===null)m6(t,e,n,O2,r),aI(t,n);else if(sY(i,t,e,r,n))n.stopPropagation();else if(aI(t,n),e&4&&-1<iY.indexOf(t)){for(;i!==null;){var s=qg(i);if(s!==null&&GT(s),s=W4(t,e,r,n),s===null&&m6(t,e,n,O2,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else m6(t,e,n,null,r)}}var O2=null;function W4(t,e,r,n){if(O2=null,t=f7(n),t=mf(t),t!==null)if(e=rh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=jT(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return O2=t,null}function XT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JQ()){case h7:return 1;case HT:return 4;case R2:case QQ:return 16;case WT:return 536870912;default:return 16}default:return 16}}var Kl=null,m7=null,Zy=null;function eN(){if(Zy)return Zy;var t,e=m7,r=e.length,n,i="value"in Kl?Kl.value:Kl.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Zy=i.slice(t,1<n?1-n:void 0)}function Xy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yv(){return!0}function lI(){return!1}function Fs(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yv:lI,this.isPropagationStopped=lI,this}return Qr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yv)},persist:function(){},isPersistent:Yv}),e}var R0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v7=Fs(R0),zg=Qr({},R0,{view:0,detail:0}),lY=Fs(zg),a6,c6,kp,qw=Qr({},zg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y7,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kp&&(kp&&t.type==="mousemove"?(a6=t.screenX-kp.screenX,c6=t.screenY-kp.screenY):c6=a6=0,kp=t),a6)},movementY:function(t){return"movementY"in t?t.movementY:c6}}),uI=Fs(qw),uY=Qr({},qw,{dataTransfer:0}),fY=Fs(uY),hY=Qr({},zg,{relatedTarget:0}),l6=Fs(hY),dY=Qr({},R0,{animationName:0,elapsedTime:0,pseudoElement:0}),pY=Fs(dY),gY=Qr({},R0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mY=Fs(gY),vY=Qr({},R0,{data:0}),fI=Fs(vY),yY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _Y(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bY[t])?!!e[t]:!1}function y7(){return _Y}var EY=Qr({},zg,{key:function(t){if(t.key){var e=yY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y7,charCode:function(t){return t.type==="keypress"?Xy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SY=Fs(EY),xY=Qr({},qw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hI=Fs(xY),AY=Qr({},zg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y7}),IY=Fs(AY),CY=Qr({},R0,{propertyName:0,elapsedTime:0,pseudoElement:0}),MY=Fs(CY),RY=Qr({},qw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PY=Fs(RY),kY=[9,13,27,32],w7=Vc&&"CompositionEvent"in window,p1=null;Vc&&"documentMode"in document&&(p1=document.documentMode);var OY=Vc&&"TextEvent"in window&&!p1,tN=Vc&&(!w7||p1&&8<p1&&11>=p1),dI=" ",pI=!1;function rN(t,e){switch(t){case"keyup":return kY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var id=!1;function TY(t,e){switch(t){case"compositionend":return nN(e);case"keypress":return e.which!==32?null:(pI=!0,dI);case"textInput":return t=e.data,t===dI&&pI?null:t;default:return null}}function NY(t,e){if(id)return t==="compositionend"||!w7&&rN(t,e)?(t=eN(),Zy=m7=Kl=null,id=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tN&&e.locale!=="ko"?null:e.data;default:return null}}var $Y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$Y[t.type]:e==="textarea"}function iN(t,e,r,n){$T(n),e=T2(e,"onChange"),0<e.length&&(r=new v7("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var g1=null,q1=null;function DY(t){gN(t,0)}function Hw(t){var e=ad(t);if(MT(e))return t}function LY(t,e){if(t==="change")return e}var sN=!1;if(Vc){var u6;if(Vc){var f6="oninput"in document;if(!f6){var mI=document.createElement("div");mI.setAttribute("oninput","return;"),f6=typeof mI.oninput=="function"}u6=f6}else u6=!1;sN=u6&&(!document.documentMode||9<document.documentMode)}function vI(){g1&&(g1.detachEvent("onpropertychange",oN),q1=g1=null)}function oN(t){if(t.propertyName==="value"&&Hw(q1)){var e=[];iN(e,q1,t,f7(t)),FT(DY,e)}}function BY(t,e,r){t==="focusin"?(vI(),g1=e,q1=r,g1.attachEvent("onpropertychange",oN)):t==="focusout"&&vI()}function FY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hw(q1)}function jY(t,e){if(t==="click")return Hw(e)}function UY(t,e){if(t==="input"||t==="change")return Hw(e)}function zY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xo=typeof Object.is=="function"?Object.is:zY;function H1(t,e){if(Xo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!C4.call(e,i)||!Xo(t[i],e[i]))return!1}return!0}function yI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wI(t,e){var r=yI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yI(r)}}function aN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cN(){for(var t=window,e=I2();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=I2(t.document)}return e}function b7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qY(t){var e=cN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&aN(r.ownerDocument.documentElement,r)){if(n!==null&&b7(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=wI(r,s);var o=wI(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HY=Vc&&"documentMode"in document&&11>=document.documentMode,sd=null,V4=null,m1=null,K4=!1;function bI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;K4||sd==null||sd!==I2(n)||(n=sd,"selectionStart"in n&&b7(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),m1&&H1(m1,n)||(m1=n,n=T2(V4,"onSelect"),0<n.length&&(e=new v7("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sd)))}function Zv(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var od={animationend:Zv("Animation","AnimationEnd"),animationiteration:Zv("Animation","AnimationIteration"),animationstart:Zv("Animation","AnimationStart"),transitionend:Zv("Transition","TransitionEnd")},h6={},lN={};Vc&&(lN=document.createElement("div").style,"AnimationEvent"in window||(delete od.animationend.animation,delete od.animationiteration.animation,delete od.animationstart.animation),"TransitionEvent"in window||delete od.transitionend.transition);function Ww(t){if(h6[t])return h6[t];if(!od[t])return t;var e=od[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in lN)return h6[t]=e[r];return t}var uN=Ww("animationend"),fN=Ww("animationiteration"),hN=Ww("animationstart"),dN=Ww("transitionend"),pN=new Map,_I="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eu(t,e){pN.set(t,e),th(e,[t])}for(var d6=0;d6<_I.length;d6++){var p6=_I[d6],WY=p6.toLowerCase(),VY=p6[0].toUpperCase()+p6.slice(1);Eu(WY,"on"+VY)}Eu(uN,"onAnimationEnd");Eu(fN,"onAnimationIteration");Eu(hN,"onAnimationStart");Eu("dblclick","onDoubleClick");Eu("focusin","onFocus");Eu("focusout","onBlur");Eu(dN,"onTransitionEnd");Hd("onMouseEnter",["mouseout","mouseover"]);Hd("onMouseLeave",["mouseout","mouseover"]);Hd("onPointerEnter",["pointerout","pointerover"]);Hd("onPointerLeave",["pointerout","pointerover"]);th("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));th("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));th("onBeforeInput",["compositionend","keypress","textInput","paste"]);th("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));th("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));th("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var a1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KY=new Set("cancel close invalid load scroll toggle".split(" ").concat(a1));function EI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,WQ(n,e,void 0,t),t.currentTarget=null}function gN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;EI(i,a,l),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;EI(i,a,l),s=c}}}if(M2)throw t=z4,M2=!1,z4=null,t}function Or(t,e){var r=e[Z4];r===void 0&&(r=e[Z4]=new Set);var n=t+"__bubble";r.has(n)||(mN(e,t,2,!1),r.add(n))}function g6(t,e,r){var n=0;e&&(n|=4),mN(r,t,n,e)}var Xv="_reactListening"+Math.random().toString(36).slice(2);function W1(t){if(!t[Xv]){t[Xv]=!0,ST.forEach(function(r){r!=="selectionchange"&&(KY.has(r)||g6(r,!1,t),g6(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xv]||(e[Xv]=!0,g6("selectionchange",!1,e))}}function mN(t,e,r,n){switch(XT(e)){case 1:var i=aY;break;case 4:i=cY;break;default:i=g7}r=i.bind(null,e,r,t),i=void 0,!U4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function m6(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mf(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}FT(function(){var l=s,h=f7(r),p=[];e:{var v=pN.get(t);if(v!==void 0){var b=v7,S=t;switch(t){case"keypress":if(Xy(r)===0)break e;case"keydown":case"keyup":b=SY;break;case"focusin":S="focus",b=l6;break;case"focusout":S="blur",b=l6;break;case"beforeblur":case"afterblur":b=l6;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=uI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=fY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=IY;break;case uN:case fN:case hN:b=pY;break;case dN:b=MY;break;case"scroll":b=lY;break;case"wheel":b=PY;break;case"copy":case"cut":case"paste":b=mY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=hI}var T=(e&4)!==0,B=!T&&t==="scroll",R=T?v!==null?v+"Capture":null:v;T=[];for(var P=l,O;P!==null;){O=P;var L=O.stateNode;if(O.tag===5&&L!==null&&(O=L,R!==null&&(L=F1(P,R),L!=null&&T.push(V1(P,L,O)))),B)break;P=P.return}0<T.length&&(v=new b(v,S,null,r,h),p.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",v&&r!==F4&&(S=r.relatedTarget||r.fromElement)&&(mf(S)||S[Kc]))break e;if((b||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,b?(S=r.relatedTarget||r.toElement,b=l,S=S?mf(S):null,S!==null&&(B=rh(S),S!==B||S.tag!==5&&S.tag!==6)&&(S=null)):(b=null,S=l),b!==S)){if(T=uI,L="onMouseLeave",R="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(T=hI,L="onPointerLeave",R="onPointerEnter",P="pointer"),B=b==null?v:ad(b),O=S==null?v:ad(S),v=new T(L,P+"leave",b,r,h),v.target=B,v.relatedTarget=O,L=null,mf(h)===l&&(T=new T(R,P+"enter",S,r,h),T.target=O,T.relatedTarget=B,L=T),B=L,b&&S)t:{for(T=b,R=S,P=0,O=T;O;O=Lh(O))P++;for(O=0,L=R;L;L=Lh(L))O++;for(;0<P-O;)T=Lh(T),P--;for(;0<O-P;)R=Lh(R),O--;for(;P--;){if(T===R||R!==null&&T===R.alternate)break t;T=Lh(T),R=Lh(R)}T=null}else T=null;b!==null&&SI(p,v,b,T,!1),S!==null&&B!==null&&SI(p,B,S,T,!0)}}e:{if(v=l?ad(l):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var D=LY;else if(gI(v))if(sN)D=UY;else{D=FY;var q=BY}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(D=jY);if(D&&(D=D(t,l))){iN(p,D,r,h);break e}q&&q(t,v,l),t==="focusout"&&(q=v._wrapperState)&&q.controlled&&v.type==="number"&&N4(v,"number",v.value)}switch(q=l?ad(l):window,t){case"focusin":(gI(q)||q.contentEditable==="true")&&(sd=q,V4=l,m1=null);break;case"focusout":m1=V4=sd=null;break;case"mousedown":K4=!0;break;case"contextmenu":case"mouseup":case"dragend":K4=!1,bI(p,r,h);break;case"selectionchange":if(HY)break;case"keydown":case"keyup":bI(p,r,h)}var M;if(w7)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else id?rN(t,r)&&(H="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(H="onCompositionStart");H&&(tN&&r.locale!=="ko"&&(id||H!=="onCompositionStart"?H==="onCompositionEnd"&&id&&(M=eN()):(Kl=h,m7="value"in Kl?Kl.value:Kl.textContent,id=!0)),q=T2(l,H),0<q.length&&(H=new fI(H,t,null,r,h),p.push({event:H,listeners:q}),M?H.data=M:(M=nN(r),M!==null&&(H.data=M)))),(M=OY?TY(t,r):NY(t,r))&&(l=T2(l,"onBeforeInput"),0<l.length&&(h=new fI("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:l}),h.data=M))}gN(p,e)})}function V1(t,e,r){return{instance:t,listener:e,currentTarget:r}}function T2(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=F1(t,r),s!=null&&n.unshift(V1(t,s,i)),s=F1(t,e),s!=null&&n.push(V1(t,s,i))),t=t.return}return n}function Lh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SI(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,i?(c=F1(r,s),c!=null&&o.unshift(V1(r,c,a))):i||(c=F1(r,s),c!=null&&o.push(V1(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var GY=/\r\n?/g,JY=/\u0000|\uFFFD/g;function xI(t){return(typeof t=="string"?t:""+t).replace(GY,`
`).replace(JY,"")}function ey(t,e,r){if(e=xI(e),xI(t)!==e&&r)throw Error(Le(425))}function N2(){}var G4=null,J4=null;function Q4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Y4=typeof setTimeout=="function"?setTimeout:void 0,QY=typeof clearTimeout=="function"?clearTimeout:void 0,AI=typeof Promise=="function"?Promise:void 0,YY=typeof queueMicrotask=="function"?queueMicrotask:typeof AI<"u"?function(t){return AI.resolve(null).then(t).catch(ZY)}:Y4;function ZY(t){setTimeout(function(){throw t})}function v6(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),z1(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);z1(e)}function su(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function II(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var P0=Math.random().toString(36).slice(2),La="__reactFiber$"+P0,K1="__reactProps$"+P0,Kc="__reactContainer$"+P0,Z4="__reactEvents$"+P0,XY="__reactListeners$"+P0,eZ="__reactHandles$"+P0;function mf(t){var e=t[La];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Kc]||r[La]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=II(t);t!==null;){if(r=t[La])return r;t=II(t)}return e}t=r,r=t.parentNode}return null}function qg(t){return t=t[La]||t[Kc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ad(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function Vw(t){return t[K1]||null}var X4=[],cd=-1;function Su(t){return{current:t}}function Nr(t){0>cd||(t.current=X4[cd],X4[cd]=null,cd--)}function Cr(t,e){cd++,X4[cd]=t.current,t.current=e}var pu={},Si=Su(pu),cs=Su(!1),Bf=pu;function Wd(t,e){var r=t.type.contextTypes;if(!r)return pu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ls(t){return t=t.childContextTypes,t!=null}function $2(){Nr(cs),Nr(Si)}function CI(t,e,r){if(Si.current!==pu)throw Error(Le(168));Cr(Si,e),Cr(cs,r)}function vN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Le(108,BQ(t)||"Unknown",i));return Qr({},r,n)}function D2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pu,Bf=Si.current,Cr(Si,t),Cr(cs,cs.current),!0}function MI(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=vN(t,e,Bf),n.__reactInternalMemoizedMergedChildContext=t,Nr(cs),Nr(Si),Cr(Si,t)):Nr(cs),Cr(cs,r)}var kc=null,Kw=!1,y6=!1;function yN(t){kc===null?kc=[t]:kc.push(t)}function tZ(t){Kw=!0,yN(t)}function xu(){if(!y6&&kc!==null){y6=!0;var t=0,e=gr;try{var r=kc;for(gr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}kc=null,Kw=!1}catch(i){throw kc!==null&&(kc=kc.slice(t+1)),qT(h7,xu),i}finally{gr=e,y6=!1}}return null}var ld=[],ud=0,L2=null,B2=0,uo=[],fo=0,Ff=null,Bc=1,Fc="";function sf(t,e){ld[ud++]=B2,ld[ud++]=L2,L2=t,B2=e}function wN(t,e,r){uo[fo++]=Bc,uo[fo++]=Fc,uo[fo++]=Ff,Ff=t;var n=Bc;t=Fc;var i=32-Yo(n)-1;n&=~(1<<i),r+=1;var s=32-Yo(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Bc=1<<32-Yo(e)+i|r<<i|n,Fc=s+t}else Bc=1<<s|r<<i|n,Fc=t}function _7(t){t.return!==null&&(sf(t,1),wN(t,1,0))}function E7(t){for(;t===L2;)L2=ld[--ud],ld[ud]=null,B2=ld[--ud],ld[ud]=null;for(;t===Ff;)Ff=uo[--fo],uo[fo]=null,Fc=uo[--fo],uo[fo]=null,Bc=uo[--fo],uo[fo]=null}var Ts=null,Rs=null,Ur=!1,Go=null;function bN(t,e){var r=po(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function RI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ts=t,Rs=su(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ts=t,Rs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ff!==null?{id:Bc,overflow:Fc}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=po(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ts=t,Rs=null,!0):!1;default:return!1}}function e8(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t8(t){if(Ur){var e=Rs;if(e){var r=e;if(!RI(t,e)){if(e8(t))throw Error(Le(418));e=su(r.nextSibling);var n=Ts;e&&RI(t,e)?bN(n,r):(t.flags=t.flags&-4097|2,Ur=!1,Ts=t)}}else{if(e8(t))throw Error(Le(418));t.flags=t.flags&-4097|2,Ur=!1,Ts=t}}}function PI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ts=t}function ty(t){if(t!==Ts)return!1;if(!Ur)return PI(t),Ur=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Q4(t.type,t.memoizedProps)),e&&(e=Rs)){if(e8(t))throw _N(),Error(Le(418));for(;e;)bN(t,e),e=su(e.nextSibling)}if(PI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Rs=su(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Rs=null}}else Rs=Ts?su(t.stateNode.nextSibling):null;return!0}function _N(){for(var t=Rs;t;)t=su(t.nextSibling)}function Vd(){Rs=Ts=null,Ur=!1}function S7(t){Go===null?Go=[t]:Go.push(t)}var rZ=nl.ReactCurrentBatchConfig;function Op(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function ry(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kI(t){var e=t._init;return e(t._payload)}function EN(t){function e(R,P){if(t){var O=R.deletions;O===null?(R.deletions=[P],R.flags|=16):O.push(P)}}function r(R,P){if(!t)return null;for(;P!==null;)e(R,P),P=P.sibling;return null}function n(R,P){for(R=new Map;P!==null;)P.key!==null?R.set(P.key,P):R.set(P.index,P),P=P.sibling;return R}function i(R,P){return R=lu(R,P),R.index=0,R.sibling=null,R}function s(R,P,O){return R.index=O,t?(O=R.alternate,O!==null?(O=O.index,O<P?(R.flags|=2,P):O):(R.flags|=2,P)):(R.flags|=1048576,P)}function o(R){return t&&R.alternate===null&&(R.flags|=2),R}function a(R,P,O,L){return P===null||P.tag!==6?(P=A6(O,R.mode,L),P.return=R,P):(P=i(P,O),P.return=R,P)}function c(R,P,O,L){var D=O.type;return D===nd?h(R,P,O.props.children,L,O.key):P!==null&&(P.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Cl&&kI(D)===P.type)?(L=i(P,O.props),L.ref=Op(R,P,O),L.return=R,L):(L=o2(O.type,O.key,O.props,null,R.mode,L),L.ref=Op(R,P,O),L.return=R,L)}function l(R,P,O,L){return P===null||P.tag!==4||P.stateNode.containerInfo!==O.containerInfo||P.stateNode.implementation!==O.implementation?(P=I6(O,R.mode,L),P.return=R,P):(P=i(P,O.children||[]),P.return=R,P)}function h(R,P,O,L,D){return P===null||P.tag!==7?(P=Pf(O,R.mode,L,D),P.return=R,P):(P=i(P,O),P.return=R,P)}function p(R,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return P=A6(""+P,R.mode,O),P.return=R,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Wv:return O=o2(P.type,P.key,P.props,null,R.mode,O),O.ref=Op(R,null,P),O.return=R,O;case rd:return P=I6(P,R.mode,O),P.return=R,P;case Cl:var L=P._init;return p(R,L(P._payload),O)}if(s1(P)||Cp(P))return P=Pf(P,R.mode,O,null),P.return=R,P;ry(R,P)}return null}function v(R,P,O,L){var D=P!==null?P.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return D!==null?null:a(R,P,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Wv:return O.key===D?c(R,P,O,L):null;case rd:return O.key===D?l(R,P,O,L):null;case Cl:return D=O._init,v(R,P,D(O._payload),L)}if(s1(O)||Cp(O))return D!==null?null:h(R,P,O,L,null);ry(R,O)}return null}function b(R,P,O,L,D){if(typeof L=="string"&&L!==""||typeof L=="number")return R=R.get(O)||null,a(P,R,""+L,D);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Wv:return R=R.get(L.key===null?O:L.key)||null,c(P,R,L,D);case rd:return R=R.get(L.key===null?O:L.key)||null,l(P,R,L,D);case Cl:var q=L._init;return b(R,P,O,q(L._payload),D)}if(s1(L)||Cp(L))return R=R.get(O)||null,h(P,R,L,D,null);ry(P,L)}return null}function S(R,P,O,L){for(var D=null,q=null,M=P,H=P=0,te=null;M!==null&&H<O.length;H++){M.index>H?(te=M,M=null):te=M.sibling;var oe=v(R,M,O[H],L);if(oe===null){M===null&&(M=te);break}t&&M&&oe.alternate===null&&e(R,M),P=s(oe,P,H),q===null?D=oe:q.sibling=oe,q=oe,M=te}if(H===O.length)return r(R,M),Ur&&sf(R,H),D;if(M===null){for(;H<O.length;H++)M=p(R,O[H],L),M!==null&&(P=s(M,P,H),q===null?D=M:q.sibling=M,q=M);return Ur&&sf(R,H),D}for(M=n(R,M);H<O.length;H++)te=b(M,R,H,O[H],L),te!==null&&(t&&te.alternate!==null&&M.delete(te.key===null?H:te.key),P=s(te,P,H),q===null?D=te:q.sibling=te,q=te);return t&&M.forEach(function(K){return e(R,K)}),Ur&&sf(R,H),D}function T(R,P,O,L){var D=Cp(O);if(typeof D!="function")throw Error(Le(150));if(O=D.call(O),O==null)throw Error(Le(151));for(var q=D=null,M=P,H=P=0,te=null,oe=O.next();M!==null&&!oe.done;H++,oe=O.next()){M.index>H?(te=M,M=null):te=M.sibling;var K=v(R,M,oe.value,L);if(K===null){M===null&&(M=te);break}t&&M&&K.alternate===null&&e(R,M),P=s(K,P,H),q===null?D=K:q.sibling=K,q=K,M=te}if(oe.done)return r(R,M),Ur&&sf(R,H),D;if(M===null){for(;!oe.done;H++,oe=O.next())oe=p(R,oe.value,L),oe!==null&&(P=s(oe,P,H),q===null?D=oe:q.sibling=oe,q=oe);return Ur&&sf(R,H),D}for(M=n(R,M);!oe.done;H++,oe=O.next())oe=b(M,R,H,oe.value,L),oe!==null&&(t&&oe.alternate!==null&&M.delete(oe.key===null?H:oe.key),P=s(oe,P,H),q===null?D=oe:q.sibling=oe,q=oe);return t&&M.forEach(function(k){return e(R,k)}),Ur&&sf(R,H),D}function B(R,P,O,L){if(typeof O=="object"&&O!==null&&O.type===nd&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Wv:e:{for(var D=O.key,q=P;q!==null;){if(q.key===D){if(D=O.type,D===nd){if(q.tag===7){r(R,q.sibling),P=i(q,O.props.children),P.return=R,R=P;break e}}else if(q.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Cl&&kI(D)===q.type){r(R,q.sibling),P=i(q,O.props),P.ref=Op(R,q,O),P.return=R,R=P;break e}r(R,q);break}else e(R,q);q=q.sibling}O.type===nd?(P=Pf(O.props.children,R.mode,L,O.key),P.return=R,R=P):(L=o2(O.type,O.key,O.props,null,R.mode,L),L.ref=Op(R,P,O),L.return=R,R=L)}return o(R);case rd:e:{for(q=O.key;P!==null;){if(P.key===q)if(P.tag===4&&P.stateNode.containerInfo===O.containerInfo&&P.stateNode.implementation===O.implementation){r(R,P.sibling),P=i(P,O.children||[]),P.return=R,R=P;break e}else{r(R,P);break}else e(R,P);P=P.sibling}P=I6(O,R.mode,L),P.return=R,R=P}return o(R);case Cl:return q=O._init,B(R,P,q(O._payload),L)}if(s1(O))return S(R,P,O,L);if(Cp(O))return T(R,P,O,L);ry(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,P!==null&&P.tag===6?(r(R,P.sibling),P=i(P,O),P.return=R,R=P):(r(R,P),P=A6(O,R.mode,L),P.return=R,R=P),o(R)):r(R,P)}return B}var Kd=EN(!0),SN=EN(!1),F2=Su(null),j2=null,fd=null,x7=null;function A7(){x7=fd=j2=null}function I7(t){var e=F2.current;Nr(F2),t._currentValue=e}function r8(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function _d(t,e){j2=t,x7=fd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(as=!0),t.firstContext=null)}function wo(t){var e=t._currentValue;if(x7!==t)if(t={context:t,memoizedValue:e,next:null},fd===null){if(j2===null)throw Error(Le(308));fd=t,j2.dependencies={lanes:0,firstContext:t}}else fd=fd.next=t;return e}var vf=null;function C7(t){vf===null?vf=[t]:vf.push(t)}function xN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,C7(e)):(r.next=i.next,i.next=r),e.interleaved=r,Gc(t,n)}function Gc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ml=!1;function M7(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ou(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,sr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Gc(t,r)}return i=n.interleaved,i===null?(e.next=e,C7(n)):(e.next=i.next,i.next=e),n.interleaved=e,Gc(t,r)}function e2(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d7(t,r)}}function OI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function U2(t,e,r,n){var i=t.updateQueue;Ml=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,h=l=c=null,a=s;do{var v=a.lane,b=a.eventTime;if((n&v)===v){h!==null&&(h=h.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,T=a;switch(v=e,b=r,T.tag){case 1:if(S=T.payload,typeof S=="function"){p=S.call(b,p,v);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,v=typeof S=="function"?S.call(b,p,v):S,v==null)break e;p=Qr({},p,v);break e;case 2:Ml=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else b={eventTime:b,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(l=h=b,c=p):h=h.next=b,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Uf|=o,t.lanes=o,t.memoizedState=p}}function TI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var Hg={},qa=Su(Hg),G1=Su(Hg),J1=Su(Hg);function yf(t){if(t===Hg)throw Error(Le(174));return t}function R7(t,e){switch(Cr(J1,e),Cr(G1,t),Cr(qa,Hg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:D4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=D4(e,t)}Nr(qa),Cr(qa,e)}function Gd(){Nr(qa),Nr(G1),Nr(J1)}function IN(t){yf(J1.current);var e=yf(qa.current),r=D4(e,t.type);e!==r&&(Cr(G1,t),Cr(qa,r))}function P7(t){G1.current===t&&(Nr(qa),Nr(G1))}var Vr=Su(0);function z2(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var w6=[];function k7(){for(var t=0;t<w6.length;t++)w6[t]._workInProgressVersionPrimary=null;w6.length=0}var t2=nl.ReactCurrentDispatcher,b6=nl.ReactCurrentBatchConfig,jf=0,Jr=null,kn=null,qn=null,q2=!1,v1=!1,Q1=0,nZ=0;function pi(){throw Error(Le(321))}function O7(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xo(t[r],e[r]))return!1;return!0}function T7(t,e,r,n,i,s){if(jf=s,Jr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,t2.current=t===null||t.memoizedState===null?aZ:cZ,t=r(n,i),v1){s=0;do{if(v1=!1,Q1=0,25<=s)throw Error(Le(301));s+=1,qn=kn=null,e.updateQueue=null,t2.current=lZ,t=r(n,i)}while(v1)}if(t2.current=H2,e=kn!==null&&kn.next!==null,jf=0,qn=kn=Jr=null,q2=!1,e)throw Error(Le(300));return t}function N7(){var t=Q1!==0;return Q1=0,t}function Sa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Jr.memoizedState=qn=t:qn=qn.next=t,qn}function bo(){if(kn===null){var t=Jr.alternate;t=t!==null?t.memoizedState:null}else t=kn.next;var e=qn===null?Jr.memoizedState:qn.next;if(e!==null)qn=e,kn=t;else{if(t===null)throw Error(Le(310));kn=t,t={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},qn===null?Jr.memoizedState=qn=t:qn=qn.next=t}return qn}function Y1(t,e){return typeof e=="function"?e(t):e}function _6(t){var e=bo(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=kn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,l=s;do{var h=l.lane;if((jf&h)===h)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var p={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=p,o=n):c=c.next=p,Jr.lanes|=h,Uf|=h}l=l.next}while(l!==null&&l!==s);c===null?o=n:c.next=a,Xo(n,e.memoizedState)||(as=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Jr.lanes|=s,Uf|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function E6(t){var e=bo(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xo(s,e.memoizedState)||(as=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function CN(){}function MN(t,e){var r=Jr,n=bo(),i=e(),s=!Xo(n.memoizedState,i);if(s&&(n.memoizedState=i,as=!0),n=n.queue,$7(kN.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||qn!==null&&qn.memoizedState.tag&1){if(r.flags|=2048,Z1(9,PN.bind(null,r,n,i,e),void 0,null),Vn===null)throw Error(Le(349));jf&30||RN(r,e,i)}return i}function RN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Jr.updateQueue,e===null?(e={lastEffect:null,stores:null},Jr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function PN(t,e,r,n){e.value=r,e.getSnapshot=n,ON(e)&&TN(t)}function kN(t,e,r){return r(function(){ON(e)&&TN(t)})}function ON(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xo(t,r)}catch{return!0}}function TN(t){var e=Gc(t,1);e!==null&&Zo(e,t,1,-1)}function NI(t){var e=Sa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Y1,lastRenderedState:t},e.queue=t,t=t.dispatch=oZ.bind(null,Jr,t),[e.memoizedState,t]}function Z1(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Jr.updateQueue,e===null?(e={lastEffect:null,stores:null},Jr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function NN(){return bo().memoizedState}function r2(t,e,r,n){var i=Sa();Jr.flags|=t,i.memoizedState=Z1(1|e,r,void 0,n===void 0?null:n)}function Gw(t,e,r,n){var i=bo();n=n===void 0?null:n;var s=void 0;if(kn!==null){var o=kn.memoizedState;if(s=o.destroy,n!==null&&O7(n,o.deps)){i.memoizedState=Z1(e,r,s,n);return}}Jr.flags|=t,i.memoizedState=Z1(1|e,r,s,n)}function $I(t,e){return r2(8390656,8,t,e)}function $7(t,e){return Gw(2048,8,t,e)}function $N(t,e){return Gw(4,2,t,e)}function DN(t,e){return Gw(4,4,t,e)}function LN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BN(t,e,r){return r=r!=null?r.concat([t]):null,Gw(4,4,LN.bind(null,e,t),r)}function D7(){}function FN(t,e){var r=bo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O7(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jN(t,e){var r=bo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&O7(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function UN(t,e,r){return jf&21?(Xo(r,e)||(r=VT(),Jr.lanes|=r,Uf|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,as=!0),t.memoizedState=r)}function iZ(t,e){var r=gr;gr=r!==0&&4>r?r:4,t(!0);var n=b6.transition;b6.transition={};try{t(!1),e()}finally{gr=r,b6.transition=n}}function zN(){return bo().memoizedState}function sZ(t,e,r){var n=cu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qN(t))HN(e,r);else if(r=xN(t,e,r,n),r!==null){var i=Fi();Zo(r,t,n,i),WN(r,e,n)}}function oZ(t,e,r){var n=cu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qN(t))HN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Xo(a,o)){var c=e.interleaved;c===null?(i.next=i,C7(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=xN(t,e,i,n),r!==null&&(i=Fi(),Zo(r,t,n,i),WN(r,e,n))}}function qN(t){var e=t.alternate;return t===Jr||e!==null&&e===Jr}function HN(t,e){v1=q2=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function WN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,d7(t,r)}}var H2={readContext:wo,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},aZ={readContext:wo,useCallback:function(t,e){return Sa().memoizedState=[t,e===void 0?null:e],t},useContext:wo,useEffect:$I,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,r2(4194308,4,LN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return r2(4194308,4,t,e)},useInsertionEffect:function(t,e){return r2(4,2,t,e)},useMemo:function(t,e){var r=Sa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Sa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sZ.bind(null,Jr,t),[n.memoizedState,t]},useRef:function(t){var e=Sa();return t={current:t},e.memoizedState=t},useState:NI,useDebugValue:D7,useDeferredValue:function(t){return Sa().memoizedState=t},useTransition:function(){var t=NI(!1),e=t[0];return t=iZ.bind(null,t[1]),Sa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Jr,i=Sa();if(Ur){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),Vn===null)throw Error(Le(349));jf&30||RN(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,$I(kN.bind(null,n,s,t),[t]),n.flags|=2048,Z1(9,PN.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Sa(),e=Vn.identifierPrefix;if(Ur){var r=Fc,n=Bc;r=(n&~(1<<32-Yo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Q1++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=nZ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cZ={readContext:wo,useCallback:FN,useContext:wo,useEffect:$7,useImperativeHandle:BN,useInsertionEffect:$N,useLayoutEffect:DN,useMemo:jN,useReducer:_6,useRef:NN,useState:function(){return _6(Y1)},useDebugValue:D7,useDeferredValue:function(t){var e=bo();return UN(e,kn.memoizedState,t)},useTransition:function(){var t=_6(Y1)[0],e=bo().memoizedState;return[t,e]},useMutableSource:CN,useSyncExternalStore:MN,useId:zN,unstable_isNewReconciler:!1},lZ={readContext:wo,useCallback:FN,useContext:wo,useEffect:$7,useImperativeHandle:BN,useInsertionEffect:$N,useLayoutEffect:DN,useMemo:jN,useReducer:E6,useRef:NN,useState:function(){return E6(Y1)},useDebugValue:D7,useDeferredValue:function(t){var e=bo();return kn===null?e.memoizedState=t:UN(e,kn.memoizedState,t)},useTransition:function(){var t=E6(Y1)[0],e=bo().memoizedState;return[t,e]},useMutableSource:CN,useSyncExternalStore:MN,useId:zN,unstable_isNewReconciler:!1};function qo(t,e){if(t&&t.defaultProps){e=Qr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function n8(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jw={isMounted:function(t){return(t=t._reactInternals)?rh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fi(),i=cu(t),s=qc(n,i);s.payload=e,r!=null&&(s.callback=r),e=ou(t,s,i),e!==null&&(Zo(e,t,i,n),e2(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fi(),i=cu(t),s=qc(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ou(t,s,i),e!==null&&(Zo(e,t,i,n),e2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fi(),n=cu(t),i=qc(r,n);i.tag=2,e!=null&&(i.callback=e),e=ou(t,i,n),e!==null&&(Zo(e,t,n,r),e2(e,t,n))}};function DI(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!H1(r,n)||!H1(i,s):!0}function VN(t,e,r){var n=!1,i=pu,s=e.contextType;return typeof s=="object"&&s!==null?s=wo(s):(i=ls(e)?Bf:Si.current,n=e.contextTypes,s=(n=n!=null)?Wd(t,i):pu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function LI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jw.enqueueReplaceState(e,e.state,null)}function i8(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},M7(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wo(s):(s=ls(e)?Bf:Si.current,i.context=Wd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(n8(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jw.enqueueReplaceState(i,i.state,null),U2(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Jd(t,e){try{var r="",n=e;do r+=LQ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function S6(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function s8(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var uZ=typeof WeakMap=="function"?WeakMap:Map;function KN(t,e,r){r=qc(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){V2||(V2=!0,g8=n),s8(t,e)},r}function GN(t,e,r){r=qc(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){s8(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){s8(t,e),typeof n!="function"&&(au===null?au=new Set([this]):au.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function BI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new uZ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=xZ.bind(null,t,e,r),e.then(t,t))}function FI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=qc(-1,1),e.tag=2,ou(r,e,1))),r.lanes|=1),t)}var fZ=nl.ReactCurrentOwner,as=!1;function Ni(t,e,r,n){e.child=t===null?SN(e,null,r,n):Kd(e,t.child,r,n)}function UI(t,e,r,n,i){r=r.render;var s=e.ref;return _d(e,i),n=T7(t,e,r,n,s,i),r=N7(),t!==null&&!as?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jc(t,e,i)):(Ur&&r&&_7(e),e.flags|=1,Ni(t,e,n,i),e.child)}function zI(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!H7(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,JN(t,e,s,n,i)):(t=o2(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:H1,r(o,n)&&t.ref===e.ref)return Jc(t,e,i)}return e.flags|=1,t=lu(s,n),t.ref=e.ref,t.return=e,e.child=t}function JN(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(H1(s,n)&&t.ref===e.ref)if(as=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(as=!0);else return e.lanes=t.lanes,Jc(t,e,i)}return o8(t,e,r,n,i)}function QN(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(dd,Ms),Ms|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cr(dd,Ms),Ms|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Cr(dd,Ms),Ms|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Cr(dd,Ms),Ms|=n;return Ni(t,e,i,r),e.child}function YN(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function o8(t,e,r,n,i){var s=ls(r)?Bf:Si.current;return s=Wd(e,s),_d(e,i),r=T7(t,e,r,n,s,i),n=N7(),t!==null&&!as?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jc(t,e,i)):(Ur&&n&&_7(e),e.flags|=1,Ni(t,e,r,i),e.child)}function qI(t,e,r,n,i){if(ls(r)){var s=!0;D2(e)}else s=!1;if(_d(e,i),e.stateNode===null)n2(t,e),VN(e,r,n),i8(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=wo(l):(l=ls(r)?Bf:Si.current,l=Wd(e,l));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&LI(e,o,n,l),Ml=!1;var v=e.memoizedState;o.state=v,U2(e,n,o,i),c=e.memoizedState,a!==n||v!==c||cs.current||Ml?(typeof h=="function"&&(n8(e,r,h,n),c=e.memoizedState),(a=Ml||DI(e,r,a,n,v,c,l))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,AN(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:qo(e.type,a),o.props=l,p=e.pendingProps,v=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wo(c):(c=ls(r)?Bf:Si.current,c=Wd(e,c));var b=r.getDerivedStateFromProps;(h=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||v!==c)&&LI(e,o,n,c),Ml=!1,v=e.memoizedState,o.state=v,U2(e,n,o,i);var S=e.memoizedState;a!==p||v!==S||cs.current||Ml?(typeof b=="function"&&(n8(e,r,b,n),S=e.memoizedState),(l=Ml||DI(e,r,l,n,v,S,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=S),o.props=n,o.state=S,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return a8(t,e,r,n,s,i)}function a8(t,e,r,n,i,s){YN(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&MI(e,r,!1),Jc(t,e,s);n=e.stateNode,fZ.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Kd(e,t.child,null,s),e.child=Kd(e,null,a,s)):Ni(t,e,a,s),e.memoizedState=n.state,i&&MI(e,r,!0),e.child}function ZN(t){var e=t.stateNode;e.pendingContext?CI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&CI(t,e.context,!1),R7(t,e.containerInfo)}function HI(t,e,r,n,i){return Vd(),S7(i),e.flags|=256,Ni(t,e,r,n),e.child}var c8={dehydrated:null,treeContext:null,retryLane:0};function l8(t){return{baseLanes:t,cachePool:null,transitions:null}}function XN(t,e,r){var n=e.pendingProps,i=Vr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Cr(Vr,i&1),t===null)return t8(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zw(o,n,0,null),t=Pf(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=l8(r),e.memoizedState=c8,t):L7(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hZ(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=lu(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=lu(a,s):(s=Pf(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?l8(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=c8,n}return s=t.child,t=s.sibling,n=lu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function L7(t,e){return e=Zw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ny(t,e,r,n){return n!==null&&S7(n),Kd(e,t.child,null,r),t=L7(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hZ(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=S6(Error(Le(422))),ny(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Zw({mode:"visible",children:n.children},i,0,null),s=Pf(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Kd(e,t.child,null,o),e.child.memoizedState=l8(o),e.memoizedState=c8,s);if(!(e.mode&1))return ny(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Le(419)),n=S6(s,n,void 0),ny(t,e,o,n)}if(a=(o&t.childLanes)!==0,as||a){if(n=Vn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gc(t,i),Zo(n,t,i,-1))}return q7(),n=S6(Error(Le(421))),ny(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rs=su(i.nextSibling),Ts=e,Ur=!0,Go=null,t!==null&&(uo[fo++]=Bc,uo[fo++]=Fc,uo[fo++]=Ff,Bc=t.id,Fc=t.overflow,Ff=e),e=L7(e,n.children),e.flags|=4096,e)}function WI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),r8(t.return,e,r)}function x6(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function e$(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ni(t,e,n.children,r),n=Vr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WI(t,r,e);else if(t.tag===19)WI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Cr(Vr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&z2(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),x6(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&z2(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}x6(e,!0,r,null,s);break;case"together":x6(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function n2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Uf|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=lu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=lu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function dZ(t,e,r){switch(e.tag){case 3:ZN(e),Vd();break;case 5:IN(e);break;case 1:ls(e.type)&&D2(e);break;case 4:R7(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Cr(F2,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Cr(Vr,Vr.current&1),e.flags|=128,null):r&e.child.childLanes?XN(t,e,r):(Cr(Vr,Vr.current&1),t=Jc(t,e,r),t!==null?t.sibling:null);Cr(Vr,Vr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return e$(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cr(Vr,Vr.current),n)break;return null;case 22:case 23:return e.lanes=0,QN(t,e,r)}return Jc(t,e,r)}var t$,u8,r$,n$;t$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};u8=function(){};r$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,yf(qa.current);var s=null;switch(r){case"input":i=O4(t,i),n=O4(t,n),s=[];break;case"select":i=Qr({},i,{value:void 0}),n=Qr({},n,{value:void 0}),s=[];break;case"textarea":i=$4(t,i),n=$4(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=N2)}L4(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(L1.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var c=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(L1.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Or("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};n$=function(t,e,r,n){r!==n&&(e.flags|=4)};function Tp(t,e){if(!Ur)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function pZ(t,e,r){var n=e.pendingProps;switch(E7(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(e),null;case 1:return ls(e.type)&&$2(),gi(e),null;case 3:return n=e.stateNode,Gd(),Nr(cs),Nr(Si),k7(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ty(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Go!==null&&(y8(Go),Go=null))),u8(t,e),gi(e),null;case 5:P7(e);var i=yf(J1.current);if(r=e.type,t!==null&&e.stateNode!=null)r$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return gi(e),null}if(t=yf(qa.current),ty(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[La]=e,n[K1]=s,t=(e.mode&1)!==0,r){case"dialog":Or("cancel",n),Or("close",n);break;case"iframe":case"object":case"embed":Or("load",n);break;case"video":case"audio":for(i=0;i<a1.length;i++)Or(a1[i],n);break;case"source":Or("error",n);break;case"img":case"image":case"link":Or("error",n),Or("load",n);break;case"details":Or("toggle",n);break;case"input":eI(n,s),Or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Or("invalid",n);break;case"textarea":rI(n,s),Or("invalid",n)}L4(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&ey(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ey(n.textContent,a,t),i=["children",""+a]):L1.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Or("scroll",n)}switch(r){case"input":Vv(n),tI(n,s,!0);break;case"textarea":Vv(n),nI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=N2)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[La]=e,t[K1]=n,t$(t,e,!1,!1),e.stateNode=t;e:{switch(o=B4(r,n),r){case"dialog":Or("cancel",t),Or("close",t),i=n;break;case"iframe":case"object":case"embed":Or("load",t),i=n;break;case"video":case"audio":for(i=0;i<a1.length;i++)Or(a1[i],t);i=n;break;case"source":Or("error",t),i=n;break;case"img":case"image":case"link":Or("error",t),Or("load",t),i=n;break;case"details":Or("toggle",t),i=n;break;case"input":eI(t,n),i=O4(t,n),Or("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Qr({},n,{value:void 0}),Or("invalid",t);break;case"textarea":rI(t,n),i=$4(t,n),Or("invalid",t);break;default:i=n}L4(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?NT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OT(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&B1(t,c):typeof c=="number"&&B1(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(L1.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Or("scroll",t):c!=null&&a7(t,s,c,o))}switch(r){case"input":Vv(t),tI(t,n,!1);break;case"textarea":Vv(t),nI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+du(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?vd(t,!!n.multiple,s,!1):n.defaultValue!=null&&vd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=N2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gi(e),null;case 6:if(t&&e.stateNode!=null)n$(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=yf(J1.current),yf(qa.current),ty(e)){if(n=e.stateNode,r=e.memoizedProps,n[La]=e,(s=n.nodeValue!==r)&&(t=Ts,t!==null))switch(t.tag){case 3:ey(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ey(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[La]=e,e.stateNode=n}return gi(e),null;case 13:if(Nr(Vr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ur&&Rs!==null&&e.mode&1&&!(e.flags&128))_N(),Vd(),e.flags|=98560,s=!1;else if(s=ty(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[La]=e}else Vd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gi(e),s=!1}else Go!==null&&(y8(Go),Go=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Vr.current&1?Nn===0&&(Nn=3):q7())),e.updateQueue!==null&&(e.flags|=4),gi(e),null);case 4:return Gd(),u8(t,e),t===null&&W1(e.stateNode.containerInfo),gi(e),null;case 10:return I7(e.type._context),gi(e),null;case 17:return ls(e.type)&&$2(),gi(e),null;case 19:if(Nr(Vr),s=e.memoizedState,s===null)return gi(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Tp(s,!1);else{if(Nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=z2(t),o!==null){for(e.flags|=128,Tp(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Cr(Vr,Vr.current&1|2),e.child}t=t.sibling}s.tail!==null&&gn()>Qd&&(e.flags|=128,n=!0,Tp(s,!1),e.lanes=4194304)}else{if(!n)if(t=z2(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Tp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ur)return gi(e),null}else 2*gn()-s.renderingStartTime>Qd&&r!==1073741824&&(e.flags|=128,n=!0,Tp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gn(),e.sibling=null,r=Vr.current,Cr(Vr,n?r&1|2:r&1),e):(gi(e),null);case 22:case 23:return z7(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ms&1073741824&&(gi(e),e.subtreeFlags&6&&(e.flags|=8192)):gi(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function gZ(t,e){switch(E7(e),e.tag){case 1:return ls(e.type)&&$2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gd(),Nr(cs),Nr(Si),k7(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P7(e),null;case 13:if(Nr(Vr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));Vd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nr(Vr),null;case 4:return Gd(),null;case 10:return I7(e.type._context),null;case 22:case 23:return z7(),null;case 24:return null;default:return null}}var iy=!1,_i=!1,mZ=typeof WeakSet=="function"?WeakSet:Set,dt=null;function hd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sn(t,e,n)}else r.current=null}function f8(t,e,r){try{r()}catch(n){sn(t,e,n)}}var VI=!1;function vZ(t,e){if(G4=k2,t=cN(),b7(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,h=0,p=t,v=null;t:for(;;){for(var b;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(b=p.firstChild)!==null;)v=p,p=b;for(;;){if(p===t)break t;if(v===r&&++l===i&&(a=o),v===s&&++h===n&&(c=o),(b=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=b}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(J4={focusedElem:t,selectionRange:r},k2=!1,dt=e;dt!==null;)if(e=dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dt=t;else for(;dt!==null;){e=dt;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,B=S.memoizedState,R=e.stateNode,P=R.getSnapshotBeforeUpdate(e.elementType===e.type?T:qo(e.type,T),B);R.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var O=e.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(L){sn(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}return S=VI,VI=!1,S}function y1(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&f8(e,r,s)}i=i.next}while(i!==n)}}function Qw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function h8(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function i$(t){var e=t.alternate;e!==null&&(t.alternate=null,i$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[La],delete e[K1],delete e[Z4],delete e[XY],delete e[eZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function s$(t){return t.tag===5||t.tag===3||t.tag===4}function KI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d8(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=N2));else if(n!==4&&(t=t.child,t!==null))for(d8(t,e,r),t=t.sibling;t!==null;)d8(t,e,r),t=t.sibling}function p8(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(p8(t,e,r),t=t.sibling;t!==null;)p8(t,e,r),t=t.sibling}var ei=null,Vo=!1;function yl(t,e,r){for(r=r.child;r!==null;)o$(t,e,r),r=r.sibling}function o$(t,e,r){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(zw,r)}catch{}switch(r.tag){case 5:_i||hd(r,e);case 6:var n=ei,i=Vo;ei=null,yl(t,e,r),ei=n,Vo=i,ei!==null&&(Vo?(t=ei,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ei.removeChild(r.stateNode));break;case 18:ei!==null&&(Vo?(t=ei,r=r.stateNode,t.nodeType===8?v6(t.parentNode,r):t.nodeType===1&&v6(t,r),z1(t)):v6(ei,r.stateNode));break;case 4:n=ei,i=Vo,ei=r.stateNode.containerInfo,Vo=!0,yl(t,e,r),ei=n,Vo=i;break;case 0:case 11:case 14:case 15:if(!_i&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&f8(r,e,o),i=i.next}while(i!==n)}yl(t,e,r);break;case 1:if(!_i&&(hd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){sn(r,e,a)}yl(t,e,r);break;case 21:yl(t,e,r);break;case 22:r.mode&1?(_i=(n=_i)||r.memoizedState!==null,yl(t,e,r),_i=n):yl(t,e,r);break;default:yl(t,e,r)}}function GI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new mZ),e.forEach(function(n){var i=IZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Oo(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ei=a.stateNode,Vo=!1;break e;case 3:ei=a.stateNode.containerInfo,Vo=!0;break e;case 4:ei=a.stateNode.containerInfo,Vo=!0;break e}a=a.return}if(ei===null)throw Error(Le(160));o$(s,o,i),ei=null,Vo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){sn(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a$(e,t),e=e.sibling}function a$(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oo(e,t),ha(t),n&4){try{y1(3,t,t.return),Qw(3,t)}catch(T){sn(t,t.return,T)}try{y1(5,t,t.return)}catch(T){sn(t,t.return,T)}}break;case 1:Oo(e,t),ha(t),n&512&&r!==null&&hd(r,r.return);break;case 5:if(Oo(e,t),ha(t),n&512&&r!==null&&hd(r,r.return),t.flags&32){var i=t.stateNode;try{B1(i,"")}catch(T){sn(t,t.return,T)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RT(i,s),B4(a,o);var l=B4(a,s);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?NT(i,p):h==="dangerouslySetInnerHTML"?OT(i,p):h==="children"?B1(i,p):a7(i,h,p,l)}switch(a){case"input":T4(i,s);break;case"textarea":PT(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?vd(i,!!s.multiple,b,!1):v!==!!s.multiple&&(s.defaultValue!=null?vd(i,!!s.multiple,s.defaultValue,!0):vd(i,!!s.multiple,s.multiple?[]:"",!1))}i[K1]=s}catch(T){sn(t,t.return,T)}}break;case 6:if(Oo(e,t),ha(t),n&4){if(t.stateNode===null)throw Error(Le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){sn(t,t.return,T)}}break;case 3:if(Oo(e,t),ha(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{z1(e.containerInfo)}catch(T){sn(t,t.return,T)}break;case 4:Oo(e,t),ha(t);break;case 13:Oo(e,t),ha(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(j7=gn())),n&4&&GI(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(_i=(l=_i)||h,Oo(e,t),_i=l):Oo(e,t),ha(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!h&&t.mode&1)for(dt=t,h=t.child;h!==null;){for(p=dt=h;dt!==null;){switch(v=dt,b=v.child,v.tag){case 0:case 11:case 14:case 15:y1(4,v,v.return);break;case 1:hd(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(T){sn(n,r,T)}}break;case 5:hd(v,v.return);break;case 22:if(v.memoizedState!==null){QI(p);continue}}b!==null?(b.return=v,dt=b):QI(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=TT("display",o))}catch(T){sn(t,t.return,T)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=l?"":p.memoizedProps}catch(T){sn(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Oo(e,t),ha(t),n&4&&GI(t);break;case 21:break;default:Oo(e,t),ha(t)}}function ha(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(s$(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(B1(i,""),n.flags&=-33);var s=KI(t);p8(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=KI(t);d8(t,a,o);break;default:throw Error(Le(161))}}catch(c){sn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yZ(t,e,r){dt=t,c$(t)}function c$(t,e,r){for(var n=(t.mode&1)!==0;dt!==null;){var i=dt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||iy;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||_i;a=iy;var l=_i;if(iy=o,(_i=c)&&!l)for(dt=i;dt!==null;)o=dt,c=o.child,o.tag===22&&o.memoizedState!==null?YI(i):c!==null?(c.return=o,dt=c):YI(i);for(;s!==null;)dt=s,c$(s),s=s.sibling;dt=i,iy=a,_i=l}JI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,dt=s):JI(t)}}function JI(t){for(;dt!==null;){var e=dt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_i||Qw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_i)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:qo(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&TI(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}TI(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&z1(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}_i||e.flags&512&&h8(e)}catch(v){sn(e,e.return,v)}}if(e===t){dt=null;break}if(r=e.sibling,r!==null){r.return=e.return,dt=r;break}dt=e.return}}function QI(t){for(;dt!==null;){var e=dt;if(e===t){dt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,dt=r;break}dt=e.return}}function YI(t){for(;dt!==null;){var e=dt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Qw(4,e)}catch(c){sn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){sn(e,i,c)}}var s=e.return;try{h8(e)}catch(c){sn(e,s,c)}break;case 5:var o=e.return;try{h8(e)}catch(c){sn(e,o,c)}}}catch(c){sn(e,e.return,c)}if(e===t){dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,dt=a;break}dt=e.return}}var wZ=Math.ceil,W2=nl.ReactCurrentDispatcher,B7=nl.ReactCurrentOwner,mo=nl.ReactCurrentBatchConfig,sr=0,Vn=null,Sn=null,oi=0,Ms=0,dd=Su(0),Nn=0,X1=null,Uf=0,Yw=0,F7=0,w1=null,ss=null,j7=0,Qd=1/0,Mc=null,V2=!1,g8=null,au=null,sy=!1,Gl=null,K2=0,b1=0,m8=null,i2=-1,s2=0;function Fi(){return sr&6?gn():i2!==-1?i2:i2=gn()}function cu(t){return t.mode&1?sr&2&&oi!==0?oi&-oi:rZ.transition!==null?(s2===0&&(s2=VT()),s2):(t=gr,t!==0||(t=window.event,t=t===void 0?16:XT(t.type)),t):1}function Zo(t,e,r,n){if(50<b1)throw b1=0,m8=null,Error(Le(185));Ug(t,r,n),(!(sr&2)||t!==Vn)&&(t===Vn&&(!(sr&2)&&(Yw|=r),Nn===4&&$l(t,oi)),us(t,n),r===1&&sr===0&&!(e.mode&1)&&(Qd=gn()+500,Kw&&xu()))}function us(t,e){var r=t.callbackNode;rY(t,e);var n=P2(t,t===Vn?oi:0);if(n===0)r!==null&&oI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&oI(r),e===1)t.tag===0?tZ(ZI.bind(null,t)):yN(ZI.bind(null,t)),YY(function(){!(sr&6)&&xu()}),r=null;else{switch(KT(n)){case 1:r=h7;break;case 4:r=HT;break;case 16:r=R2;break;case 536870912:r=WT;break;default:r=R2}r=m$(r,l$.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function l$(t,e){if(i2=-1,s2=0,sr&6)throw Error(Le(327));var r=t.callbackNode;if(Ed()&&t.callbackNode!==r)return null;var n=P2(t,t===Vn?oi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=G2(t,n);else{e=n;var i=sr;sr|=2;var s=f$();(Vn!==t||oi!==e)&&(Mc=null,Qd=gn()+500,Rf(t,e));do try{EZ();break}catch(a){u$(t,a)}while(!0);A7(),W2.current=s,sr=i,Sn!==null?e=0:(Vn=null,oi=0,e=Nn)}if(e!==0){if(e===2&&(i=q4(t),i!==0&&(n=i,e=v8(t,i))),e===1)throw r=X1,Rf(t,0),$l(t,n),us(t,gn()),r;if(e===6)$l(t,n);else{if(i=t.current.alternate,!(n&30)&&!bZ(i)&&(e=G2(t,n),e===2&&(s=q4(t),s!==0&&(n=s,e=v8(t,s))),e===1))throw r=X1,Rf(t,0),$l(t,n),us(t,gn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:of(t,ss,Mc);break;case 3:if($l(t,n),(n&130023424)===n&&(e=j7+500-gn(),10<e)){if(P2(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Fi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Y4(of.bind(null,t,ss,Mc),e);break}of(t,ss,Mc);break;case 4:if($l(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Yo(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=gn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wZ(n/1960))-n,10<n){t.timeoutHandle=Y4(of.bind(null,t,ss,Mc),n);break}of(t,ss,Mc);break;case 5:of(t,ss,Mc);break;default:throw Error(Le(329))}}}return us(t,gn()),t.callbackNode===r?l$.bind(null,t):null}function v8(t,e){var r=w1;return t.current.memoizedState.isDehydrated&&(Rf(t,e).flags|=256),t=G2(t,e),t!==2&&(e=ss,ss=r,e!==null&&y8(e)),t}function y8(t){ss===null?ss=t:ss.push.apply(ss,t)}function bZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xo(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $l(t,e){for(e&=~F7,e&=~Yw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yo(e),n=1<<r;t[r]=-1,e&=~n}}function ZI(t){if(sr&6)throw Error(Le(327));Ed();var e=P2(t,0);if(!(e&1))return us(t,gn()),null;var r=G2(t,e);if(t.tag!==0&&r===2){var n=q4(t);n!==0&&(e=n,r=v8(t,n))}if(r===1)throw r=X1,Rf(t,0),$l(t,e),us(t,gn()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,of(t,ss,Mc),us(t,gn()),null}function U7(t,e){var r=sr;sr|=1;try{return t(e)}finally{sr=r,sr===0&&(Qd=gn()+500,Kw&&xu())}}function zf(t){Gl!==null&&Gl.tag===0&&!(sr&6)&&Ed();var e=sr;sr|=1;var r=mo.transition,n=gr;try{if(mo.transition=null,gr=1,t)return t()}finally{gr=n,mo.transition=r,sr=e,!(sr&6)&&xu()}}function z7(){Ms=dd.current,Nr(dd)}function Rf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,QY(r)),Sn!==null)for(r=Sn.return;r!==null;){var n=r;switch(E7(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$2();break;case 3:Gd(),Nr(cs),Nr(Si),k7();break;case 5:P7(n);break;case 4:Gd();break;case 13:Nr(Vr);break;case 19:Nr(Vr);break;case 10:I7(n.type._context);break;case 22:case 23:z7()}r=r.return}if(Vn=t,Sn=t=lu(t.current,null),oi=Ms=e,Nn=0,X1=null,F7=Yw=Uf=0,ss=w1=null,vf!==null){for(e=0;e<vf.length;e++)if(r=vf[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}vf=null}return t}function u$(t,e){do{var r=Sn;try{if(A7(),t2.current=H2,q2){for(var n=Jr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}q2=!1}if(jf=0,qn=kn=Jr=null,v1=!1,Q1=0,B7.current=null,r===null||r.return===null){Nn=1,X1=e,Sn=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=oi,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=FI(o);if(b!==null){b.flags&=-257,jI(b,o,a,s,e),b.mode&1&&BI(s,l,e),e=b,c=l;var S=e.updateQueue;if(S===null){var T=new Set;T.add(c),e.updateQueue=T}else S.add(c);break e}else{if(!(e&1)){BI(s,l,e),q7();break e}c=Error(Le(426))}}else if(Ur&&a.mode&1){var B=FI(o);if(B!==null){!(B.flags&65536)&&(B.flags|=256),jI(B,o,a,s,e),S7(Jd(c,a));break e}}s=c=Jd(c,a),Nn!==4&&(Nn=2),w1===null?w1=[s]:w1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var R=KN(s,c,e);OI(s,R);break e;case 1:a=c;var P=s.type,O=s.stateNode;if(!(s.flags&128)&&(typeof P.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(au===null||!au.has(O)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=GN(s,a,e);OI(s,L);break e}}s=s.return}while(s!==null)}d$(r)}catch(D){e=D,Sn===r&&r!==null&&(Sn=r=r.return);continue}break}while(!0)}function f$(){var t=W2.current;return W2.current=H2,t===null?H2:t}function q7(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Vn===null||!(Uf&268435455)&&!(Yw&268435455)||$l(Vn,oi)}function G2(t,e){var r=sr;sr|=2;var n=f$();(Vn!==t||oi!==e)&&(Mc=null,Rf(t,e));do try{_Z();break}catch(i){u$(t,i)}while(!0);if(A7(),sr=r,W2.current=n,Sn!==null)throw Error(Le(261));return Vn=null,oi=0,Nn}function _Z(){for(;Sn!==null;)h$(Sn)}function EZ(){for(;Sn!==null&&!KQ();)h$(Sn)}function h$(t){var e=g$(t.alternate,t,Ms);t.memoizedProps=t.pendingProps,e===null?d$(t):Sn=e,B7.current=null}function d$(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gZ(r,e),r!==null){r.flags&=32767,Sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nn=6,Sn=null;return}}else if(r=pZ(r,e,Ms),r!==null){Sn=r;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);Nn===0&&(Nn=5)}function of(t,e,r){var n=gr,i=mo.transition;try{mo.transition=null,gr=1,SZ(t,e,r,n)}finally{mo.transition=i,gr=n}return null}function SZ(t,e,r,n){do Ed();while(Gl!==null);if(sr&6)throw Error(Le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(nY(t,s),t===Vn&&(Sn=Vn=null,oi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sy||(sy=!0,m$(R2,function(){return Ed(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=mo.transition,mo.transition=null;var o=gr;gr=1;var a=sr;sr|=4,B7.current=null,vZ(t,r),a$(r,t),qY(J4),k2=!!G4,J4=G4=null,t.current=r,yZ(r),GQ(),sr=a,gr=o,mo.transition=s}else t.current=r;if(sy&&(sy=!1,Gl=t,K2=i),s=t.pendingLanes,s===0&&(au=null),YQ(r.stateNode),us(t,gn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(V2)throw V2=!1,t=g8,g8=null,t;return K2&1&&t.tag!==0&&Ed(),s=t.pendingLanes,s&1?t===m8?b1++:(b1=0,m8=t):b1=0,xu(),null}function Ed(){if(Gl!==null){var t=KT(K2),e=mo.transition,r=gr;try{if(mo.transition=null,gr=16>t?16:t,Gl===null)var n=!1;else{if(t=Gl,Gl=null,K2=0,sr&6)throw Error(Le(331));var i=sr;for(sr|=4,dt=t.current;dt!==null;){var s=dt,o=s.child;if(dt.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(dt=l;dt!==null;){var h=dt;switch(h.tag){case 0:case 11:case 15:y1(8,h,s)}var p=h.child;if(p!==null)p.return=h,dt=p;else for(;dt!==null;){h=dt;var v=h.sibling,b=h.return;if(i$(h),h===l){dt=null;break}if(v!==null){v.return=b,dt=v;break}dt=b}}}var S=s.alternate;if(S!==null){var T=S.child;if(T!==null){S.child=null;do{var B=T.sibling;T.sibling=null,T=B}while(T!==null)}}dt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,dt=o;else e:for(;dt!==null;){if(s=dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:y1(9,s,s.return)}var R=s.sibling;if(R!==null){R.return=s.return,dt=R;break e}dt=s.return}}var P=t.current;for(dt=P;dt!==null;){o=dt;var O=o.child;if(o.subtreeFlags&2064&&O!==null)O.return=o,dt=O;else e:for(o=P;dt!==null;){if(a=dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qw(9,a)}}catch(D){sn(a,a.return,D)}if(a===o){dt=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,dt=L;break e}dt=a.return}}if(sr=i,xu(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(zw,t)}catch{}n=!0}return n}finally{gr=r,mo.transition=e}}return!1}function XI(t,e,r){e=Jd(r,e),e=KN(t,e,1),t=ou(t,e,1),e=Fi(),t!==null&&(Ug(t,1,e),us(t,e))}function sn(t,e,r){if(t.tag===3)XI(t,t,r);else for(;e!==null;){if(e.tag===3){XI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(au===null||!au.has(n))){t=Jd(r,t),t=GN(e,t,1),e=ou(e,t,1),t=Fi(),e!==null&&(Ug(e,1,t),us(e,t));break}}e=e.return}}function xZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fi(),t.pingedLanes|=t.suspendedLanes&r,Vn===t&&(oi&r)===r&&(Nn===4||Nn===3&&(oi&130023424)===oi&&500>gn()-j7?Rf(t,0):F7|=r),us(t,e)}function p$(t,e){e===0&&(t.mode&1?(e=Jv,Jv<<=1,!(Jv&130023424)&&(Jv=4194304)):e=1);var r=Fi();t=Gc(t,e),t!==null&&(Ug(t,e,r),us(t,r))}function AZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),p$(t,r)}function IZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),p$(t,r)}var g$;g$=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cs.current)as=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return as=!1,dZ(t,e,r);as=!!(t.flags&131072)}else as=!1,Ur&&e.flags&1048576&&wN(e,B2,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;n2(t,e),t=e.pendingProps;var i=Wd(e,Si.current);_d(e,r),i=T7(null,e,n,t,i,r);var s=N7();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ls(n)?(s=!0,D2(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,M7(e),i.updater=Jw,e.stateNode=i,i._reactInternals=e,i8(e,n,t,r),e=a8(null,e,n,!0,s,r)):(e.tag=0,Ur&&s&&_7(e),Ni(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(n2(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MZ(n),t=qo(n,t),i){case 0:e=o8(null,e,n,t,r);break e;case 1:e=qI(null,e,n,t,r);break e;case 11:e=UI(null,e,n,t,r);break e;case 14:e=zI(null,e,n,qo(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qo(n,i),o8(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qo(n,i),qI(t,e,n,i,r);case 3:e:{if(ZN(e),t===null)throw Error(Le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,AN(t,e),U2(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Jd(Error(Le(423)),e),e=HI(t,e,n,r,i);break e}else if(n!==i){i=Jd(Error(Le(424)),e),e=HI(t,e,n,r,i);break e}else for(Rs=su(e.stateNode.containerInfo.firstChild),Ts=e,Ur=!0,Go=null,r=SN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vd(),n===i){e=Jc(t,e,r);break e}Ni(t,e,n,r)}e=e.child}return e;case 5:return IN(e),t===null&&t8(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Q4(n,i)?o=null:s!==null&&Q4(n,s)&&(e.flags|=32),YN(t,e),Ni(t,e,o,r),e.child;case 6:return t===null&&t8(e),null;case 13:return XN(t,e,r);case 4:return R7(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Kd(e,null,n,r):Ni(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qo(n,i),UI(t,e,n,i,r);case 7:return Ni(t,e,e.pendingProps,r),e.child;case 8:return Ni(t,e,e.pendingProps.children,r),e.child;case 12:return Ni(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Cr(F2,n._currentValue),n._currentValue=o,s!==null)if(Xo(s.value,o)){if(s.children===i.children&&!cs.current){e=Jc(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=qc(-1,r&-r),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),r8(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Le(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),r8(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ni(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,_d(e,r),i=wo(i),n=n(i),e.flags|=1,Ni(t,e,n,r),e.child;case 14:return n=e.type,i=qo(n,e.pendingProps),i=qo(n.type,i),zI(t,e,n,i,r);case 15:return JN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qo(n,i),n2(t,e),e.tag=1,ls(n)?(t=!0,D2(e)):t=!1,_d(e,r),VN(e,n,i),i8(e,n,i,r),a8(null,e,n,!0,t,r);case 19:return e$(t,e,r);case 22:return QN(t,e,r)}throw Error(Le(156,e.tag))};function m$(t,e){return qT(t,e)}function CZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function po(t,e,r,n){return new CZ(t,e,r,n)}function H7(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MZ(t){if(typeof t=="function")return H7(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l7)return 11;if(t===u7)return 14}return 2}function lu(t,e){var r=t.alternate;return r===null?(r=po(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function o2(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")H7(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nd:return Pf(r.children,i,s,e);case c7:o=8,i|=8;break;case M4:return t=po(12,r,e,i|2),t.elementType=M4,t.lanes=s,t;case R4:return t=po(13,r,e,i),t.elementType=R4,t.lanes=s,t;case P4:return t=po(19,r,e,i),t.elementType=P4,t.lanes=s,t;case IT:return Zw(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xT:o=10;break e;case AT:o=9;break e;case l7:o=11;break e;case u7:o=14;break e;case Cl:o=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=po(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Pf(t,e,r,n){return t=po(7,t,n,e),t.lanes=r,t}function Zw(t,e,r,n){return t=po(22,t,n,e),t.elementType=IT,t.lanes=r,t.stateNode={isHidden:!1},t}function A6(t,e,r){return t=po(6,t,null,e),t.lanes=r,t}function I6(t,e,r){return e=po(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=o6(0),this.expirationTimes=o6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o6(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W7(t,e,r,n,i,s,o,a,c){return t=new RZ(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=po(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},M7(s),t}function PZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function v$(t){if(!t)return pu;t=t._reactInternals;e:{if(rh(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(ls(r))return vN(t,r,e)}return e}function y$(t,e,r,n,i,s,o,a,c){return t=W7(r,n,!0,t,i,s,o,a,c),t.context=v$(null),r=t.current,n=Fi(),i=cu(r),s=qc(n,i),s.callback=e??null,ou(r,s,i),t.current.lanes=i,Ug(t,i,n),us(t,n),t}function Xw(t,e,r,n){var i=e.current,s=Fi(),o=cu(i);return r=v$(r),e.context===null?e.context=r:e.pendingContext=r,e=qc(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ou(i,e,o),t!==null&&(Zo(t,i,o,s),e2(t,i,o)),o}function J2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function V7(t,e){eC(t,e),(t=t.alternate)&&eC(t,e)}function kZ(){return null}var w$=typeof reportError=="function"?reportError:function(t){console.error(t)};function K7(t){this._internalRoot=t}eb.prototype.render=K7.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));Xw(t,e,null,null)};eb.prototype.unmount=K7.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zf(function(){Xw(null,t,null,null)}),e[Kc]=null}};function eb(t){this._internalRoot=t}eb.prototype.unstable_scheduleHydration=function(t){if(t){var e=QT();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Nl.length&&e!==0&&e<Nl[r].priority;r++);Nl.splice(r,0,t),r===0&&ZT(t)}};function G7(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tC(){}function OZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=J2(o);s.call(l)}}var o=y$(e,n,t,0,null,!1,!1,"",tC);return t._reactRootContainer=o,t[Kc]=o.current,W1(t.nodeType===8?t.parentNode:t),zf(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=J2(c);a.call(l)}}var c=W7(t,0,!1,null,null,!1,!1,"",tC);return t._reactRootContainer=c,t[Kc]=c.current,W1(t.nodeType===8?t.parentNode:t),zf(function(){Xw(e,c,r,n)}),c}function rb(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=J2(o);a.call(c)}}Xw(e,o,t,i)}else o=OZ(r,e,t,i,n);return J2(o)}GT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=o1(e.pendingLanes);r!==0&&(d7(e,r|1),us(e,gn()),!(sr&6)&&(Qd=gn()+500,xu()))}break;case 13:zf(function(){var n=Gc(t,1);if(n!==null){var i=Fi();Zo(n,t,1,i)}}),V7(t,1)}};p7=function(t){if(t.tag===13){var e=Gc(t,134217728);if(e!==null){var r=Fi();Zo(e,t,134217728,r)}V7(t,134217728)}};JT=function(t){if(t.tag===13){var e=cu(t),r=Gc(t,e);if(r!==null){var n=Fi();Zo(r,t,e,n)}V7(t,e)}};QT=function(){return gr};YT=function(t,e){var r=gr;try{return gr=t,e()}finally{gr=r}};j4=function(t,e,r){switch(e){case"input":if(T4(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Vw(n);if(!i)throw Error(Le(90));MT(n),T4(n,i)}}}break;case"textarea":PT(t,r);break;case"select":e=r.value,e!=null&&vd(t,!!r.multiple,e,!1)}};LT=U7;BT=zf;var TZ={usingClientEntryPoint:!1,Events:[qg,ad,Vw,$T,DT,U7]},Np={findFiberByHostInstance:mf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NZ={bundleType:Np.bundleType,version:Np.version,rendererPackageName:Np.rendererPackageName,rendererConfig:Np.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UT(t),t===null?null:t.stateNode},findFiberByHostInstance:Np.findFiberByHostInstance||kZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oy.isDisabled&&oy.supportsFiber)try{zw=oy.inject(NZ),za=oy}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TZ;Bs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G7(e))throw Error(Le(200));return PZ(t,e,null,r)};Bs.createRoot=function(t,e){if(!G7(t))throw Error(Le(299));var r=!1,n="",i=w$;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=W7(t,1,!1,null,null,r,!1,n,i),t[Kc]=e.current,W1(t.nodeType===8?t.parentNode:t),new K7(e)};Bs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=UT(e),t=t===null?null:t.stateNode,t};Bs.flushSync=function(t){return zf(t)};Bs.hydrate=function(t,e,r){if(!tb(e))throw Error(Le(200));return rb(null,t,e,!0,r)};Bs.hydrateRoot=function(t,e,r){if(!G7(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=w$;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=y$(e,null,t,1,r??null,i,!1,s,o),t[Kc]=e.current,W1(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new eb(e)};Bs.render=function(t,e,r){if(!tb(e))throw Error(Le(200));return rb(null,t,e,!1,r)};Bs.unmountComponentAtNode=function(t){if(!tb(t))throw Error(Le(40));return t._reactRootContainer?(zf(function(){rb(null,null,t,!1,function(){t._reactRootContainer=null,t[Kc]=null})}),!0):!1};Bs.unstable_batchedUpdates=U7;Bs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tb(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return rb(t,e,r,!1,n)};Bs.version="18.3.1-next-f1338f8080-20240426";function b$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b$)}catch(t){console.error(t)}}b$(),bT.exports=Bs;var $Z=bT.exports,rC=$Z;I4.createRoot=rC.createRoot,I4.hydrateRoot=rC.hydrateRoot;const _$="2.21.54";let $p={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${_$}`},ra=class w8 extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof w8?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=r.cause instanceof w8&&r.cause.docsPath||r.docsPath,s=(a=$p.getDocsUrl)==null?void 0:a.call($p,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...$p.version?[`Version: ${$p.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=_$}walk(e){return E$(this,e)}};function E$(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?E$(t.cause,e):e?null:t}class DZ extends ra{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class LZ extends ra{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}class S$ extends ra{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function k0(t,{dir:e,size:r=32}={}){return typeof t=="string"?BZ(t,{dir:e,size:r}):FZ(t,{dir:e,size:r})}function BZ(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new S$({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function FZ(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new S$({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}function J7(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function nC(t){return J7(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const jZ=new TextEncoder;function UZ(t,e={}){return typeof t=="number"||typeof t=="bigint"?qZ(t,e):typeof t=="boolean"?zZ(t,e):J7(t)?x$(t,e):A$(t,e)}function zZ(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Wg(r,{size:e.size}),k0(r,{size:e.size})):r}const _c={zero:48,nine:57,A:65,F:70,a:97,f:102};function iC(t){if(t>=_c.zero&&t<=_c.nine)return t-_c.zero;if(t>=_c.A&&t<=_c.F)return t-(_c.A-10);if(t>=_c.a&&t<=_c.f)return t-(_c.a-10)}function x$(t,e={}){let r=t;e.size&&(Wg(r,{size:e.size}),r=k0(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=iC(n.charCodeAt(a++)),l=iC(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new ra(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function qZ(t,e){const r=Za(t,e);return x$(r)}function A$(t,e={}){const r=jZ.encode(t);return typeof e.size=="number"?(Wg(r,{size:e.size}),k0(r,{dir:"right",size:e.size})):r}function Wg(t,{size:e}){if(nC(t)>e)throw new LZ({givenSize:nC(t),maxSize:e})}const HZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function WZ(t,e={}){return typeof t=="number"||typeof t=="bigint"?Za(t,e):typeof t=="string"?C$(t,e):typeof t=="boolean"?VZ(t,e):I$(t,e)}function VZ(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Wg(r,{size:e.size}),k0(r,{size:e.size})):r}function I$(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=HZ[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Wg(n,{size:e.size}),k0(n,{dir:"right",size:e.size})):n}function Za(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new DZ({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?k0(a,{size:n}):a}const KZ=new TextEncoder;function C$(t,e={}){const r=KZ.encode(t);return I$(r,e)}class GZ extends ra{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Q7 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}function sC(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function JZ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function nb(t,...e){if(!JZ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Q2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function M$(t,e){nb(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const ay=BigInt(2**32-1),oC=BigInt(32);function QZ(t,e=!1){return e?{h:Number(t&ay),l:Number(t>>oC&ay)}:{h:Number(t>>oC&ay)|0,l:Number(t&ay)|0}}function YZ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=QZ(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const ZZ=(t,e,r)=>t<<r|e>>>32-r,XZ=(t,e,r)=>e<<r|t>>>32-r,eX=(t,e,r)=>e<<r-32|t>>>64-r,tX=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rX=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),C6=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),da=(t,e)=>t<<32-e|t>>>e,aC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,nX=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function cC(t){for(let e=0;e<t.length;e++)t[e]=nX(t[e])}const iX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sX(t){nb(t);let e="";for(let r=0;r<t.length;r++)e+=iX[t[r]];return e}function oX(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ib(t){return typeof t=="string"&&(t=oX(t)),nb(t),t}let R$=class{clone(){return this._cloneInto()}};function P$(t){const e=n=>t().update(ib(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function aX(t){const e=(n,i)=>t(i).update(ib(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const k$=[],O$=[],T$=[],cX=BigInt(0),Dp=BigInt(1),lX=BigInt(2),uX=BigInt(7),fX=BigInt(256),hX=BigInt(113);for(let t=0,e=Dp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],k$.push(2*(5*n+r)),O$.push((t+1)*(t+2)/2%64);let i=cX;for(let s=0;s<7;s++)e=(e<<Dp^(e>>uX)*hX)%fX,e&lX&&(i^=Dp<<(Dp<<BigInt(s))-Dp);T$.push(i)}const[dX,pX]=YZ(T$,!0),lC=(t,e,r)=>r>32?eX(t,e,r):ZZ(t,e,r),uC=(t,e,r)=>r>32?tX(t,e,r):XZ(t,e,r);function N$(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],h=r[c+1],p=lC(l,h,1)^r[a],v=uC(l,h,1)^r[a+1];for(let b=0;b<50;b+=10)t[o+b]^=p,t[o+b+1]^=v}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=O$[o],c=lC(i,s,a),l=uC(i,s,a),h=k$[o];i=t[h],s=t[h+1],t[h]=c,t[h+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=dX[n],t[1]^=pX[n]}r.fill(0)}let Y7=class $$ extends R${constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sC(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rX(this.state)}keccak(){aC||cC(this.state32),N$(this.state32,this.rounds),aC||cC(this.state32),this.posOut=0,this.pos=0}update(e){Q2(this);const{blockLen:r,state:n}=this;e=ib(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Q2(this,!1),nb(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sC(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(M$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new $$(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Au=(t,e,r)=>P$(()=>new Y7(e,t,r)),gX=Au(6,144,224/8),mX=Au(6,136,256/8),vX=Au(6,104,384/8),yX=Au(6,72,512/8),wX=Au(1,144,224/8),D$=Au(1,136,256/8),bX=Au(1,104,384/8),_X=Au(1,72,512/8),L$=(t,e,r)=>aX((n={})=>new Y7(e,t,n.dkLen===void 0?r:n.dkLen,!0)),EX=L$(31,168,128/8),SX=L$(31,136,256/8),xX=Object.freeze(Object.defineProperty({__proto__:null,Keccak:Y7,keccakP:N$,keccak_224:wX,keccak_256:D$,keccak_384:bX,keccak_512:_X,sha3_224:gX,sha3_256:mX,sha3_384:vX,sha3_512:yX,shake128:EX,shake256:SX},Symbol.toStringTag,{value:"Module"}));function B$(t,e){const r=e||"hex",n=D$(J7(t,{strict:!1})?UZ(t):t);return r==="bytes"?n:WZ(n)}const M6=new Q7(8192);function F$(t,e){if(M6.has(`${t}.${e}`))return M6.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=B$(A$(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return M6.set(`${t}.${e}`,s),s}function Ps(t,e){if(!IX(t,{strict:!1}))throw new GZ({address:t});return F$(t,e)}const AX=/^0x[a-fA-F0-9]{40}$/,R6=new Q7(8192);function IX(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(R6.has(n))return R6.get(n);const i=AX.test(t)?t.toLowerCase()===t?!0:r?F$(t)===t:!0:!1;return R6.set(n,i),i}function CX(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const MX="modulepreload",RX=function(t){return"/wc-webview-reproduction/"+t},fC={},Vg=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=RX(c),c in fC)return;fC[c]=!0;const l=c.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":MX,l||(p.as="script"),p.crossOrigin="",p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),l)return new Promise((v,b)=>{p.addEventListener("load",v),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},kf=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r),Z7=t=>t;class _1 extends ra{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Z7(o)}`,e&&`Request body: ${kf(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class j$ extends ra{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Z7(n)}`,`Request body: ${kf(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class hC extends ra{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Z7(r)}`,`Request body: ${kf(e)}`],name:"TimeoutError"})}}const PX=-1;class ps extends ra{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof j$?e.code:r??PX}}class O0 extends ps{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class eg extends ps{constructor(e){super(e,{code:eg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class tg extends ps{constructor(e){super(e,{code:tg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class rg extends ps{constructor(e,{method:r}={}){super(e,{code:rg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ng extends ps{constructor(e){super(e,{code:ng.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Yd extends ps{constructor(e){super(e,{code:Yd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ig extends ps{constructor(e){super(e,{code:ig.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class sg extends ps{constructor(e){super(e,{code:sg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class uu extends ps{constructor(e){super(e,{code:uu.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class og extends ps{constructor(e){super(e,{code:og.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(og,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ag extends ps{constructor(e,{method:r}={}){super(e,{code:ag.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not implemented.`})}}Object.defineProperty(ag,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Zd extends ps{constructor(e){super(e,{code:Zd.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class cg extends ps{constructor(e){super(e,{code:cg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(cg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class jr extends O0{constructor(e){super(e,{code:jr.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(jr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class lg extends O0{constructor(e){super(e,{code:lg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ug extends O0{constructor(e,{method:r}={}){super(e,{code:ug.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(ug,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class fg extends O0{constructor(e){super(e,{code:fg.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class hg extends O0{constructor(e){super(e,{code:hg.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class _o extends O0{constructor(e){super(e,{code:_o.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(_o,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class kX extends ps{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function OX(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}const TX=(t,e,r)=>t&e^~t&r,NX=(t,e,r)=>t&e^t&r^e&r;class $X extends R${constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=C6(this.buffer)}update(e){Q2(this);const{view:r,buffer:n,blockLen:i}=this;e=ib(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=C6(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Q2(this),M$(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let p=o;p<i;p++)r[p]=0;OX(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=C6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<l;p++)a.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const DX=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bl=new Uint32Array(64);let LX=class extends $X{constructor(){super(64,32,8,!1),this.A=wl[0]|0,this.B=wl[1]|0,this.C=wl[2]|0,this.D=wl[3]|0,this.E=wl[4]|0,this.F=wl[5]|0,this.G=wl[6]|0,this.H=wl[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let p=0;p<16;p++,r+=4)bl[p]=e.getUint32(r,!1);for(let p=16;p<64;p++){const v=bl[p-15],b=bl[p-2],S=da(v,7)^da(v,18)^v>>>3,T=da(b,17)^da(b,19)^b>>>10;bl[p]=T+bl[p-7]+S+bl[p-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:h}=this;for(let p=0;p<64;p++){const v=da(a,6)^da(a,11)^da(a,25),b=h+v+TX(a,c,l)+DX[p]+bl[p]|0,T=(da(n,2)^da(n,13)^da(n,22))+NX(n,i,s)|0;h=l,l=c,c=a,a=o+b|0,o=s,s=i,i=n,n=b+T|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,c,l,h)}roundClean(){bl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const BX=P$(()=>new LX);function FX(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const P6=new Map;function jX({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const h=c();o();const p=h.map(({args:v})=>v);p.length!==0&&t(p).then(v=>{i&&Array.isArray(v)&&v.sort(i);for(let b=0;b<h.length;b++){const{resolve:S}=h[b];S==null||S([v[b],v])}}).catch(v=>{for(let b=0;b<h.length;b++){const{reject:S}=h[b];S==null||S(v)}})},o=()=>P6.delete(e),a=()=>c().map(({args:h})=>h),c=()=>P6.get(e)||[],l=h=>P6.set(e,[...c(),h]);return{flush:o,async schedule(h){const{promise:p,resolve:v,reject:b}=FX();return(r==null?void 0:r([...a(),h]))&&s(),c().length>0?(l({args:h,resolve:v,reject:b}),p):(l({args:h,resolve:v,reject:b}),setTimeout(s,n),p)}}}async function UX(t){return new Promise(e=>setTimeout(e,t))}const cy=new Q7(8192);function zX(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(cy.get(r))return cy.get(r);const n=t().finally(()=>cy.delete(r));return cy.set(r,n),n}function U$(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const h=typeof e=="function"?e({count:a,error:l}):e;h&&await UX(h),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}function qX(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,retryDelay:s=150,retryCount:o=3,uid:a}={...e,...n},c=i?B$(C$(`${a}.${kf(r)}`)):void 0;return zX(()=>U$(async()=>{try{return await t(r)}catch(l){const h=l;switch(h.code){case eg.code:throw new eg(h);case tg.code:throw new tg(h);case rg.code:throw new rg(h,{method:r.method});case ng.code:throw new ng(h);case Yd.code:throw new Yd(h);case ig.code:throw new ig(h);case sg.code:throw new sg(h);case uu.code:throw new uu(h);case og.code:throw new og(h);case ag.code:throw new ag(h,{method:r.method});case Zd.code:throw new Zd(h);case cg.code:throw new cg(h);case jr.code:throw new jr(h);case lg.code:throw new lg(h);case ug.code:throw new ug(h);case fg.code:throw new fg(h);case hg.code:throw new hg(h);case _o.code:throw new _o(h);case 5e3:throw new jr(h);default:throw l instanceof ra?l:new kX(h)}}},{delay:({count:l,error:h})=>{var p;if(h&&h instanceof _1){const v=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(v!=null&&v.match(/\d/))return Number.parseInt(v)*1e3}return~~(1<<l)*s},retryCount:o,shouldRetry:({error:l})=>HX(l)}),{enabled:i,id:c})}}function HX(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Zd.code||t.code===Yd.code:t instanceof _1&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function z$(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function q$(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function WX(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const dC=WX();function VX(t,e={}){return{async request(r){var p;const{body:n,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:l,signal:h}=a;try{const v=await q$(async({signal:S})=>{const T={...a,body:Array.isArray(n)?kf(n.map(O=>({jsonrpc:"2.0",id:O.id??dC.take(),...O}))):kf({jsonrpc:"2.0",id:n.id??dC.take(),...n}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:h||(o>0?S:null)},B=new Request(t,T),R=await(i==null?void 0:i(B,T))??{...T,url:t};return await fetch(R.url??t,R)},{errorInstance:new hC({body:n,url:t}),timeout:o,signal:!0});s&&await s(v);let b;if((p=v.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))b=await v.json();else{b=await v.text();try{b=JSON.parse(b||"{}")}catch(S){if(v.ok)throw S;b={error:b}}}if(!v.ok)throw new _1({body:n,details:kf(b.error)||v.statusText,headers:v.headers,status:v.status,url:t});return b}catch(v){throw v instanceof _1||v instanceof hC?v:new _1({body:n,cause:v,url:t})}}}}const a2="2.15.2",KX=()=>`@wagmi/core@${a2}`;var H$=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Y2,W$;let sb=class b8 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return KX()}constructor(e,r={}){var s;super(),Y2.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const n=r.cause instanceof b8?r.cause.details:(s=r.cause)!=null&&s.message?r.cause.message:r.details,i=r.cause instanceof b8&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return H$(this,Y2,"m",W$).call(this,this,e)}};Y2=new WeakSet,W$=function t(e,r){return r!=null&&r(e)?e:e.cause?H$(this,Y2,"m",t).call(this,e.cause,r):e};class Xd extends sb{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class GX extends sb{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}async function JX(t,e){var n;let r;if(typeof e.connector=="function"?r=t._internal.connectors.setup(e.connector):r=e.connector,r.uid===t.state.current)throw new GX;try{t.setState(o=>({...o,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});const i=await r.connect({chainId:e.chainId}),s=i.accounts;return r.emitter.off("connect",t._internal.events.connect),r.emitter.on("change",t._internal.events.change),r.emitter.on("disconnect",t._internal.events.disconnect),await((n=t.storage)==null?void 0:n.setItem("recentConnectorId",r.id)),t.setState(o=>({...o,connections:new Map(o.connections).set(r.uid,{accounts:s,chainId:i.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:s,chainId:i.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),i}}const _8=256;let ly=_8,uy;function V$(t=11){if(!uy||ly+t>_8*2){uy="",ly=0;for(let e=0;e<_8;e++)uy+=(256+Math.random()*256|0).toString(16).substring(1)}return uy.substring(ly,ly+++t)}function QX(t){const{batch:e,cacheTime:r=t.pollingInterval??4e3,ccipRead:n,key:i="base",name:s="Base Client",pollingInterval:o=4e3,type:a="base"}=t,c=t.chain,l=t.account?CX(t.account):void 0,{config:h,request:p,value:v}=t.transport({chain:c,pollingInterval:o}),b={...h,...v},S={account:l,batch:e,cacheTime:r,ccipRead:n,chain:c,key:i,name:s,pollingInterval:o,request:p,transport:b,type:a,uid:V$()};function T(B){return R=>{const P=R(B);for(const L in S)delete P[L];const O={...B,...P};return Object.assign(O,{extend:T(O)})}}return Object.assign(S,{extend:T(S)})}function YX({key:t,name:e,request:r,retryCount:n=3,retryDelay:i=150,timeout:s,type:o},a){const c=V$();return{config:{key:t,name:e,request:r,retryCount:n,retryDelay:i,timeout:s,type:o},request:qX(r,{retryCount:n,retryDelay:i,uid:c}),value:a}}class ZX extends ra{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function pC(t,e={}){const{batch:r,fetchOptions:n,key:i="http",name:s="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:a,retryDelay:c}=e;return({chain:l,retryCount:h,timeout:p})=>{const{batchSize:v=1e3,wait:b=0}=typeof r=="object"?r:{},S=e.retryCount??h,T=p??e.timeout??1e4,B=l==null?void 0:l.rpcUrls.default.http[0];if(!B)throw new ZX;const R=VX(B,{fetchOptions:n,onRequest:o,onResponse:a,timeout:T});return YX({key:i,name:s,async request({method:P,params:O}){const L={method:P,params:O},{schedule:D}=jX({id:B,wait:b,shouldSplitBatch(te){return te.length>v},fn:te=>R.request({body:te}),sort:(te,oe)=>te.id-oe.id}),q=async te=>r?D(te):[await R.request({body:te})],[{error:M,result:H}]=await q(L);if(M)throw new j$({body:L,error:M,url:B});return H},retryCount:S,retryDelay:c,timeout:T,type:"http"},{fetchOptions:n,url:B})}}async function XX(t,e={}){var i,s;let r;if(e.connector)r=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);r=c==null?void 0:c.connector}const n=t.state.connections;r&&(await r.disconnect(),r.emitter.off("change",t._internal.events.change),r.emitter.off("disconnect",t._internal.events.disconnect),r.emitter.on("connect",t._internal.events.connect),n.delete(r.uid)),t.setState(o=>{if(n.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=n.values().next().value;return{...o,connections:new Map(n),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem("recentConnectorId",a.id))}}function K$(t){const e=t.state.current,r=t.state.connections.get(e),n=r==null?void 0:r.accounts,i=n==null?void 0:n[0],s=t.chains.find(a=>a.id===(r==null?void 0:r.chainId)),o=t.state.status;switch(o){case"connected":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:n,chain:s,chainId:r==null?void 0:r.chainId,connector:r==null?void 0:r.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}function qf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(Array.isArray(t)&&Array.isArray(e)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!qf(t[n],e[n]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t);if(r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(s&&!qf(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}let fy=[];function E8(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||qf(fy,e)?fy:(fy=e,e)}let k6=[];function gC(t){const e=t.connectors;return qf(k6,e)?k6:(k6=e,e)}let O6=!1;async function eee(t,e={}){var l,h;if(O6)return[];O6=!0,t.setState(p=>({...p,status:p.current?"reconnecting":"connecting"}));const r=[];if((l=e.connectors)!=null&&l.length)for(const p of e.connectors){let v;typeof p=="function"?v=t._internal.connectors.setup(p):v=p,r.push(v)}else r.push(...t.connectors);let n;try{n=await((h=t.storage)==null?void 0:h.getItem("recentConnectorId"))}catch{}const i={};for(const[,p]of t.state.connections)i[p.connector.id]=1;n&&(i[n]=0);const s=Object.keys(i).length>0?[...r].sort((p,v)=>(i[p.id]??10)-(i[v.id]??10)):r;let o=!1;const a=[],c=[];for(const p of s){const v=await p.getProvider().catch(()=>{});if(!v||c.some(T=>T===v)||!await p.isAuthorized())continue;const S=await p.connect({isReconnecting:!0}).catch(()=>null);S&&(p.emitter.off("connect",t._internal.events.connect),p.emitter.on("change",t._internal.events.change),p.emitter.on("disconnect",t._internal.events.disconnect),t.setState(T=>{const B=new Map(o?T.connections:new Map).set(p.uid,{accounts:S.accounts,chainId:S.chainId,connector:p});return{...T,current:o?T.current:p.uid,connections:B}}),a.push({accounts:S.accounts,chainId:S.chainId,connector:p}),c.push(v),o=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(o?t.setState(p=>({...p,status:"connected"})):t.setState(p=>({...p,connections:new Map,current:null,status:"disconnected"}))),O6=!1,a}class Rl extends sb{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}function tee(t,e){const{onChange:r}=e;return t.subscribe(()=>K$(t),r,{equalityFn(n,i){const{connector:s,...o}=n,{connector:a,...c}=i;return qf(o,c)&&(s==null?void 0:s.id)===(a==null?void 0:a.id)&&(s==null?void 0:s.uid)===(a==null?void 0:a.uid)}})}function ree(t,e){const{onChange:r}=e;return t.subscribe(()=>E8(t),r,{equalityFn:qf})}function nee(t,e){const{onChange:r}=e;return t._internal.connectors.subscribe((n,i)=>{r(Object.values(n),i)})}ob.type="injected";function ob(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:r}=t;function n(){const c=t.target;if(typeof c=="function"){const l=c();if(l)return l}return typeof c=="object"?c:typeof c=="string"?{...iee[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(l){return l==null?void 0:l.ethereum}}}let i,s,o,a;return c=>({get icon(){return n().icon},get id(){return n().id},get name(){return n().name},get supportsSimulation(){return!0},type:ob.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)))},async connect({chainId:l,isReconnecting:h}={}){var b,S,T,B,R,P;const p=await this.getProvider();if(!p)throw new Rl;let v=[];if(h)v=await this.getAccounts().catch(()=>[]);else if(e)try{v=(B=(T=(S=(b=(await p.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:S[0])==null?void 0:T.value)==null?void 0:B.map(L=>Ps(L)),v.length>0&&(v=await this.getAccounts())}catch(O){const L=O;if(L.code===jr.code)throw new jr(L);if(L.code===uu.code)throw L}try{!(v!=null&&v.length)&&!h&&(v=(await p.request({method:"eth_requestAccounts"})).map(D=>Ps(D))),o&&(p.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),p.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),p.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),p.on("disconnect",a));let O=await this.getChainId();if(l&&O!==l){const L=await this.switchChain({chainId:l}).catch(D=>{if(D.code===jr.code)throw D;return{id:O}});O=(L==null?void 0:L.id)??O}return e&&await((R=c.storage)==null?void 0:R.removeItem(`${this.id}.disconnected`)),t.target||await((P=c.storage)==null?void 0:P.setItem("injected.connected",!0)),{accounts:v,chainId:O}}catch(O){const L=O;throw L.code===jr.code?new jr(L):L.code===uu.code?new uu(L):L}},async disconnect(){var h,p;const l=await this.getProvider();if(!l)throw new Rl;s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o));try{await q$(()=>l.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((h=c.storage)==null?void 0:h.setItem(`${this.id}.disconnected`,!0)),t.target||await((p=c.storage)==null?void 0:p.removeItem("injected.connected"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new Rl;return(await l.request({method:"eth_accounts"})).map(p=>Ps(p))},async getChainId(){const l=await this.getProvider();if(!l)throw new Rl;const h=await l.request({method:"eth_chainId"});return Number(h)},async getProvider(){if(typeof window>"u")return;let l;const h=n();return typeof h.provider=="function"?l=h.provider(window):typeof h.provider=="string"?l=c2(window,h.provider):l=h.provider,l&&!l.removeListener&&("off"in l&&typeof l.off=="function"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,h;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((h=c.storage)==null?void 0:h.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(r!==void 0&&r!==!1){const S=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",S),!!await this.getProvider()),T=typeof r=="number"?r:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(R=>window.addEventListener("ethereum#initialized",()=>R(S()),{once:!0}))]:[],new Promise(R=>setTimeout(()=>R(S()),T))]))return!0}throw new Rl}return!!(await U$(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:h}){var S,T,B,R;const p=await this.getProvider();if(!p)throw new Rl;const v=c.chains.find(P=>P.id===h);if(!v)throw new _o(new Xd);const b=new Promise(P=>{const O=L=>{"chainId"in L&&L.chainId===h&&(c.emitter.off("change",O),P())};c.emitter.on("change",O)});try{return await Promise.all([p.request({method:"wallet_switchEthereumChain",params:[{chainId:Za(h)}]}).then(async()=>{await this.getChainId()===h&&c.emitter.emit("change",{chainId:h})}),b]),v}catch(P){const O=P;if(O.code===4902||((T=(S=O==null?void 0:O.data)==null?void 0:S.originalError)==null?void 0:T.code)===4902)try{const{default:L,...D}=v.blockExplorers??{};let q;l!=null&&l.blockExplorerUrls?q=l.blockExplorerUrls:L&&(q=[L.url,...Object.values(D).map(te=>te.url)]);let M;(B=l==null?void 0:l.rpcUrls)!=null&&B.length?M=l.rpcUrls:M=[((R=v.rpcUrls.default)==null?void 0:R.http[0])??""];const H={blockExplorerUrls:q,chainId:Za(h),chainName:(l==null?void 0:l.chainName)??v.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??v.nativeCurrency,rpcUrls:M};return await Promise.all([p.request({method:"wallet_addEthereumChain",params:[H]}).then(async()=>{if(await this.getChainId()===h)c.emitter.emit("change",{chainId:h});else throw new jr(new Error("User rejected switch after adding network."))}),b]),v}catch(L){throw new jr(L)}throw O.code===jr.code?new jr(O):new _o(O)}},async onAccountsChanged(l){var h;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const p=(await this.getChainId()).toString();this.onConnect({chainId:p}),e&&await((h=c.storage)==null?void 0:h.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:l.map(p=>Ps(p))})},onChainChanged(l){const h=Number(l);c.emitter.emit("change",{chainId:h})},async onConnect(l){const h=await this.getAccounts();if(h.length===0)return;const p=Number(l.chainId);c.emitter.emit("connect",{accounts:h,chainId:p});const v=await this.getProvider();v&&(o&&(v.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),v.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),v.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),v.on("disconnect",a)))},async onDisconnect(l){const h=await this.getProvider();l&&l.code===1013&&h&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),h&&(s&&(h.removeListener("chainChanged",s),s=void 0),a&&(h.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),h.on("connect",o))))}})}const iee={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:c2(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return c2(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const r=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const n of r)if(e[n])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,r;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(r=t.phantom)==null?void 0:r.ethereum:c2(t,"isPhantom")}}};function c2(t,e){function r(i){return typeof e=="function"?e(i):typeof e=="string"?i[e]:!0}const n=t.ethereum;if(n!=null&&n.providers)return n.providers.find(i=>r(i));if(n&&r(n))return n}function see(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function oee(){const t=new Set;let e=[];const r=()=>see(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const aee=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(o,a,c)=>{let l=o;if(a){const h=(c==null?void 0:c.equalityFn)||Object.is;let p=o(n.getState());l=v=>{const b=o(v);if(!h(p,b)){const S=p;a(p=b,S)}},c!=null&&c.fireImmediately&&a(p,p)}return i(l)},t(e,r,n)},cee=aee;function lee(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=r.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const S8=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return S8(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return S8(n)(r)}}}},uee=(t,e)=>(r,n,i)=>{let s={storage:lee(()=>localStorage),partialize:T=>T,version:0,merge:(T,B)=>({...B,...T}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...T)},n,i);const h=()=>{const T=s.partialize({...n()});return l.setItem(s.name,{state:T,version:s.version})},p=i.setState;i.setState=(T,B)=>{p(T,B),h()};const v=t((...T)=>{r(...T),h()},n,i);i.getInitialState=()=>v;let b;const S=()=>{var T,B;if(!l)return;o=!1,a.forEach(P=>{var O;return P((O=n())!=null?O:v)});const R=((B=s.onRehydrateStorage)==null?void 0:B.call(s,(T=n())!=null?T:v))||void 0;return S8(l.getItem.bind(l))(s.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==s.version){if(s.migrate)return[!0,s.migrate(P.state,P.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var O;const[L,D]=P;if(b=s.merge(D,(O=n())!=null?O:v),r(b,!0),L)return h()}).then(()=>{R==null||R(b,void 0),b=n(),o=!0,c.forEach(P=>P(b))}).catch(P=>{R==null||R(void 0,P)})};return i.persist={setOptions:T=>{s={...s,...T},T.storage&&(l=T.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:T=>(a.add(T),()=>{a.delete(T)}),onFinishHydration:T=>(c.add(T),()=>{c.delete(T)})},s.skipHydration||S(),b||v},fee=uee,mC=t=>{let e;const r=new Set,n=(l,h)=>{const p=typeof l=="function"?l(e):l;if(!Object.is(p,e)){const v=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(b=>b(e,v))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>c,subscribe:l=>(r.add(l),()=>r.delete(l))},c=e=t(n,i,a);return a},T6=t=>t?mC(t):mC;var G$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,h){this.fn=c,this.context=l,this.once=h||!1}function s(c,l,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||c,v),S=r?r+l:l;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],b]:c._events[S].push(b):(c._events[S]=b,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],h,p;if(this._eventsCount===0)return l;for(p in h=this._events)e.call(h,p)&&l.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(h)):l},a.prototype.listeners=function(l){var h=r?r+l:l,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,S=new Array(b);v<b;v++)S[v]=p[v].fn;return S},a.prototype.listenerCount=function(l){var h=r?r+l:l,p=this._events[h];return p?p.fn?1:p.length:0},a.prototype.emit=function(l,h,p,v,b,S){var T=r?r+l:l;if(!this._events[T])return!1;var B=this._events[T],R=arguments.length,P,O;if(B.fn){switch(B.once&&this.removeListener(l,B.fn,void 0,!0),R){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,h),!0;case 3:return B.fn.call(B.context,h,p),!0;case 4:return B.fn.call(B.context,h,p,v),!0;case 5:return B.fn.call(B.context,h,p,v,b),!0;case 6:return B.fn.call(B.context,h,p,v,b,S),!0}for(O=1,P=new Array(R-1);O<R;O++)P[O-1]=arguments[O];B.fn.apply(B.context,P)}else{var L=B.length,D;for(O=0;O<L;O++)switch(B[O].once&&this.removeListener(l,B[O].fn,void 0,!0),R){case 1:B[O].fn.call(B[O].context);break;case 2:B[O].fn.call(B[O].context,h);break;case 3:B[O].fn.call(B[O].context,h,p);break;case 4:B[O].fn.call(B[O].context,h,p,v);break;default:if(!P)for(D=1,P=new Array(R-1);D<R;D++)P[D-1]=arguments[D];B[O].fn.apply(B[O].context,P)}}return!0},a.prototype.on=function(l,h,p){return s(this,l,h,p,!1)},a.prototype.once=function(l,h,p){return s(this,l,h,p,!0)},a.prototype.removeListener=function(l,h,p,v){var b=r?r+l:l;if(!this._events[b])return this;if(!h)return o(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!v||S.once)&&(!p||S.context===p)&&o(this,b);else{for(var T=0,B=[],R=S.length;T<R;T++)(S[T].fn!==h||v&&!S[T].once||p&&S[T].context!==p)&&B.push(S[T]);B.length?this._events[b]=B.length===1?B[0]:B:o(this,b)}return this},a.prototype.removeAllListeners=function(l){var h;return l?(h=r?r+l:l,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(G$);var hee=G$.exports;const Z2=_u(hee),dee=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:Z2,default:Z2},Symbol.toStringTag,{value:"Module"}));class pee{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new Z2})}on(e,r){this._emitter.on(e,r)}once(e,r){this._emitter.once(e,r)}off(e,r){this._emitter.off(e,r)}emit(e,...r){const n=r[0];this._emitter.emit(e,{uid:this.uid,...n})}listenerCount(e){return this._emitter.listenerCount(e)}}function gee(t){return new pee(t)}function mee(t,e){return JSON.parse(t,(r,n)=>{let i=n;return(i==null?void 0:i.__type)==="bigint"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)==="Map"&&(i=new Map(i.value)),(e==null?void 0:e(r,i))??i})}function vC(t,e){return t.slice(0,e).join(".")||"."}function yC(t,e){const{length:r}=t;for(let n=0;n<r;++n)if(t[n]===e)return n+1;return 0}function vee(t,e){const r=typeof t=="function",n=typeof e=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const l=yC(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const h=yC(i,c);if(h!==0)return n?e.call(this,a,c,vC(s,h)):`[ref=${vC(s,h)}]`}else i[0]=c,s[0]=a;return r?t.call(this,a,c):c}}function yee(t,e,r,n){return JSON.stringify(t,vee((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},n),r??void 0)}function wee(t){const{deserialize:e=mee,key:r="wagmi",serialize:n=yee,storage:i=J$}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:r,async getItem(o,a){const c=i.getItem(`${r}.${o}`),l=await s(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${r}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,n(a)))},async removeItem(o){await s(i.removeItem(`${r}.${o}`))}}}const J$={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},x8=256;let hy=x8,dy;function bee(t=11){if(!dy||hy+t>x8*2){dy="",hy=0;for(let e=0;e<x8;e++)dy+=(256+Math.random()*256|0).toString(16).substring(1)}return dy.substring(hy,hy+++t)}function _ee(t){const{multiInjectedProviderDiscovery:e=!0,storage:r=wee({storage:typeof window<"u"&&window.localStorage?window.localStorage:J$}),syncConnectedChain:n=!0,ssr:i=!1,...s}=t,o=typeof window<"u"&&e?oee():void 0,a=T6(()=>s.chains),c=T6(()=>{const D=[],q=new Set;for(const M of s.connectors??[]){const H=l(M);if(D.push(H),!i&&H.rdns){const te=typeof H.rdns=="string"?[H.rdns]:H.rdns;for(const oe of te)q.add(oe)}}if(!i&&o){const M=o.getProviders();for(const H of M)q.has(H.info.rdns)||D.push(l(h(H)))}return D});function l(D){var H;const q=gee(bee()),M={...D({emitter:q,chains:a.getState(),storage:r,transports:s.transports}),emitter:q,uid:q.uid};return q.on("connect",O),(H=M.setup)==null||H.call(M),M}function h(D){const{info:q}=D,M=D.provider;return ob({target:{...q,id:q.rdns,provider:M}})}const p=new Map;function v(D={}){const q=D.chainId??B.getState().chainId,M=a.getState().find(te=>te.id===q);if(D.chainId&&!M)throw new Xd;{const te=p.get(B.getState().chainId);if(te&&!M)return te;if(!M)throw new Xd}{const te=p.get(q);if(te)return te}let H;if(s.client)H=s.client({chain:M});else{const te=M.id,oe=a.getState().map(g=>g.id),K={},k=Object.entries(s);for(const[g,f]of k)if(!(g==="chains"||g==="client"||g==="connectors"||g==="transports"))if(typeof f=="object")if(te in f)K[g]=f[te];else{if(oe.some(_=>_ in f))continue;K[g]=f}else K[g]=f;H=QX({...K,chain:M,batch:K.batch??{multicall:!0},transport:g=>s.transports[te]({...g,connectors:c})})}return p.set(q,H),H}function b(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let S;const T="0.0.0-canary-";a2.startsWith(T)?S=Number.parseInt(a2.replace(T,"")):S=Number.parseInt(a2.split(".")[0]??"0");const B=T6(cee(r?fee(b,{migrate(D,q){if(q===S)return D;const M=b(),H=R(D,M.chainId);return{...M,chainId:H}},name:"store",partialize(D){return{connections:{__type:"Map",value:Array.from(D.connections.entries()).map(([q,M])=>{const{id:H,name:te,type:oe,uid:K}=M.connector;return[q,{...M,connector:{id:H,name:te,type:oe,uid:K}}]})},chainId:D.chainId,current:D.current}},merge(D,q){typeof D=="object"&&D&&"status"in D&&delete D.status;const M=R(D,q.chainId);return{...q,...D,chainId:M}},skipHydration:i,storage:r,version:S}):b));B.setState(b());function R(D,q){return D&&typeof D=="object"&&"chainId"in D&&typeof D.chainId=="number"&&a.getState().some(M=>M.id===D.chainId)?D.chainId:q}n&&B.subscribe(({connections:D,current:q})=>{var M;return q?(M=D.get(q))==null?void 0:M.chainId:void 0},D=>{if(a.getState().some(M=>M.id===D))return B.setState(M=>({...M,chainId:D??M.chainId}))}),o==null||o.subscribe(D=>{const q=new Set,M=new Set;for(const te of c.getState())if(q.add(te.id),te.rdns){const oe=typeof te.rdns=="string"?[te.rdns]:te.rdns;for(const K of oe)M.add(K)}const H=[];for(const te of D){if(M.has(te.info.rdns))continue;const oe=l(h(te));q.has(oe.id)||H.push(oe)}r&&!B.persist.hasHydrated()||c.setState(te=>[...te,...H],!0)});function P(D){B.setState(q=>{const M=q.connections.get(D.uid);return M?{...q,connections:new Map(q.connections).set(D.uid,{accounts:D.accounts??M.accounts,chainId:D.chainId??M.chainId,connector:M.connector})}:q})}function O(D){B.getState().status==="connecting"||B.getState().status==="reconnecting"||B.setState(q=>{const M=c.getState().find(H=>H.uid===D.uid);return M?(M.emitter.listenerCount("connect")&&M.emitter.off("connect",P),M.emitter.listenerCount("change")||M.emitter.on("change",P),M.emitter.listenerCount("disconnect")||M.emitter.on("disconnect",L),{...q,connections:new Map(q.connections).set(D.uid,{accounts:D.accounts,chainId:D.chainId,connector:M}),current:D.uid,status:"connected"}):q})}function L(D){B.setState(q=>{const M=q.connections.get(D.uid);if(M){const te=M.connector;te.emitter.listenerCount("change")&&M.connector.emitter.off("change",P),te.emitter.listenerCount("disconnect")&&M.connector.emitter.off("disconnect",L),te.emitter.listenerCount("connect")||M.connector.emitter.on("connect",O)}if(q.connections.delete(D.uid),q.connections.size===0)return{...q,connections:new Map,current:null,status:"disconnected"};const H=q.connections.values().next().value;return{...q,connections:new Map(q.connections),current:H.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:r,getClient:v,get state(){return B.getState()},setState(D){let q;typeof D=="function"?q=D(B.getState()):q=D;const M=b();typeof q!="object"&&(q=M),Object.keys(M).some(te=>!(te in q))&&(q=M),B.setState(q,!0)},subscribe(D,q,M){return B.subscribe(D,q,M?{...M,fireImmediately:M.emitImmediately}:void 0)},_internal:{mipd:o,store:B,ssr:!!i,syncConnectedChain:n,transports:s.transports,chains:{setState(D){const q=typeof D=="function"?D(a.getState()):D;if(q.length!==0)return a.setState(q,!0)},subscribe(D){return a.subscribe(D)}},connectors:{providerDetailToConnector:h,setup:l,setState(D){return c.setState(typeof D=="function"?D(c.getState()):D,!0)},subscribe(D){return c.subscribe(D)}},events:{change:P,connect:O,disconnect:L}}}}function Eee(t,e){const{initialState:r,reconnectOnMount:n}=e;return r&&!t._internal.store.persist.hasHydrated()&&t.setState({...r,chainId:t.chains.some(i=>i.id===r.chainId)?r.chainId:t.chains[0].id,connections:n?r.connections:new Map,status:n?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(i=>{var c;const s=new Set;for(const l of i??[])if(l.rdns){const h=Array.isArray(l.rdns)?l.rdns:[l.rdns];for(const p of h)s.add(p)}const o=[],a=((c=t._internal.mipd)==null?void 0:c.getProviders())??[];for(const l of a){if(s.has(l.info.rdns))continue;const h=t._internal.connectors.providerDetailToConnector(l),p=t._internal.connectors.setup(h);o.push(p)}return[...i,...o]})),n?eee(t):t.storage&&t.setState(i=>({...i,connections:new Map}))}}}function See(t){var s,o,a;const{chain:e}=t,r=e.rpcUrls.default.http[0];if(!t.transports)return[r];const n=(o=(s=t.transports)==null?void 0:s[e.id])==null?void 0:o.call(s,{chain:e});return(((a=n==null?void 0:n.value)==null?void 0:a.transports)||[n]).map(({value:c})=>(c==null?void 0:c.url)||r)}function xee(t){const{children:e,config:r,initialState:n,reconnectOnMount:i=!0}=t,{onMount:s}=Eee(r,{initialState:n,reconnectOnMount:i});r._internal.ssr||s();const o=Ir.useRef(!0);return Ir.useEffect(()=>{if(o.current&&r._internal.ssr)return s(),()=>{o.current=!1}},[]),e}const Q$=Ir.createContext(void 0);function Aee(t){const{children:e,config:r}=t,n={value:r};return Ir.createElement(xee,t,Ir.createElement(Q$.Provider,n,e))}const Iee="2.13.3",Cee=()=>`wagmi@${Iee}`;class Mee extends sb{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Cee()}}class Ree extends Mee{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Kg(t={}){const e=t.config??Ir.useContext(Q$);if(!e)throw new Ree;return e}var Y$={exports:{}},Z$={},X$={exports:{}},eD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=Ir;function Pee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kee=typeof Object.is=="function"?Object.is:Pee,Oee=e0.useState,Tee=e0.useEffect,Nee=e0.useLayoutEffect,$ee=e0.useDebugValue;function Dee(t,e){var r=e(),n=Oee({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Nee(function(){i.value=r,i.getSnapshot=e,N6(i)&&s({inst:i})},[t,r,e]),Tee(function(){return N6(i)&&s({inst:i}),t(function(){N6(i)&&s({inst:i})})},[t]),$ee(r),r}function N6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kee(t,r)}catch{return!0}}function Lee(t,e){return e()}var Bee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lee:Dee;eD.useSyncExternalStore=e0.useSyncExternalStore!==void 0?e0.useSyncExternalStore:Bee;X$.exports=eD;var Fee=X$.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab=Ir,jee=Fee;function Uee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zee=typeof Object.is=="function"?Object.is:Uee,qee=jee.useSyncExternalStore,Hee=ab.useRef,Wee=ab.useEffect,Vee=ab.useMemo,Kee=ab.useDebugValue;Z$.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Hee(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Vee(function(){function c(b){if(!l){if(l=!0,h=b,b=n(b),i!==void 0&&o.hasValue){var S=o.value;if(i(S,b))return p=S}return p=b}if(S=p,zee(h,b))return S;var T=n(b);return i!==void 0&&i(S,T)?S:(h=b,p=T)}var l=!1,h,p,v=r===void 0?null:r;return[function(){return c(e())},v===null?void 0:function(){return c(v())}]},[e,r,n,i]);var a=qee(t,s[0],s[1]);return Wee(function(){o.hasValue=!0,o.value=a},[a]),Kee(a),a};Y$.exports=Z$;var Gee=Y$.exports;const $6=t=>typeof t=="object"&&!Array.isArray(t);function Jee(t,e,r=e,n=qf){const i=Ir.useRef([]),s=Gee.useSyncExternalStoreWithSelector(t,e,r,o=>o,(o,a)=>{if($6(o)&&$6(a)&&i.current.length){for(const c of i.current)if(!n(o[c],a[c]))return!1;return!0}return n(o,a)});return Ir.useMemo(()=>{if($6(s)){const o={...s};let a={};for(const[c,l]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(c)||i.current.push(c),l)}};return Object.defineProperties(o,a),o}return s},[s])}function Qee(t={}){const e=Kg(t);return Jee(r=>tee(e,{onChange:r}),()=>K$(e))}function Yee(t){return{mutationFn(e){return JX(t,e)},mutationKey:["connect"]}}function Zee(t){return{mutationFn(e){return XX(t,e)},mutationKey:["disconnect"]}}function Xee(t={}){const e=Kg(t);return Ir.useSyncExternalStore(r=>nee(e,{onChange:r}),()=>gC(e),()=>gC(e))}function ete(t={}){const{mutation:e}=t,r=Kg(t),n=Yee(r),{mutate:i,mutateAsync:s,...o}=wT({...e,...n});return Ir.useEffect(()=>r.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[r,o.reset]),{...o,connect:i,connectAsync:s,connectors:Xee({config:r})}}function tte(t={}){const e=Kg(t);return Ir.useSyncExternalStore(r=>ree(e,{onChange:r}),()=>E8(e),()=>E8(e))}function rte(t={}){const{mutation:e}=t,r=Kg(t),n=Zee(r),{mutate:i,mutateAsync:s,...o}=wT({...e,...n});return{...o,connectors:tte({config:r}).map(a=>a.connector),disconnect:i,disconnectAsync:s}}const nte=({title:t,description:e,betoption:r,betoption2:n})=>{const[i,s]=Ir.useState(!1),[o,a]=Ir.useState(0),c=()=>{s(!0)},l=p=>{a(p.touches[0].clientY)},h=p=>{o-p.touches[0].clientY>50&&s(!1)};return xt.jsxs(xt.Fragment,{children:[xt.jsxs("div",{className:"px-5 mx-4 my-4 bg-violet-950 text-violet-300 ease-in-out transition duration-300 flex flex-col justify-between w-80 h-[18vh] border border-violet-950 rounded-2xl hover:shadow-xl hover:shadow-violet-400 hover:scale-105",children:[xt.jsxs("div",{className:"mx-2 mt-2",children:[xt.jsx("h2",{className:"font-bold ",children:t}),xt.jsx("p",{children:e})]}),xt.jsxs("div",{className:"flex justify-between px-5 py-2",children:[xt.jsx("button",{onClick:c,className:"px-5 py-2 rounded-xl bg-green-500 text-white hover:scale-105",children:r}),xt.jsx("button",{onClick:c,className:"px-5 py-2 rounded-xl bg-red-500 text-white hover:scale-105",children:n})]})]}),i&&xt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-end",children:xt.jsxs("div",{className:"bg-white p-5 rounded-t-3xl w-full h-[50vh]",onTouchStart:l,onTouchMove:h,children:[xt.jsx("h2",{children:"Popup Content"}),xt.jsx("button",{onClick:()=>s(!1),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",children:"Close"})]})})]})},ite=()=>xt.jsx("footer",{className:"fixed bottom-0 w-full flex justify-center items-center bg-violet-950 text-white h-16",children:xt.jsx("p",{className:"text-center",children:"Footer"})});window.open=function(t){return function(e,r,n){return t.call(window,e,"_blank",n)}}(window.open);const ste=({})=>{const t=Qee(),{connectors:e,connect:r,status:n,error:i}=ete(),{disconnect:s}=rte(),[o,a]=oT.useState(!1),c=()=>{a(!o)};return xt.jsxs("div",{className:"sticky top-0 flex justify-between items-center px-5 mb-2 ",children:[xt.jsx("div",{className:"navbar__logo h-[100px] w-[100px] flex justify-center items-center",children:xt.jsx("img",{src:"./opinionX_logo-removebg-preview.png",alt:"logo"})}),xt.jsxs("div",{className:"relative",children:[xt.jsxs("button",{onClick:c,className:"px-5 py-2 bg-violet-400 rounded-xl text-white flex justify-between items-center",children:["Select Wallet",xt.jsx("span",{className:`transform ${o?"rotate-180":""} transition-transform`,children:" "})]}),xt.jsx("div",{className:"absolute right-0 mt-2 w-60 bg-violet-400 text-white rounded-xl shadow-lg overflow-hidden z-50",children:o&&xt.jsx(xt.Fragment,{children:xt.jsxs("div",{className:"px-2 py-3",children:[xt.jsx("h2",{className:"text-xl font-bold underline",children:"Account"}),xt.jsx("br",{}),xt.jsxs("div",{children:[xt.jsx("span",{className:"font-bold",children:"status: "}),t.status,xt.jsx("br",{}),xt.jsx("span",{className:"font-bold",children:"addresses:"})," ",JSON.stringify(t.addresses),xt.jsx("br",{}),xt.jsx("span",{className:"font-bold",children:"chainId:"})," ",t.chainId]}),t.status==="connected"&&xt.jsx("button",{className:"px-5 py-2 bg-red-500 rounded w-full",type:"button",onClick:()=>s(),children:"Disconnect"}),xt.jsx("h2",{className:"font-bold",children:"Connect: "}),e.map(l=>xt.jsx("button",{className:"px-4 mx-5 my-1 bg-violet-900",onClick:()=>r({connector:l}),type:"button",children:l.name},l.uid)),xt.jsx("div",{className:"mt-2",children:n}),xt.jsx("div",{className:"text-orange-300",children:i==null?void 0:i.message})]})})})]})]})},ote=[{title:"Basketball Championship",description:"Bet on the winning team.",odds:"2.5x",image:"src/assets/Logo 640x640.png"},{title:"Soccer World Cup",description:"Predict the winner of the tournament.",odds:"1.8x",image:"src/assets/Logo 640x640.png"},{title:"us election",description:"Predict the winner of the election.",odds:"1.8x",image:"src/assets/Logo 640x640.png"},{title:"Formula 1 Racing",description:"Bet on the fastest lap time.",odds:"3.0x",image:"src/assets/Logo 640x640.png"}];function ate(){return xt.jsx(xt.Fragment,{children:xt.jsxs("div",{className:"",children:[xt.jsx(ste,{}),xt.jsx("section",{className:"w-full flex flex-col justify-center mt-20",children:xt.jsx("div",{className:"flex justify-center flex-wrap my-12",children:ote.map((t,e)=>xt.jsx(nte,{title:t.title,description:t.description,betoption:"yes",betoption2:"no"},e))})}),xt.jsx(ite,{})]})})}const wC=z$({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),bC=z$({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});cb.type="coinbaseWallet";function cb(t={}){return t.version==="3"||t.headlessMode?lte(t):cte(t)}function cte(t){let e,r,n,i;return s=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:cb.type,async connect({chainId:o}={}){try{const a=await this.getProvider(),c=(await a.request({method:"eth_requestAccounts"})).map(h=>Ps(h));r||(r=this.onAccountsChanged.bind(this),a.on("accountsChanged",r)),n||(n=this.onChainChanged.bind(this),a.on("chainChanged",n)),i||(i=this.onDisconnect.bind(this),a.on("disconnect",i));let l=await this.getChainId();if(o&&l!==o){const h=await this.switchChain({chainId:o}).catch(p=>{if(p.code===jr.code)throw p;return{id:l}});l=(h==null?void 0:h.id)??l}return{accounts:c,chainId:l}}catch(a){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(a.message)?new jr(a):a}},async disconnect(){var a;const o=await this.getProvider();r&&(o.removeListener("accountsChanged",r),r=void 0),n&&(o.removeListener("chainChanged",n),n=void 0),i&&(o.removeListener("disconnect",i),i=void 0),o.disconnect(),(a=o.close)==null||a.call(o)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(a=>Ps(a))},async getChainId(){const a=await(await this.getProvider()).request({method:"eth_chainId"});return Number(a)},async getProvider(){if(!e){const o=(()=>{var l;return typeof t.preference=="string"?{options:t.preference}:{...t.preference,options:((l=t.preference)==null?void 0:l.options)??"all"}})(),{createCoinbaseWalletSDK:a}=await Vg(async()=>{const{createCoinbaseWalletSDK:l}=await Promise.resolve().then(()=>sne);return{createCoinbaseWalletSDK:l}},void 0);e=a({...t,appChainIds:s.chains.map(l=>l.id),preference:o}).getProvider()}return e},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:o,chainId:a}){var h,p,v,b;const c=s.chains.find(S=>S.id===a);if(!c)throw new _o(new Xd);const l=await this.getProvider();try{return await l.request({method:"wallet_switchEthereumChain",params:[{chainId:Za(c.id)}]}),c}catch(S){if(S.code===4902)try{let T;o!=null&&o.blockExplorerUrls?T=o.blockExplorerUrls:T=(h=c.blockExplorers)!=null&&h.default.url?[(p=c.blockExplorers)==null?void 0:p.default.url]:[];let B;(v=o==null?void 0:o.rpcUrls)!=null&&v.length?B=o.rpcUrls:B=[((b=c.rpcUrls.default)==null?void 0:b.http[0])??""];const R={blockExplorerUrls:T,chainId:Za(a),chainName:(o==null?void 0:o.chainName)??c.name,iconUrls:o==null?void 0:o.iconUrls,nativeCurrency:(o==null?void 0:o.nativeCurrency)??c.nativeCurrency,rpcUrls:B};return await l.request({method:"wallet_addEthereumChain",params:[R]}),c}catch(T){throw new jr(T)}throw new _o(S)}},onAccountsChanged(o){o.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:o.map(a=>Ps(a))})},onChainChanged(o){const a=Number(o);s.emitter.emit("change",{chainId:a})},async onDisconnect(o){s.emitter.emit("disconnect");const a=await this.getProvider();r&&(a.removeListener("accountsChanged",r),r=void 0),n&&(a.removeListener("chainChanged",n),n=void 0),i&&(a.removeListener("disconnect",i),i=void 0)}})}function lte(t){let r,n,i,s,o;return a=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",type:cb.type,async connect({chainId:c}={}){try{const l=await this.getProvider(),h=(await l.request({method:"eth_requestAccounts"})).map(v=>Ps(v));i||(i=this.onAccountsChanged.bind(this),l.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),l.on("chainChanged",s)),o||(o=this.onDisconnect.bind(this),l.on("disconnect",o));let p=await this.getChainId();if(c&&p!==c){const v=await this.switchChain({chainId:c}).catch(b=>{if(b.code===jr.code)throw b;return{id:p}});p=(v==null?void 0:v.id)??p}return{accounts:h,chainId:p}}catch(l){throw/(user closed modal|accounts received is empty|user denied account)/i.test(l.message)?new jr(l):l}},async disconnect(){const c=await this.getProvider();i&&(c.removeListener("accountsChanged",i),i=void 0),s&&(c.removeListener("chainChanged",s),s=void 0),o&&(c.removeListener("disconnect",o),o=void 0),c.disconnect(),c.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(l=>Ps(l))},async getChainId(){const l=await(await this.getProvider()).request({method:"eth_chainId"});return Number(l)},async getProvider(){var c;if(!n){const l=await(async()=>{const{default:S}=await Vg(async()=>{const{default:T}=await Promise.resolve().then(()=>Lde);return{default:T}},void 0);return typeof S!="function"&&typeof S.default=="function"?S.default:S})();r=new l({...t,reloadOnDisconnect:!1});const h=(c=r.walletExtension)==null?void 0:c.getChainId(),p=a.chains.find(S=>t.chainId?S.id===t.chainId:S.id===h)||a.chains[0],v=t.chainId||(p==null?void 0:p.id),b=t.jsonRpcUrl||(p==null?void 0:p.rpcUrls.default.http[0]);n=r.makeWeb3Provider(b,v)}return n},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:l}){var v,b,S,T;const h=a.chains.find(B=>B.id===l);if(!h)throw new _o(new Xd);const p=await this.getProvider();try{return await p.request({method:"wallet_switchEthereumChain",params:[{chainId:Za(h.id)}]}),h}catch(B){if(B.code===4902)try{let R;c!=null&&c.blockExplorerUrls?R=c.blockExplorerUrls:R=(v=h.blockExplorers)!=null&&v.default.url?[(b=h.blockExplorers)==null?void 0:b.default.url]:[];let P;(S=c==null?void 0:c.rpcUrls)!=null&&S.length?P=c.rpcUrls:P=[((T=h.rpcUrls.default)==null?void 0:T.http[0])??""];const O={blockExplorerUrls:R,chainId:Za(l),chainName:(c==null?void 0:c.chainName)??h.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??h.nativeCurrency,rpcUrls:P};return await p.request({method:"wallet_addEthereumChain",params:[O]}),h}catch(R){throw new jr(R)}throw new _o(B)}},onAccountsChanged(c){c.length===0?this.onDisconnect():a.emitter.emit("change",{accounts:c.map(l=>Ps(l))})},onChainChanged(c){const l=Number(c);a.emitter.emit("change",{chainId:l})},async onDisconnect(c){a.emitter.emit("disconnect");const l=await this.getProvider();i&&(l.removeListener("accountsChanged",i),i=void 0),s&&(l.removeListener("chainChanged",s),s=void 0),o&&(l.removeListener("disconnect",o),o=void 0)}})}X7.type="walletConnect";function X7(t){const e=t.isNewChainsStale??!0;let r,n;const i="eip155";let s,o,a,c,l,h;return p=>({id:"walletConnect",name:"WalletConnect",type:X7.type,async setup(){const v=await this.getProvider().catch(()=>null);v&&(a||(a=this.onConnect.bind(this),v.on("connect",a)),l||(l=this.onSessionDelete.bind(this),v.on("session_delete",l)))},async connect({chainId:v,...b}={}){var S,T;try{const B=await this.getProvider();if(!B)throw new Rl;c||(c=this.onDisplayUri,B.on("display_uri",c));let R=v;if(!R){const D=await((S=p.storage)==null?void 0:S.getItem("state"))??{};p.chains.some(M=>M.id===D.chainId)?R=D.chainId:R=(T=p.chains[0])==null?void 0:T.id}if(!R)throw new Error("No chains found on connector.");const P=await this.isChainsStale();if(B.session&&P&&await B.disconnect(),!B.session||P){const D=p.chains.filter(q=>q.id!==R).map(q=>q.id);await B.connect({optionalChains:[R,...D],..."pairingTopic"in b?{pairingTopic:b.pairingTopic}:{}}),this.setRequestedChainsIds(p.chains.map(q=>q.id))}const O=(await B.enable()).map(D=>Ps(D)),L=await this.getChainId();return c&&(B.removeListener("display_uri",c),c=void 0),a&&(B.removeListener("connect",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),B.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),B.on("chainChanged",o)),h||(h=this.onDisconnect.bind(this),B.on("disconnect",h)),l||(l=this.onSessionDelete.bind(this),B.on("session_delete",l)),{accounts:O,chainId:L}}catch(B){throw/(user rejected|connection request reset)/i.test(B==null?void 0:B.message)?new jr(B):B}},async disconnect(){const v=await this.getProvider();try{await(v==null?void 0:v.disconnect())}catch(b){if(!/No matching key/i.test(b.message))throw b}finally{o&&(v==null||v.removeListener("chainChanged",o),o=void 0),h&&(v==null||v.removeListener("disconnect",h),h=void 0),a||(a=this.onConnect.bind(this),v==null||v.on("connect",a)),s&&(v==null||v.removeListener("accountsChanged",s),s=void 0),l&&(v==null||v.removeListener("session_delete",l),l=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(b=>Ps(b))},async getProvider({chainId:v}={}){var S;async function b(){const T=p.chains.map(R=>R.id);if(!T.length)return;const{EthereumProvider:B}=await Vg(async()=>{const{EthereumProvider:R}=await Promise.resolve().then(()=>V8e);return{EthereumProvider:R}},void 0);return await B.init({...t,disableProviderPing:!0,optionalChains:T,projectId:t.projectId,rpcMap:Object.fromEntries(p.chains.map(R=>{const[P]=See({chain:R,transports:p.transports});return[R.id,P]})),showQrModal:t.showQrModal??!0})}return r||(n||(n=b()),r=await n,r==null||r.events.setMaxListeners(Number.POSITIVE_INFINITY)),v&&await((S=this.switchChain)==null?void 0:S.call(this,{chainId:v})),r},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[v,b]=await Promise.all([this.getAccounts(),this.getProvider()]);return v.length?await this.isChainsStale()&&b.session?(await b.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:v,chainId:b}){var B,R,P;const S=await this.getProvider();if(!S)throw new Rl;const T=p.chains.find(O=>O.id===b);if(!T)throw new _o(new Xd);try{await Promise.all([new Promise(L=>{const D=({chainId:q})=>{q===b&&(p.emitter.off("change",D),L())};p.emitter.on("change",D)}),S.request({method:"wallet_switchEthereumChain",params:[{chainId:Za(b)}]})]);const O=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...O,b]),T}catch(O){const L=O;if(/(user rejected)/i.test(L.message))throw new jr(L);try{let D;v!=null&&v.blockExplorerUrls?D=v.blockExplorerUrls:D=(B=T.blockExplorers)!=null&&B.default.url?[(R=T.blockExplorers)==null?void 0:R.default.url]:[];let q;(P=v==null?void 0:v.rpcUrls)!=null&&P.length?q=v.rpcUrls:q=[...T.rpcUrls.default.http];const M={blockExplorerUrls:D,chainId:Za(b),chainName:(v==null?void 0:v.chainName)??T.name,iconUrls:v==null?void 0:v.iconUrls,nativeCurrency:(v==null?void 0:v.nativeCurrency)??T.nativeCurrency,rpcUrls:q};await S.request({method:"wallet_addEthereumChain",params:[M]});const H=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...H,b]),T}catch(D){throw new jr(D)}}},onAccountsChanged(v){v.length===0?this.onDisconnect():p.emitter.emit("change",{accounts:v.map(b=>Ps(b))})},onChainChanged(v){const b=Number(v);p.emitter.emit("change",{chainId:b})},async onConnect(v){const b=Number(v.chainId),S=await this.getAccounts();p.emitter.emit("connect",{accounts:S,chainId:b})},async onDisconnect(v){this.setRequestedChainsIds([]),p.emitter.emit("disconnect");const b=await this.getProvider();s&&(b.removeListener("accountsChanged",s),s=void 0),o&&(b.removeListener("chainChanged",o),o=void 0),h&&(b.removeListener("disconnect",h),h=void 0),l&&(b.removeListener("session_delete",l),l=void 0),a||(a=this.onConnect.bind(this),b.on("connect",a))},onDisplayUri(v){p.emitter.emit("message",{type:"display_uri",data:v})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var b,S,T;return r?((T=(S=(b=r.session)==null?void 0:b.namespaces[i])==null?void 0:S.accounts)==null?void 0:T.map(B=>Number.parseInt(B.split(":")[1]||"")))??[]:[]},async getRequestedChainsIds(){var v;return await((v=p.storage)==null?void 0:v.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!e)return!1;const v=p.chains.map(T=>T.id),b=this.getNamespaceChainsIds();if(b.length&&!b.some(T=>v.includes(T)))return!1;const S=await this.getRequestedChainsIds();return!v.every(T=>S.includes(T))},async setRequestedChainsIds(v){var b;await((b=p.storage)==null?void 0:b.setItem(this.requestedChainsStorageKey,v))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const ute=_ee({chains:[wC,bC],connectors:[ob(),cb(),X7({projectId:void 0})],transports:{[wC.id]:pC(),[bC.id]:pC()}});globalThis.Buffer=M0.Buffer;const fte=new AQ;I4.createRoot(document.getElementById("root")).render(xt.jsx(oT.StrictMode,{children:xt.jsx(Aee,{config:ute,children:xt.jsx(MQ,{client:fte,children:xt.jsx(ate,{})})})}));let nh=class A8{constructor(e,r){this.scope=e,this.module=r}storeObject(e,r){this.setItem(e,JSON.stringify(r))}loadObject(e){const r=this.getItem(e);return r?JSON.parse(r):void 0}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new A8("CBWSDK").clear(),new A8("walletlink").clear()}};const hn={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},I8={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},tD="Unspecified error message.",hte="Unspecified server error.";function eS(t,e=tD){if(t&&Number.isInteger(t)){const r=t.toString();if(C8(I8,r))return I8[r].message;if(rD(t))return hte}return e}function dte(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(I8[e]||rD(t))}function pte(t,{shouldIncludeStack:e=!1}={}){const r={};if(t&&typeof t=="object"&&!Array.isArray(t)&&C8(t,"code")&&dte(t.code)){const n=t;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,C8(n,"data")&&(r.data=n.data)):(r.message=eS(r.code),r.data={originalError:_C(t)})}else r.code=hn.rpc.internal,r.message=EC(t,"message")?t.message:tD,r.data={originalError:_C(t)};return e&&(r.stack=EC(t,"stack")?t.stack:void 0),r}function rD(t){return t>=-32099&&t<=-32e3}function _C(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function C8(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function EC(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const ir={rpc:{parse:t=>Ys(hn.rpc.parse,t),invalidRequest:t=>Ys(hn.rpc.invalidRequest,t),invalidParams:t=>Ys(hn.rpc.invalidParams,t),methodNotFound:t=>Ys(hn.rpc.methodNotFound,t),internal:t=>Ys(hn.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ys(e,t)},invalidInput:t=>Ys(hn.rpc.invalidInput,t),resourceNotFound:t=>Ys(hn.rpc.resourceNotFound,t),resourceUnavailable:t=>Ys(hn.rpc.resourceUnavailable,t),transactionRejected:t=>Ys(hn.rpc.transactionRejected,t),methodNotSupported:t=>Ys(hn.rpc.methodNotSupported,t),limitExceeded:t=>Ys(hn.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Bh(hn.provider.userRejectedRequest,t),unauthorized:t=>Bh(hn.provider.unauthorized,t),unsupportedMethod:t=>Bh(hn.provider.unsupportedMethod,t),disconnected:t=>Bh(hn.provider.disconnected,t),chainDisconnected:t=>Bh(hn.provider.chainDisconnected,t),unsupportedChain:t=>Bh(hn.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new sD(e,r,n)}}};function Ys(t,e){const[r,n]=nD(e);return new iD(t,r||eS(t),n)}function Bh(t,e){const[r,n]=nD(e);return new sD(t,r||eS(t),n)}function nD(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}let iD=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}},sD=class extends iD{constructor(e,r,n){if(!gte(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};function gte(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function tS(){return t=>t}const dg=tS(),mte=tS(),vte=tS();function Oc(t){return Math.floor(t)}const oD=/^[0-9]*$/,aD=/^[a-f0-9]*$/;function lf(t){return rS(crypto.getRandomValues(new Uint8Array(t)))}function rS(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function l2(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function E1(t,e=!1){const r=t.toString("hex");return dg(e?`0x${r}`:r)}function D6(t){return E1(M8(t),!0)}function pa(t){return vte(t.toString(10))}function Jl(t){return dg(`0x${BigInt(t).toString(16)}`)}function cD(t){return t.startsWith("0x")||t.startsWith("0X")}function nS(t){return cD(t)?t.slice(2):t}function lD(t){return cD(t)?`0x${t.slice(2)}`:`0x${t}`}function lb(t){if(typeof t!="string")return!1;const e=nS(t).toLowerCase();return aD.test(e)}function yte(t,e=!1){if(typeof t=="string"){const r=nS(t).toLowerCase();if(aD.test(r))return dg(e?`0x${r}`:r)}throw ir.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function iS(t,e=!1){let r=yte(t,!1);return r.length%2===1&&(r=dg(`0${r}`)),e?dg(`0x${r}`):r}function _l(t){if(typeof t=="string"){const e=nS(t).toLowerCase();if(lb(e)&&e.length===40)return mte(lD(e))}throw ir.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function M8(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(lb(t)){const e=iS(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw ir.rpc.invalidParams(`Not binary data: ${String(t)}`)}function S1(t){if(typeof t=="number"&&Number.isInteger(t))return Oc(t);if(typeof t=="string"){if(oD.test(t))return Oc(Number(t));if(lb(t))return Oc(Number(BigInt(iS(t,!0))))}throw ir.rpc.invalidParams(`Not an integer: ${String(t)}`)}function Lp(t){if(t!==null&&(typeof t=="bigint"||bte(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(S1(t));if(typeof t=="string"){if(oD.test(t))return BigInt(t);if(lb(t))return BigInt(iS(t,!0))}throw ir.rpc.invalidParams(`Not an integer: ${String(t)}`)}function wte(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw ir.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function bte(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function _te(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function Ete(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Ste(t,e){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,new TextEncoder().encode(e));return{iv:r,cipherText:n}}async function xte(t,{iv:e,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new TextDecoder().decode(n)}function uD(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function fD(t,e){const r=uD(t),n=await crypto.subtle.exportKey(r,e);return rS(new Uint8Array(n))}async function hD(t,e){const r=uD(t),n=l2(e).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function Ate(t,e){const r=JSON.stringify(t,(n,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return Ste(e,r)}async function Ite(t,e){return JSON.parse(await xte(e,t))}const L6={storageKey:"ownPrivateKey",keyType:"private"},B6={storageKey:"ownPublicKey",keyType:"public"},F6={storageKey:"peerPublicKey",keyType:"public"};class Cte{constructor(){this.storage=new nh("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(F6,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(B6.storageKey),this.storage.removeItem(L6.storageKey),this.storage.removeItem(F6.storageKey)}async generateKeyPair(){const e=await _te();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(L6,e.privateKey),await this.storeKey(B6,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(L6)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(B6)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(F6)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await Ete(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const r=this.storage.getItem(e.storageKey);return r?hD(e.keyType,r):null}async storeKey(e,r){const n=await fD(e.keyType,r);this.storage.setItem(e.storageKey,n)}}const Gg="4.2.3",dD="@coinbase/wallet-sdk";async function pD(t,e){const r=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(e,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Gg,"X-Cbw-Sdk-Platform":dD}}),{result:i,error:s}=await n.json();if(s)throw s;return i}function Mte(){return globalThis.coinbaseWalletExtension}function Rte(){var t,e;try{const r=globalThis;return(t=r.ethereum)!==null&&t!==void 0?t:(e=r.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Pte({metadata:t,preference:e}){var r,n;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const c=Mte();if(c)return(r=c.setAppInfo)===null||r===void 0||r.call(c,i,s,o,e),c}const a=Rte();if(a!=null&&a.isCoinbaseBrowser)return(n=a.setAppInfo)===null||n===void 0||n.call(a,i,s,o,e),a}function kte(t){if(!t||typeof t!="object"||Array.isArray(t))throw ir.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if(typeof e!="string"||e.length===0)throw ir.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw ir.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw ir.provider.unsupportedMethod()}}const SC="accounts",xC="activeChain",AC="availableChains",IC="walletCapabilities";class Ote{constructor(e){var r,n,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Cte,this.storage=new nh("CBWSDK","SCWStateManager"),this.accounts=(r=this.storage.loadObject(SC))!==null&&r!==void 0?r:[],this.chain=this.storage.loadObject(xC)||{id:(i=(n=e.metadata.appChainIds)===null||n===void 0?void 0:n[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var r,n;const i=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(r=e.params)!==null&&r!==void 0?r:{})}}),s=await this.communicator.postRequestAndWaitForResponse(i);if("failure"in s.content)throw s.content.failure;const o=await hD("public",s.sender);await this.keyManager.setPeerPublicKey(o);const c=(await this.decryptResponseMessage(s)).result;if("error"in c)throw c.error;const l=c.value;this.accounts=l,this.storage.storeObject(SC,l),(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",l)}async request(e){var r;if(this.accounts.length===0)throw ir.provider.unauthorized();switch(e.method){case"eth_requestAccounts":return(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Jl(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Jl(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(IC);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw ir.rpc.internal("No RPC URL set for chain");return pD(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var r,n;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,r;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(r=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:1}}async handleSwitchChainRequest(e){var r;const n=e.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw ir.rpc.invalidParams();const i=S1(n[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const r=await this.keyManager.getSharedSecret();if(!r)throw ir.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await Ate({action:e,chainId:this.chain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const r=await fD("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var r,n;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw ir.provider.unauthorized("Invalid session");const o=await Ite(i.encrypted,s),a=(r=o.data)===null||r===void 0?void 0:r.chains;if(a){const l=Object.entries(a).map(([h,p])=>({id:Number(h),rpcUrl:p}));this.storage.storeObject(AC,l),this.updateChain(this.chain.id,l)}const c=(n=o.data)===null||n===void 0?void 0:n.capabilities;return c&&this.storage.storeObject(IC,c),o}updateChain(e,r){var n;const i=r??this.storage.loadObject(AC),s=i==null?void 0:i.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(xC,s),(n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Jl(s.id))),!0):!1}}const Tte=sc(xX),{keccak_256:Nte}=Tte;function gD(t){return Buffer.allocUnsafe(t).fill(0)}function $te(t){return t.toString(2).length}function mD(t,e){let r=t.toString(16);r.length%2!==0&&(r="0"+r);const n=r.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;n.length<e;)n.unshift(0);return Buffer.from(n)}function Dte(t,e){const r=t<0n;let n;if(r){const i=(1n<<BigInt(e))-1n;n=(~t&i)+1n}else n=t;return n&=(1n<<BigInt(e))-1n,n}function vD(t,e,r){const n=gD(e);return t=ub(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Lte(t,e){return vD(t,e,!0)}function ub(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")yD(t)?t=Buffer.from(jte(wD(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=mD(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Bte(t){return t=ub(t),"0x"+t.toString("hex")}function Fte(t,e){if(t=ub(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(Nte(new Uint8Array(t)))}function jte(t){return t.length%2?"0"+t:t}function yD(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function wD(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var bD={zeros:gD,setLength:vD,setLengthRight:Lte,isHexString:yD,stripHexPrefix:wD,toBuffer:ub,bufferToHex:Bte,keccak:Fte,bitLengthFromBigInt:$te,bufferBEFromBigInt:mD,twosFromBigInt:Dte};const Di=bD;function _D(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Sd(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function CC(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function ED(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function uf(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function xa(t,e){var r,n,i,s;if(t==="address")return xa("uint160",uf(e));if(t==="bool")return xa("uint8",e?1:0);if(t==="string")return xa("bytes",new Buffer(e,"utf8"));if(zte(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=ED(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(xa(t,e[s]));if(r==="dynamic"){var o=xa("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([xa("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Di.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Sd(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Di.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Sd(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=uf(e);const a=Di.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+a);if(n<0)throw new Error("Supplied uint is negative");return Di.bufferBEFromBigInt(n,32)}else if(t.startsWith("int")){if(r=Sd(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=uf(e);const a=Di.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied int exceeds width: "+r+" vs "+a);const c=Di.twosFromBigInt(n,256);return Di.bufferBEFromBigInt(c,32)}else if(t.startsWith("ufixed")){if(r=CC(t),n=uf(e),n<0)throw new Error("Supplied ufixed is negative");return xa("uint256",n*BigInt(2)**BigInt(r[1]))}else if(t.startsWith("fixed"))return r=CC(t),xa("int256",uf(e)*BigInt(2)**BigInt(r[1]))}throw new Error("Unsupported or invalid type: "+t)}function Ute(t){return t==="string"||t==="bytes"||ED(t)==="dynamic"}function zte(t){return t.lastIndexOf("]")===t.length-1}function qte(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=_D(t[s]),a=e[s],c=xa(o,a);Ute(o)?(r.push(xa("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function SD(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=_D(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Di.setLength(a,20));else if(o.startsWith("bytes")){if(r=Sd(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Di.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Sd(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=uf(a);const c=Di.bitLengthFromBigInt(n);if(c>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+c);i.push(Di.bufferBEFromBigInt(n,r/8))}else if(o.startsWith("int")){if(r=Sd(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=uf(a);const c=Di.bitLengthFromBigInt(n);if(c>r)throw new Error("Supplied int exceeds width: "+r+" vs "+c);const l=Di.twosFromBigInt(n,r);i.push(Di.bufferBEFromBigInt(l,r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Hte(t,e){return Di.keccak(SD(t,e))}var Wte={rawEncode:qte,solidityPack:SD,soliditySHA3:Hte};const Fo=bD,x1=Wte,xD={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},j6={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Fo.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Fo.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Fo.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),p=l.map(v=>o(a,h,v));return["bytes32",Fo.keccak(x1.rawEncode(p.map(([v])=>v),p.map(([,v])=>v)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Fo.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Fo.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Fo.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return x1.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Fo.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Fo.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in xD.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Fo.keccak(Buffer.concat(n))}};var Vte={TYPED_MESSAGE_SCHEMA:xD,TypedDataUtils:j6,hashForSignTypedDataLegacy:function(t){return Kte(t.data)},hashForSignTypedData_v3:function(t){return j6.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return j6.hash(t.data)}};function Kte(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Fo.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return x1.soliditySHA3(["bytes32","bytes32"],[x1.soliditySHA3(new Array(t.length).fill("string"),i),x1.soliditySHA3(n,r)])}const py=_u(Vte),Gte="walletUsername",R8="Addresses",Jte="AppVersion";function ti(t){return t.errorMessage!==void 0}class Qte{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",l2(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),h=new Uint8Array(c),p=new Uint8Array(l),v=new Uint8Array([...n,...h,...p]);return rS(v)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",l2(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=l2(e),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),h=new Uint8Array([...l,...c]),p={name:"AES-GCM",iv:new Uint8Array(a)};try{const v=await window.crypto.subtle.decrypt(p,s,h),b=new TextDecoder;n(b.decode(v))}catch(v){i(v)}})()})}}let Yte=class{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n==null?void 0:n.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}};var jc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(jc||(jc={}));let Zte=class{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,jc.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,jc.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,jc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,jc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}};const MC=1e4,Xte=6e4;let ere=class{constructor({session:e,linkAPIUrl:r,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Oc(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,c)=>{const l=s[c];l!==void 0&&a(l)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,c)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Gte,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(Jte,s)},this.handleChainUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(s),l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(c,l)},this.session=e,this.cipher=new Qte(e.secret),this.listener=n;const i=new Zte(`${r}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case jc.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case jc.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},MC),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case jc.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new Yte(r,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Oc(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r;if(e.type!=="Event"||e.event!=="Web3Response")return;const n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Oc(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>MC*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r={timeout:Xte}){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r.timeout)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Oc(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Oc(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Oc(this.nextReqId++),sessionId:this.session.id}),!0)}},tre=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=lD(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}};const RC="session:id",PC="session:secret",kC="session:linked";class xd{constructor(e,r,n,i=!1){this.storage=e,this.id=r,this.secret=n,this.key=sX(BX(`${r}, ${n} WalletLink`)),this._linked=!!i}static create(e){const r=lf(16),n=lf(32);return new xd(e,r,n).save()}static load(e){const r=e.getItem(RC),n=e.getItem(kC),i=e.getItem(PC);return r&&i?new xd(e,r,i,n==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(RC,this.id),this.storage.setItem(PC,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(kC,this._linked?"1":"0")}}function rre(){try{return window.frameElement!==null}catch{return!1}}function nre(){try{return rre()&&window.top?window.top.location:window.location}catch{return window.location}}function ire(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function AD(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const sre='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function ID(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(sre)),document.documentElement.appendChild(t)}function CD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=CD(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Of(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=CD(t))&&(n&&(n+=" "),n+=e);return n}const ore=Object.freeze(Object.defineProperty({__proto__:null,clsx:Of,default:Of},Symbol.toStringTag,{value:"Module"}));var Jg,Mr,MD,RD,ff,OC,PD,P8,kD,sS,k8,O8,OD,pg={},TD=[],are=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fb=Array.isArray;function Uc(t,e){for(var r in e)t[r]=e[r];return t}function oS(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ur(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Jg.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return A1(t,o,n,i,null)}function A1(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++MD,__i:-1,__u:0};return i==null&&Mr.vnode!=null&&Mr.vnode(s),s}function cre(){return{current:null}}function T0(t){return t.children}function I1(t,e){this.props=t,this.context=e}function t0(t,e){if(e==null)return t.__?t0(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?t0(t):null}function ND(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return ND(t)}}function T8(t){(!t.__d&&(t.__d=!0)&&ff.push(t)&&!X2.__r++||OC!==Mr.debounceRendering)&&((OC=Mr.debounceRendering)||PD)(X2)}function X2(){var t,e,r,n,i,s,o,a;for(ff.sort(P8);t=ff.shift();)t.__d&&(e=ff.length,n=void 0,s=(i=(r=t).__v).__e,o=[],a=[],r.__P&&((n=Uc({},i)).__v=i.__v+1,Mr.vnode&&Mr.vnode(n),aS(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[s]:null,o,s??t0(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,BD(o,n,a),n.__e!=s&&ND(n)),ff.length>e&&ff.sort(P8));X2.__r=0}function $D(t,e,r,n,i,s,o,a,c,l,h){var p,v,b,S,T,B,R=n&&n.__k||TD,P=e.length;for(c=lre(r,e,R,c),p=0;p<P;p++)(b=r.__k[p])!=null&&(v=b.__i===-1?pg:R[b.__i]||pg,b.__i=p,B=aS(t,b,v,i,s,o,a,c,l,h),S=b.__e,b.ref&&v.ref!=b.ref&&(v.ref&&cS(v.ref,null,b),h.push(b.ref,b.__c||S,b)),T==null&&S!=null&&(T=S),4&b.__u||v.__k===b.__k?c=DD(b,c,t):typeof b.type=="function"&&B!==void 0?c=B:S&&(c=S.nextSibling),b.__u&=-7);return r.__e=T,c}function lre(t,e,r,n){var i,s,o,a,c,l=e.length,h=r.length,p=h,v=0;for(t.__k=[],i=0;i<l;i++)(s=e[i])!=null&&typeof s!="boolean"&&typeof s!="function"?(a=i+v,(s=t.__k[i]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?A1(null,s,null,null,null):fb(s)?A1(T0,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?A1(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,o=null,(c=s.__i=ure(s,r,a,p))!==-1&&(p--,(o=r[c])&&(o.__u|=2)),o==null||o.__v===null?(c==-1&&v--,typeof s.type!="function"&&(s.__u|=4)):c!==a&&(c==a-1?v--:c==a+1?v++:(c>a?v--:v++,s.__u|=4))):s=t.__k[i]=null;if(p)for(i=0;i<h;i++)(o=r[i])!=null&&!(2&o.__u)&&(o.__e==n&&(n=t0(o)),FD(o,o));return n}function DD(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=DD(n[i],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=t0(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function LD(t,e){return e=e||[],t==null||typeof t=="boolean"||(fb(t)?t.some(function(r){LD(r,e)}):e.push(t)),e}function ure(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type&&!(2&c.__u))return r;if((typeof s!="function"||s===T0||i)&&n>(c!=null&&!(2&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(2&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(2&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function TC(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||are.test(e)?r:r+"px"}function gy(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||TC(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||TC(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(kD,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=sS,t.addEventListener(e,s?O8:k8,s)):t.removeEventListener(e,s?O8:k8,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function NC(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=sS++;else if(e.t<r.u)return;return r(Mr.event?Mr.event(e):e)}}}function aS(t,e,r,n,i,s,o,a,c,l){var h,p,v,b,S,T,B,R,P,O,L,D,q,M,H,te,oe,K=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),s=[a=e.__e=r.__e]),(h=Mr.__b)&&h(e);e:if(typeof K=="function")try{if(R=e.props,P="prototype"in K&&K.prototype.render,O=(h=K.contextType)&&n[h.__c],L=h?O?O.props.value:h.__:n,r.__c?B=(p=e.__c=r.__c).__=p.__E:(P?e.__c=p=new K(R,L):(e.__c=p=new I1(R,L),p.constructor=K,p.render=hre),O&&O.sub(p),p.props=R,p.state||(p.state={}),p.context=L,p.__n=n,v=p.__d=!0,p.__h=[],p._sb=[]),P&&p.__s==null&&(p.__s=p.state),P&&K.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Uc({},p.__s)),Uc(p.__s,K.getDerivedStateFromProps(R,p.__s))),b=p.props,S=p.state,p.__v=e,v)P&&K.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),P&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(P&&K.getDerivedStateFromProps==null&&R!==b&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(R,L),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(R,p.__s,L)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(p.props=R,p.state=p.__s,p.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(k){k&&(k.__=e)}),D=0;D<p._sb.length;D++)p.__h.push(p._sb[D]);p._sb=[],p.__h.length&&o.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(R,p.__s,L),P&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(b,S,T)})}if(p.context=L,p.props=R,p.__P=t,p.__e=!1,q=Mr.__r,M=0,P){for(p.state=p.__s,p.__d=!1,q&&q(e),h=p.render(p.props,p.state,p.context),H=0;H<p._sb.length;H++)p.__h.push(p._sb[H]);p._sb=[]}else do p.__d=!1,q&&q(e),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++M<25);p.state=p.__s,p.getChildContext!=null&&(n=Uc(Uc({},n),p.getChildContext())),P&&!v&&p.getSnapshotBeforeUpdate!=null&&(T=p.getSnapshotBeforeUpdate(b,S)),a=$D(t,fb(te=h!=null&&h.type===T0&&h.key==null?h.props.children:h)?te:[te],e,r,n,i,s,o,a,c,l),p.base=e.__e,e.__u&=-161,p.__h.length&&o.push(p),B&&(p.__E=p.__=null)}catch(k){if(e.__v=null,c||s!=null)if(k.then){for(e.__u|=c?160:128;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else for(oe=s.length;oe--;)oS(s[oe]);else e.__e=r.__e,e.__k=r.__k;Mr.__e(k,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=fre(r.__e,e,r,n,i,s,o,c,l);return(h=Mr.diffed)&&h(e),128&e.__u?void 0:a}function BD(t,e,r){for(var n=0;n<r.length;n++)cS(r[n],r[++n],r[++n]);Mr.__c&&Mr.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Mr.__e(s,i.__v)}})}function fre(t,e,r,n,i,s,o,a,c){var l,h,p,v,b,S,T,B=r.props,R=e.props,P=e.type;if(P==="svg"?i="http://www.w3.org/2000/svg":P==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((b=s[l])&&"setAttribute"in b==!!P&&(P?b.localName===P:b.nodeType===3)){t=b,s[l]=null;break}}if(t==null){if(P===null)return document.createTextNode(R);t=document.createElementNS(i,P,R.is&&R),a&&(Mr.__m&&Mr.__m(e,s),a=!1),s=null}if(P===null)B===R||a&&t.data===R||(t.data=R);else{if(s=s&&Jg.call(t.childNodes),B=r.props||pg,!a&&s!=null)for(B={},l=0;l<t.attributes.length;l++)B[(b=t.attributes[l]).name]=b.value;for(l in B)if(b=B[l],l!="children"){if(l=="dangerouslySetInnerHTML")p=b;else if(!(l in R)){if(l=="value"&&"defaultValue"in R||l=="checked"&&"defaultChecked"in R)continue;gy(t,l,null,b,i)}}for(l in R)b=R[l],l=="children"?v=b:l=="dangerouslySetInnerHTML"?h=b:l=="value"?S=b:l=="checked"?T=b:a&&typeof b!="function"||B[l]===b||gy(t,l,b,B[l],i);if(h)a||p&&(h.__html===p.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(p&&(t.innerHTML=""),$D(t,fb(v)?v:[v],e,r,n,P==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&t0(r,0),a,c),s!=null)for(l=s.length;l--;)oS(s[l]);a||(l="value",P==="progress"&&S==null?t.removeAttribute("value"):S!==void 0&&(S!==t[l]||P==="progress"&&!S||P==="option"&&S!==B[l])&&gy(t,l,S,B[l],i),l="checked",T!==void 0&&T!==t[l]&&gy(t,l,T,B[l],i))}return t}function cS(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Mr.__e(i,r)}}function FD(t,e,r){var n,i;if(Mr.unmount&&Mr.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||cS(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Mr.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&FD(n[i],e,r||typeof t.type!="function");r||oS(t.__e),t.__c=t.__=t.__e=void 0}function hre(t,e,r){return this.constructor(t,r)}function gg(t,e,r){var n,i,s,o;e===document&&(e=document.documentElement),Mr.__&&Mr.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],aS(e,t=(!n&&r||e).__k=ur(T0,null,[t]),i||pg,pg,e.namespaceURI,!n&&r?[r]:i?null:e.firstChild?Jg.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),BD(s,t,o)}function jD(t,e){gg(t,e,jD)}function dre(t,e,r){var n,i,s,o,a=Uc({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Jg.call(arguments,2):r),A1(t.type,a,n||t.key,i||t.ref,null)}function pre(t,e){var r={__c:e="__cC"+OD++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=new Set,(s={})[e]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.forEach(function(a){a.__e=!0,T8(a)})},this.sub=function(o){i.add(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i&&i.delete(o),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Jg=TD.slice,Mr={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},MD=0,RD=function(t){return t!=null&&t.constructor==null},I1.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Uc({},this.state),typeof t=="function"&&(t=t(Uc({},r),this.props)),t&&Uc(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),T8(this))},I1.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),T8(this))},I1.prototype.render=T0,ff=[],PD=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,P8=function(t,e){return t.__v.__b-e.__v.__b},X2.__r=0,kD=/(PointerCapture)$|Capture$/i,sS=0,k8=NC(!1),O8=NC(!0),OD=0;const gre=Object.freeze(Object.defineProperty({__proto__:null,Component:I1,Fragment:T0,cloneElement:dre,createContext:pre,createElement:ur,createRef:cre,h:ur,hydrate:jD,get isValidElement(){return RD},get options(){return Mr},render:gg,toChildArray:LD},Symbol.toStringTag,{value:"Module"}));var Qc,xr,U6,$C,r0=0,UD=[],Wr=Mr,DC=Wr.__b,LC=Wr.__r,BC=Wr.diffed,FC=Wr.__c,jC=Wr.unmount,UC=Wr.__;function ih(t,e){Wr.__h&&Wr.__h(xr,t,r0||e),r0=0;var r=xr.__H||(xr.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function ew(t){return r0=1,zD(WD,t)}function zD(t,e,r){var n=ih(Qc++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):WD(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=xr,!xr.u)){var i=function(a,c,l){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(v){return!!v.__c});if(h.every(function(v){return!v.__N}))return!s||s.call(this,a,c,l);var p=n.__c.props!==a;return h.forEach(function(v){if(v.__N){var b=v.__[0];v.__=v.__N,v.__N=void 0,b!==v.__[0]&&(p=!0)}}),s&&s.call(this,a,c,l)||p};xr.u=!0;var s=xr.shouldComponentUpdate,o=xr.componentWillUpdate;xr.componentWillUpdate=function(a,c,l){if(this.__e){var h=s;s=void 0,i(a,c,l),s=h}o&&o.call(this,a,c,l)},xr.shouldComponentUpdate=i}return n.__N||n.__}function qD(t,e){var r=ih(Qc++,3);!Wr.__s&&uS(r.__H,e)&&(r.__=t,r.i=e,xr.__H.__h.push(r))}function HD(t,e){var r=ih(Qc++,4);!Wr.__s&&uS(r.__H,e)&&(r.__=t,r.i=e,xr.__h.push(r))}function mre(t){return r0=5,lS(function(){return{current:t}},[])}function vre(t,e,r){r0=6,HD(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function lS(t,e){var r=ih(Qc++,7);return uS(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function yre(t,e){return r0=8,lS(function(){return t},e)}function wre(t){var e=xr.context[t.__c],r=ih(Qc++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(xr)),e.props.value):t.__}function bre(t,e){Wr.useDebugValue&&Wr.useDebugValue(e?e(t):t)}function _re(t){var e=ih(Qc++,10),r=ew();return e.__=t,xr.componentDidCatch||(xr.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Ere(){var t=ih(Qc++,11);if(!t.__){for(var e=xr.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Sre(){for(var t;t=UD.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(u2),t.__H.__h.forEach(N8),t.__H.__h=[]}catch(e){t.__H.__h=[],Wr.__e(e,t.__v)}}Wr.__b=function(t){xr=null,DC&&DC(t)},Wr.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),UC&&UC(t,e)},Wr.__r=function(t){LC&&LC(t),Qc=0;var e=(xr=t.__c).__H;e&&(U6===xr?(e.__h=[],xr.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(u2),e.__h.forEach(N8),e.__h=[],Qc=0)),U6=xr},Wr.diffed=function(t){BC&&BC(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(UD.push(e)!==1&&$C===Wr.requestAnimationFrame||(($C=Wr.requestAnimationFrame)||xre)(Sre)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),U6=xr=null},Wr.__c=function(t,e){e.some(function(r){try{r.__h.forEach(u2),r.__h=r.__h.filter(function(n){return!n.__||N8(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Wr.__e(n,r.__v)}}),FC&&FC(t,e)},Wr.unmount=function(t){jC&&jC(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{u2(n)}catch(i){e=i}}),r.__H=void 0,e&&Wr.__e(e,r.__v))};var zC=typeof requestAnimationFrame=="function";function xre(t){var e,r=function(){clearTimeout(n),zC&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);zC&&(e=requestAnimationFrame(r))}function u2(t){var e=xr,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),xr=e}function N8(t){var e=xr;t.__c=t.__(),xr=e}function uS(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function WD(t,e){return typeof e=="function"?e(t):e}const Are=Object.freeze(Object.defineProperty({__proto__:null,useCallback:yre,useContext:wre,useDebugValue:bre,useEffect:qD,useErrorBoundary:_re,useId:Ere,useImperativeHandle:vre,useLayoutEffect:HD,useMemo:lS,useReducer:zD,useRef:mre,useState:ew},Symbol.toStringTag,{value:"Module"})),Ire=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",Cre="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",Mre="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";let Rre=class{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=AD()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const r=this.nextItemKey++;return this.items.set(r,e),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&gg(ur("div",null,ur(VD,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,r])=>ur(Pre,Object.assign({},r,{key:e}))))),this.root)}};const VD=t=>ur("div",{class:Of("-cbwsdk-snackbar-container")},ur("style",null,Ire),ur("div",{class:"-cbwsdk-snackbar"},t.children)),Pre=({autoExpand:t,message:e,menuItems:r})=>{const[n,i]=ew(!0),[s,o]=ew(t??!1);qD(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return ur("div",{class:Of("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},ur("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},ur("img",{src:Cre,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",ur("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),ur("div",{class:"-gear-container"},!s&&ur("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),ur("img",{src:Mre,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&ur("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((c,l)=>ur("div",{class:Of("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},ur("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ur("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),ur("span",{class:Of("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))};let kre=class{constructor(){this.attached=!1,this.snackbar=new Rre}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.snackbar.attach(r),this.attached=!0,ID()}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}};const Ore=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";let Tre=class{constructor(){this.root=null,this.darkMode=AD()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),ID()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(gg(null,this.root),e&&gg(ur(Nre,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}};const Nre=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return ur(VD,{darkMode:r},ur("div",{class:"-cbwsdk-redirect-dialog"},ur("style",null,Ore),ur("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),ur("div",{class:Of("-cbwsdk-redirect-dialog-box",s)},ur("p",null,t),ur("button",{onClick:n},e))))},$re="https://keys.coinbase.com/connect",qC="https://www.walletlink.org",Dre="https://go.cb-w.com/walletlink";class HC{constructor(){this.attached=!1,this.redirectDialog=new Tre}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const r=new URL(Dre);r.searchParams.append("redirect_url",nre().href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}let KD=class af{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=ire(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(R8);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),af.accountRequestCallbackIds.size>0&&(Array.from(af.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),af.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new tre,this.ui=n,this.ui.attach()}subscribe(){const e=xd.load(this.storage)||xd.create(this.storage),{linkAPIUrl:r}=this,n=new ere({session:e,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new HC:new kre;return n.connect(),{session:e,ui:i,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{const e=xd.load(this.storage);(e==null?void 0:e.id)===this._session.id&&nh.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:pa(e.weiValue),data:E1(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?pa(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?pa(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?pa(e.gasPriceInWei):null,gasLimit:e.gasLimit?pa(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:pa(e.weiValue),data:E1(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?pa(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?pa(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?pa(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?pa(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:E1(e,!0),chainId:r}})}getWalletLinkSession(){return this._session}sendRequest(e){let r=null;const n=lf(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return new Promise((s,o)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,a=>{if(r==null||r(),ti(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,r){const n={type:"WEB3_REQUEST",id:e,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(n.id,{method:r.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof HC)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e,r){if(r.method==="requestEthereumAccounts"){af.accountRequestCallbackIds.forEach(n=>this.invokeCallback(n,r)),af.accountRequestCallbackIds.clear();return}this.invokeCallback(e,r)}handleErrorResponse(e,r,n){var i;const s=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:r,errorMessage:s})}invokeCallback(e,r){const n=this.relayEventManager.callbacks.get(e);n&&(n(r),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:r}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:r}},i=lf(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(ti(a))return o(new Error(a.errorMessage));s(a)}),af.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,n)})}watchAsset(e,r,n,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=lf(8),h=p=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,p),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,v)=>{this.relayEventManager.callbacks.set(l,b=>{if(c==null||c(),ti(b))return v(new Error(b.errorMessage));p(b)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,r,n,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=lf(8),h=p=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,p),c==null||c()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,v)=>{this.relayEventManager.callbacks.set(l,b=>{if(c==null||c(),ti(b))return v(new Error(b.errorMessage));p(b)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})};let i=null;const s=lf(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,l=>{if(i==null||i(),ti(l)&&l.errorCode)return c(ir.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ti(l))return c(new Error(l.errorMessage));a(l)}),this.publishWeb3RequestEvent(s,n)})}};KD.accountRequestCallbackIds=new Set;const WC="DefaultChainId",VC="DefaultJsonRpcUrl";class GD{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new nh("walletlink",qC),this.callback=e.callback||null;const r=this._storage.getItem(R8);if(r){const n=r.split(" ");n[0]!==""&&(this._addresses=n.map(i=>_l(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:r,secret:n}=e.getWalletLinkSession();return{id:r,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(VC))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(VC,e)}updateProviderInfo(e,r){var n;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(WC,r.toString(10)),S1(r)!==i&&((n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Jl(r)))}async watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw ir.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw ir.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw ir.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw ir.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options,l=await this.initializeRelay().watchAsset(r.type,i,s,a,o,n==null?void 0:n.toString());return ti(l)?!1:!!l.result}async addEthereumChain(e){var r,n;const i=e[0];if(((r=i.rpcUrls)===null||r===void 0?void 0:r.length)===0)throw ir.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw ir.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw ir.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:l,iconUrls:h=[],nativeCurrency:p}=i,v=await o.addEthereumChain(s.toString(),a,h,c,l,p);if(ti(v))return!1;if(((n=v.result)===null||n===void 0?void 0:n.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw ir.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const r=e[0],n=Number.parseInt(r.chainId,16),s=await this.initializeRelay().switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(ti(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,r){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>_l(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",i),this._storage.setItem(R8,i.join(" ")))}async request(e){const r=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Jl(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(r);case"wallet_switchEthereumChain":return this.switchEthereumChain(r);case"wallet_watchAsset":return this.watchAsset(r);default:if(!this.jsonRpcUrl)throw ir.rpc.internal("No RPC URL set for chain");return pD(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const r=_l(e);if(!this._addresses.map(i=>_l(i)).includes(r))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?_l(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?_l(e.to):null,i=e.value!=null?Lp(e.value):BigInt(0),s=e.data?M8(e.data):Buffer.alloc(0),o=e.nonce!=null?S1(e.nonce):null,a=e.gasPrice!=null?Lp(e.gasPrice):null,c=e.maxFeePerGas!=null?Lp(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?Lp(e.maxPriorityFeePerGas):null,h=e.gas!=null?Lp(e.gas):null,p=e.chainId?S1(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:h,chainId:p}}async ecRecover(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw ir.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:D6(n[0]),signature:D6(n[1]),addPrefix:r==="personal_ecRecover"}});if(ti(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(WC))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,r;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Jl(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(ti(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Jl(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw ir.rpc.invalidParams();const r=e[1],n=e[0];this._ensureKnownAddress(r);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:_l(r),message:D6(n),addPrefix:!0,typedDataJson:null}});if(ti(s))throw s;return s.result}async _eth_signTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(r);if(ti(i))throw i;return i.result}async _eth_sendRawTransaction(e){const r=M8(e[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if(ti(i))throw i;return i.result}async _eth_sendTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if(ti(i))throw i;return i.result}async signTypedData(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw ir.rpc.invalidParams();const i=l=>{const h={eth_signTypedData_v1:py.hashForSignTypedDataLegacy,eth_signTypedData_v3:py.hashForSignTypedData_v3,eth_signTypedData_v4:py.hashForSignTypedData_v4,eth_signTypedData:py.hashForSignTypedData_v4};return E1(h[r]({data:wte(l)}),!0)},s=n[r==="eth_signTypedData_v1"?1:0],o=n[r==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:_l(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(ti(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new KD({linkAPIUrl:qC,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const JD="SignerType",QD=new nh("CBWSDK","SignerConfigurator");function Lre(){return QD.getItem(JD)}function Bre(t){QD.setItem(JD,t)}async function Fre(t){const{communicator:e,metadata:r,handshakeRequest:n,callback:i}=t;Ure(e,r,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:n})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function jre(t){const{signerType:e,metadata:r,communicator:n,callback:i}=t;switch(e){case"scw":return new Ote({metadata:r,callback:i,communicator:n});case"walletlink":return new GD({metadata:r,callback:i})}}async function Ure(t,e,r){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const n=new GD({metadata:e,callback:r});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const zre=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,qre=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,r=await fetch(e,{method:"HEAD"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("Cross-Origin-Opener-Policy");t=n??"null",t==="same-origin"&&console.error(zre)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:Hre,getCrossOriginOpenerPolicy:Wre}=qre(),KC=420,GC=540;function Vre(t){const e=(window.innerWidth-KC)/2+window.screenX,r=(window.innerHeight-GC)/2+window.screenY;Gre(t);const n=window.open(t,"Smart Wallet",`width=${KC}, height=${GC}, left=${e}, top=${r}`);if(n==null||n.focus(),!n)throw ir.rpc.internal("Pop up window failed to open");return n}function Kre(t){t&&!t.closed&&t.close()}function Gre(t){const e={sdkName:dD,sdkVersion:Gg,origin:window.location.origin,coop:Wre()};for(const[r,n]of Object.entries(e))t.searchParams.append(r,n.toString())}class Jre{constructor({url:e=$re,metadata:r,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const l=c.data;i(l)&&(s(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{Kre(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(ir.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=Vre(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Gg,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw ir.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=r,this.preference=n}}function Qre(t){const e=pte(Yre(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",Gg),r.searchParams.set("code",e.code.toString()),r.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:r.href})}function Yre(t){var e;if(typeof t=="string")return{message:t,code:hn.rpc.internal};if(ti(t)){const r=t.errorMessage,n=(e=t.errorCode)!==null&&e!==void 0?e:r.match(/(denied|rejected)/i)?hn.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:r,code:n,data:{method:t.method}})}return t}class Zre extends Z2{}var Xre=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};let ene=class extends Zre{constructor(e){var{metadata:r}=e,n=e.preference,{keysUrl:i}=n,s=Xre(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=r,this.preference=s,this.communicator=new Jre({url:i,metadata:r,preference:s});const o=Lre();o&&(this.signer=this.initSigner(o))}async request(e){try{if(kte(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const r=await this.requestSignerSelection(e),n=this.initSigner(r);await n.handshake(e),this.signer=n,Bre(r);break}case"net_version":return 1;case"eth_chainId":return Jl(1);default:throw ir.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return this.signer.request(e)}catch(r){const{code:n}=r;return n===hn.provider.unauthorized&&this.disconnect(),Promise.reject(Qre(r))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,nh.clearAll(),this.emit("disconnect",ir.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Fre({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return jre({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}};function tne(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function rne(t){var e;const r={metadata:t.metadata,preference:t.preference};return(e=Pte(r))!==null&&e!==void 0?e:new ene(r)}const nne={options:"all"};function ine(t){var e;new nh("CBWSDK").setItem("VERSION",Gg),Hre();const n={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(nne,(e=t.preference)!==null&&e!==void 0?e:{})};tne(n.preference);let i=null;return{getProvider:()=>(i||(i=rne(n)),i)}}const sne=Object.freeze(Object.defineProperty({__proto__:null,createCoinbaseWalletSDK:ine},Symbol.toStringTag,{value:"Module"}));var YD={},mg={},hb={};Object.defineProperty(hb,"__esModule",{value:!0});hb.walletLogo=void 0;const one=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};hb.walletLogo=one;var db={};Object.defineProperty(db,"__esModule",{value:!0});db.LINK_API_URL=void 0;db.LINK_API_URL="https://www.walletlink.org";var vt={},fS={exports:{}};const ane={},cne=Object.freeze(Object.defineProperty({__proto__:null,default:ane},Symbol.toStringTag,{value:"Module"})),N0=sc(cne);fS.exports;(function(t){(function(e,r){function n(g,f){if(!g)throw new Error(f||"Assertion failed")}function i(g,f){g.super_=f;var m=function(){};m.prototype=f.prototype,g.prototype=new m,g.prototype.constructor=g}function s(g,f,m){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((f==="le"||f==="be")&&(m=f,f=10),this._init(g||0,f||10,m||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=N0.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,m){return f.cmp(m)>0?f:m},s.min=function(f,m){return f.cmp(m)<0?f:m},s.prototype._init=function(f,m,_){if(typeof f=="number")return this._initNumber(f,m,_);if(typeof f=="object")return this._initArray(f,m,_);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),f=f.toString().replace(/\s+/g,"");var I=0;f[0]==="-"&&(I++,this.negative=1),I<f.length&&(m===16?this._parseHex(f,I,_):(this._parseBase(f,m,I),_==="le"&&this._initArray(this.toArray(),m,_)))},s.prototype._initNumber=function(f,m,_){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),m,_)},s.prototype._initArray=function(f,m,_){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C,A,w=0;if(_==="be")for(I=f.length-1,C=0;I>=0;I-=3)A=f[I]|f[I-1]<<8|f[I-2]<<16,this.words[C]|=A<<w&67108863,this.words[C+1]=A>>>26-w&67108863,w+=24,w>=26&&(w-=26,C++);else if(_==="le")for(I=0,C=0;I<f.length;I+=3)A=f[I]|f[I+1]<<8|f[I+2]<<16,this.words[C]|=A<<w&67108863,this.words[C+1]=A>>>26-w&67108863,w+=24,w>=26&&(w-=26,C++);return this._strip()};function a(g,f){var m=g.charCodeAt(f);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+g)}function c(g,f,m){var _=a(g,m);return m-1>=f&&(_|=a(g,m-1)<<4),_}s.prototype._parseHex=function(f,m,_){this.length=Math.ceil((f.length-m)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var C=0,A=0,w;if(_==="be")for(I=f.length-1;I>=m;I-=2)w=c(f,m,I)<<C,this.words[A]|=w&67108863,C>=18?(C-=18,A+=1,this.words[A]|=w>>>26):C+=8;else{var y=f.length-m;for(I=y%2===0?m+1:m;I<f.length;I+=2)w=c(f,m,I)<<C,this.words[A]|=w&67108863,C>=18?(C-=18,A+=1,this.words[A]|=w>>>26):C+=8}this._strip()};function l(g,f,m,_){for(var I=0,C=0,A=Math.min(g.length,m),w=f;w<A;w++){var y=g.charCodeAt(w)-48;I*=_,y>=49?C=y-49+10:y>=17?C=y-17+10:C=y,n(y>=0&&C<_,"Invalid character"),I+=C}return I}s.prototype._parseBase=function(f,m,_){this.words=[0],this.length=1;for(var I=0,C=1;C<=67108863;C*=m)I++;I--,C=C/m|0;for(var A=f.length-_,w=A%I,y=Math.min(A,A-w)+_,E=0,V=_;V<y;V+=I)E=l(f,V,V+I,m),this.imuln(C),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(w!==0){var ce=1;for(E=l(f,V,f.length,m),V=0;V<w;V++)ce*=m;this.imuln(ce),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var m=0;m<this.length;m++)f.words[m]=this.words[m];f.length=this.length,f.negative=this.negative,f.red=this.red};function h(g,f){g.words=f.words,g.length=f.length,g.negative=f.negative,g.red=f.red}if(s.prototype._move=function(f){h(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,m){f=f||10,m=m|0||1;var _;if(f===16||f==="hex"){_="";for(var I=0,C=0,A=0;A<this.length;A++){var w=this.words[A],y=((w<<I|C)&16777215).toString(16);C=w>>>24-I&16777215,I+=2,I>=26&&(I-=26,A--),C!==0||A!==this.length-1?_=v[6-y.length]+y+_:_=y+_}for(C!==0&&(_=C.toString(16)+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(f===(f|0)&&f>=2&&f<=36){var E=b[f],V=S[f];_="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var U=ce.modrn(V).toString(f);ce=ce.idivn(V),ce.isZero()?_=U+_:_=v[E-U.length]+U+_}for(this.isZero()&&(_="0"+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,m){return this.toArrayLike(o,f,m)}),s.prototype.toArray=function(f,m){return this.toArrayLike(Array,f,m)};var T=function(f,m){return f.allocUnsafe?f.allocUnsafe(m):new f(m)};s.prototype.toArrayLike=function(f,m,_){this._strip();var I=this.byteLength(),C=_||Math.max(1,I);n(I<=C,"byte array longer than desired length"),n(C>0,"Requested array length <= 0");var A=T(f,C),w=m==="le"?"LE":"BE";return this["_toArrayLike"+w](A,I),A},s.prototype._toArrayLikeLE=function(f,m){for(var _=0,I=0,C=0,A=0;C<this.length;C++){var w=this.words[C]<<A|I;f[_++]=w&255,_<f.length&&(f[_++]=w>>8&255),_<f.length&&(f[_++]=w>>16&255),A===6?(_<f.length&&(f[_++]=w>>24&255),I=0,A=0):(I=w>>>24,A+=2)}if(_<f.length)for(f[_++]=I;_<f.length;)f[_++]=0},s.prototype._toArrayLikeBE=function(f,m){for(var _=f.length-1,I=0,C=0,A=0;C<this.length;C++){var w=this.words[C]<<A|I;f[_--]=w&255,_>=0&&(f[_--]=w>>8&255),_>=0&&(f[_--]=w>>16&255),A===6?(_>=0&&(f[_--]=w>>24&255),I=0,A=0):(I=w>>>24,A+=2)}if(_>=0)for(f[_--]=I;_>=0;)f[_--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var m=f,_=0;return m>=4096&&(_+=13,m>>>=13),m>=64&&(_+=7,m>>>=7),m>=8&&(_+=4,m>>>=4),m>=2&&(_+=2,m>>>=2),_+m},s.prototype._zeroBits=function(f){if(f===0)return 26;var m=f,_=0;return m&8191||(_+=13,m>>>=13),m&127||(_+=7,m>>>=7),m&15||(_+=4,m>>>=4),m&3||(_+=2,m>>>=2),m&1||_++,_},s.prototype.bitLength=function(){var f=this.words[this.length-1],m=this._countBits(f);return(this.length-1)*26+m};function B(g){for(var f=new Array(g.bitLength()),m=0;m<f.length;m++){var _=m/26|0,I=m%26;f[m]=g.words[_]>>>I&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,m=0;m<this.length;m++){var _=this._zeroBits(this.words[m]);if(f+=_,_!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var m=0;m<f.length;m++)this.words[m]=this.words[m]|f.words[m];return this._strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var m;this.length>f.length?m=f:m=this;for(var _=0;_<m.length;_++)this.words[_]=this.words[_]&f.words[_];return this.length=m.length,this._strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var m,_;this.length>f.length?(m=this,_=f):(m=f,_=this);for(var I=0;I<_.length;I++)this.words[I]=m.words[I]^_.words[I];if(this!==m)for(;I<m.length;I++)this.words[I]=m.words[I];return this.length=m.length,this._strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var m=Math.ceil(f/26)|0,_=f%26;this._expand(m),_>0&&m--;for(var I=0;I<m;I++)this.words[I]=~this.words[I]&67108863;return _>0&&(this.words[I]=~this.words[I]&67108863>>26-_),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,m){n(typeof f=="number"&&f>=0);var _=f/26|0,I=f%26;return this._expand(_+1),m?this.words[_]=this.words[_]|1<<I:this.words[_]=this.words[_]&~(1<<I),this._strip()},s.prototype.iadd=function(f){var m;if(this.negative!==0&&f.negative===0)return this.negative=0,m=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,m=this.isub(f),f.negative=1,m._normSign();var _,I;this.length>f.length?(_=this,I=f):(_=f,I=this);for(var C=0,A=0;A<I.length;A++)m=(_.words[A]|0)+(I.words[A]|0)+C,this.words[A]=m&67108863,C=m>>>26;for(;C!==0&&A<_.length;A++)m=(_.words[A]|0)+C,this.words[A]=m&67108863,C=m>>>26;if(this.length=_.length,C!==0)this.words[this.length]=C,this.length++;else if(_!==this)for(;A<_.length;A++)this.words[A]=_.words[A];return this},s.prototype.add=function(f){var m;return f.negative!==0&&this.negative===0?(f.negative=0,m=this.sub(f),f.negative^=1,m):f.negative===0&&this.negative!==0?(this.negative=0,m=f.sub(this),this.negative=1,m):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var m=this.iadd(f);return f.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var _=this.cmp(f);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,C;_>0?(I=this,C=f):(I=f,C=this);for(var A=0,w=0;w<C.length;w++)m=(I.words[w]|0)-(C.words[w]|0)+A,A=m>>26,this.words[w]=m&67108863;for(;A!==0&&w<I.length;w++)m=(I.words[w]|0)+A,A=m>>26,this.words[w]=m&67108863;if(A===0&&w<I.length&&I!==this)for(;w<I.length;w++)this.words[w]=I.words[w];return this.length=Math.max(this.length,w),I!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function R(g,f,m){m.negative=f.negative^g.negative;var _=g.length+f.length|0;m.length=_,_=_-1|0;var I=g.words[0]|0,C=f.words[0]|0,A=I*C,w=A&67108863,y=A/67108864|0;m.words[0]=w;for(var E=1;E<_;E++){for(var V=y>>>26,ce=y&67108863,U=Math.min(E,f.length-1),Z=Math.max(0,E-g.length+1);Z<=U;Z++){var W=E-Z|0;I=g.words[W]|0,C=f.words[Z]|0,A=I*C+ce,V+=A/67108864|0,ce=A&67108863}m.words[E]=ce|0,y=V|0}return y!==0?m.words[E]=y|0:m.length--,m._strip()}var P=function(f,m,_){var I=f.words,C=m.words,A=_.words,w=0,y,E,V,ce=I[0]|0,U=ce&8191,Z=ce>>>13,W=I[1]|0,Y=W&8191,ee=W>>>13,$=I[2]|0,z=$&8191,J=$>>>13,ae=I[3]|0,fe=ae&8191,ye=ae>>>13,be=I[4]|0,Ee=be&8191,je=be>>>13,Ue=I[5]|0,Ne=Ue&8191,Pe=Ue>>>13,Me=I[6]|0,ke=Me&8191,$e=Me>>>13,Ce=I[7]|0,Oe=Ce&8191,G=Ce>>>13,N=I[8]|0,F=N&8191,X=N>>>13,ie=I[9]|0,ue=ie&8191,de=ie>>>13,_e=C[0]|0,Ie=_e&8191,De=_e>>>13,Fe=C[1]|0,Be=Fe&8191,ct=Fe>>>13,gt=C[2]|0,mt=gt&8191,yt=gt>>>13,Je=C[3]|0,We=Je&8191,Qe=Je>>>13,Ye=C[4]|0,Ke=Ye&8191,Ve=Ye>>>13,nt=C[5]|0,it=nt&8191,Ze=nt>>>13,st=C[6]|0,Xe=st&8191,tt=st>>>13,et=C[7]|0,qe=et&8191,ot=et>>>13,at=C[8]|0,bt=at&8191,_t=at>>>13,Et=C[9]|0,ft=Et&8191,$t=Et>>>13;_.negative=f.negative^m.negative,_.length=19,y=Math.imul(U,Ie),E=Math.imul(U,De),E=E+Math.imul(Z,Ie)|0,V=Math.imul(Z,De);var $r=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+($r>>>26)|0,$r&=67108863,y=Math.imul(Y,Ie),E=Math.imul(Y,De),E=E+Math.imul(ee,Ie)|0,V=Math.imul(ee,De),y=y+Math.imul(U,Be)|0,E=E+Math.imul(U,ct)|0,E=E+Math.imul(Z,Be)|0,V=V+Math.imul(Z,ct)|0;var Dr=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,y=Math.imul(z,Ie),E=Math.imul(z,De),E=E+Math.imul(J,Ie)|0,V=Math.imul(J,De),y=y+Math.imul(Y,Be)|0,E=E+Math.imul(Y,ct)|0,E=E+Math.imul(ee,Be)|0,V=V+Math.imul(ee,ct)|0,y=y+Math.imul(U,mt)|0,E=E+Math.imul(U,yt)|0,E=E+Math.imul(Z,mt)|0,V=V+Math.imul(Z,yt)|0;var Lr=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,y=Math.imul(fe,Ie),E=Math.imul(fe,De),E=E+Math.imul(ye,Ie)|0,V=Math.imul(ye,De),y=y+Math.imul(z,Be)|0,E=E+Math.imul(z,ct)|0,E=E+Math.imul(J,Be)|0,V=V+Math.imul(J,ct)|0,y=y+Math.imul(Y,mt)|0,E=E+Math.imul(Y,yt)|0,E=E+Math.imul(ee,mt)|0,V=V+Math.imul(ee,yt)|0,y=y+Math.imul(U,We)|0,E=E+Math.imul(U,Qe)|0,E=E+Math.imul(Z,We)|0,V=V+Math.imul(Z,Qe)|0;var Br=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Br>>>26)|0,Br&=67108863,y=Math.imul(Ee,Ie),E=Math.imul(Ee,De),E=E+Math.imul(je,Ie)|0,V=Math.imul(je,De),y=y+Math.imul(fe,Be)|0,E=E+Math.imul(fe,ct)|0,E=E+Math.imul(ye,Be)|0,V=V+Math.imul(ye,ct)|0,y=y+Math.imul(z,mt)|0,E=E+Math.imul(z,yt)|0,E=E+Math.imul(J,mt)|0,V=V+Math.imul(J,yt)|0,y=y+Math.imul(Y,We)|0,E=E+Math.imul(Y,Qe)|0,E=E+Math.imul(ee,We)|0,V=V+Math.imul(ee,Qe)|0,y=y+Math.imul(U,Ke)|0,E=E+Math.imul(U,Ve)|0,E=E+Math.imul(Z,Ke)|0,V=V+Math.imul(Z,Ve)|0;var cr=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(cr>>>26)|0,cr&=67108863,y=Math.imul(Ne,Ie),E=Math.imul(Ne,De),E=E+Math.imul(Pe,Ie)|0,V=Math.imul(Pe,De),y=y+Math.imul(Ee,Be)|0,E=E+Math.imul(Ee,ct)|0,E=E+Math.imul(je,Be)|0,V=V+Math.imul(je,ct)|0,y=y+Math.imul(fe,mt)|0,E=E+Math.imul(fe,yt)|0,E=E+Math.imul(ye,mt)|0,V=V+Math.imul(ye,yt)|0,y=y+Math.imul(z,We)|0,E=E+Math.imul(z,Qe)|0,E=E+Math.imul(J,We)|0,V=V+Math.imul(J,Qe)|0,y=y+Math.imul(Y,Ke)|0,E=E+Math.imul(Y,Ve)|0,E=E+Math.imul(ee,Ke)|0,V=V+Math.imul(ee,Ve)|0,y=y+Math.imul(U,it)|0,E=E+Math.imul(U,Ze)|0,E=E+Math.imul(Z,it)|0,V=V+Math.imul(Z,Ze)|0;var Yr=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,y=Math.imul(ke,Ie),E=Math.imul(ke,De),E=E+Math.imul($e,Ie)|0,V=Math.imul($e,De),y=y+Math.imul(Ne,Be)|0,E=E+Math.imul(Ne,ct)|0,E=E+Math.imul(Pe,Be)|0,V=V+Math.imul(Pe,ct)|0,y=y+Math.imul(Ee,mt)|0,E=E+Math.imul(Ee,yt)|0,E=E+Math.imul(je,mt)|0,V=V+Math.imul(je,yt)|0,y=y+Math.imul(fe,We)|0,E=E+Math.imul(fe,Qe)|0,E=E+Math.imul(ye,We)|0,V=V+Math.imul(ye,Qe)|0,y=y+Math.imul(z,Ke)|0,E=E+Math.imul(z,Ve)|0,E=E+Math.imul(J,Ke)|0,V=V+Math.imul(J,Ve)|0,y=y+Math.imul(Y,it)|0,E=E+Math.imul(Y,Ze)|0,E=E+Math.imul(ee,it)|0,V=V+Math.imul(ee,Ze)|0,y=y+Math.imul(U,Xe)|0,E=E+Math.imul(U,tt)|0,E=E+Math.imul(Z,Xe)|0,V=V+Math.imul(Z,tt)|0;var xn=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(xn>>>26)|0,xn&=67108863,y=Math.imul(Oe,Ie),E=Math.imul(Oe,De),E=E+Math.imul(G,Ie)|0,V=Math.imul(G,De),y=y+Math.imul(ke,Be)|0,E=E+Math.imul(ke,ct)|0,E=E+Math.imul($e,Be)|0,V=V+Math.imul($e,ct)|0,y=y+Math.imul(Ne,mt)|0,E=E+Math.imul(Ne,yt)|0,E=E+Math.imul(Pe,mt)|0,V=V+Math.imul(Pe,yt)|0,y=y+Math.imul(Ee,We)|0,E=E+Math.imul(Ee,Qe)|0,E=E+Math.imul(je,We)|0,V=V+Math.imul(je,Qe)|0,y=y+Math.imul(fe,Ke)|0,E=E+Math.imul(fe,Ve)|0,E=E+Math.imul(ye,Ke)|0,V=V+Math.imul(ye,Ve)|0,y=y+Math.imul(z,it)|0,E=E+Math.imul(z,Ze)|0,E=E+Math.imul(J,it)|0,V=V+Math.imul(J,Ze)|0,y=y+Math.imul(Y,Xe)|0,E=E+Math.imul(Y,tt)|0,E=E+Math.imul(ee,Xe)|0,V=V+Math.imul(ee,tt)|0,y=y+Math.imul(U,qe)|0,E=E+Math.imul(U,ot)|0,E=E+Math.imul(Z,qe)|0,V=V+Math.imul(Z,ot)|0;var Zr=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,y=Math.imul(F,Ie),E=Math.imul(F,De),E=E+Math.imul(X,Ie)|0,V=Math.imul(X,De),y=y+Math.imul(Oe,Be)|0,E=E+Math.imul(Oe,ct)|0,E=E+Math.imul(G,Be)|0,V=V+Math.imul(G,ct)|0,y=y+Math.imul(ke,mt)|0,E=E+Math.imul(ke,yt)|0,E=E+Math.imul($e,mt)|0,V=V+Math.imul($e,yt)|0,y=y+Math.imul(Ne,We)|0,E=E+Math.imul(Ne,Qe)|0,E=E+Math.imul(Pe,We)|0,V=V+Math.imul(Pe,Qe)|0,y=y+Math.imul(Ee,Ke)|0,E=E+Math.imul(Ee,Ve)|0,E=E+Math.imul(je,Ke)|0,V=V+Math.imul(je,Ve)|0,y=y+Math.imul(fe,it)|0,E=E+Math.imul(fe,Ze)|0,E=E+Math.imul(ye,it)|0,V=V+Math.imul(ye,Ze)|0,y=y+Math.imul(z,Xe)|0,E=E+Math.imul(z,tt)|0,E=E+Math.imul(J,Xe)|0,V=V+Math.imul(J,tt)|0,y=y+Math.imul(Y,qe)|0,E=E+Math.imul(Y,ot)|0,E=E+Math.imul(ee,qe)|0,V=V+Math.imul(ee,ot)|0,y=y+Math.imul(U,bt)|0,E=E+Math.imul(U,_t)|0,E=E+Math.imul(Z,bt)|0,V=V+Math.imul(Z,_t)|0;var An=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(An>>>26)|0,An&=67108863,y=Math.imul(ue,Ie),E=Math.imul(ue,De),E=E+Math.imul(de,Ie)|0,V=Math.imul(de,De),y=y+Math.imul(F,Be)|0,E=E+Math.imul(F,ct)|0,E=E+Math.imul(X,Be)|0,V=V+Math.imul(X,ct)|0,y=y+Math.imul(Oe,mt)|0,E=E+Math.imul(Oe,yt)|0,E=E+Math.imul(G,mt)|0,V=V+Math.imul(G,yt)|0,y=y+Math.imul(ke,We)|0,E=E+Math.imul(ke,Qe)|0,E=E+Math.imul($e,We)|0,V=V+Math.imul($e,Qe)|0,y=y+Math.imul(Ne,Ke)|0,E=E+Math.imul(Ne,Ve)|0,E=E+Math.imul(Pe,Ke)|0,V=V+Math.imul(Pe,Ve)|0,y=y+Math.imul(Ee,it)|0,E=E+Math.imul(Ee,Ze)|0,E=E+Math.imul(je,it)|0,V=V+Math.imul(je,Ze)|0,y=y+Math.imul(fe,Xe)|0,E=E+Math.imul(fe,tt)|0,E=E+Math.imul(ye,Xe)|0,V=V+Math.imul(ye,tt)|0,y=y+Math.imul(z,qe)|0,E=E+Math.imul(z,ot)|0,E=E+Math.imul(J,qe)|0,V=V+Math.imul(J,ot)|0,y=y+Math.imul(Y,bt)|0,E=E+Math.imul(Y,_t)|0,E=E+Math.imul(ee,bt)|0,V=V+Math.imul(ee,_t)|0,y=y+Math.imul(U,ft)|0,E=E+Math.imul(U,$t)|0,E=E+Math.imul(Z,ft)|0,V=V+Math.imul(Z,$t)|0;var In=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(In>>>26)|0,In&=67108863,y=Math.imul(ue,Be),E=Math.imul(ue,ct),E=E+Math.imul(de,Be)|0,V=Math.imul(de,ct),y=y+Math.imul(F,mt)|0,E=E+Math.imul(F,yt)|0,E=E+Math.imul(X,mt)|0,V=V+Math.imul(X,yt)|0,y=y+Math.imul(Oe,We)|0,E=E+Math.imul(Oe,Qe)|0,E=E+Math.imul(G,We)|0,V=V+Math.imul(G,Qe)|0,y=y+Math.imul(ke,Ke)|0,E=E+Math.imul(ke,Ve)|0,E=E+Math.imul($e,Ke)|0,V=V+Math.imul($e,Ve)|0,y=y+Math.imul(Ne,it)|0,E=E+Math.imul(Ne,Ze)|0,E=E+Math.imul(Pe,it)|0,V=V+Math.imul(Pe,Ze)|0,y=y+Math.imul(Ee,Xe)|0,E=E+Math.imul(Ee,tt)|0,E=E+Math.imul(je,Xe)|0,V=V+Math.imul(je,tt)|0,y=y+Math.imul(fe,qe)|0,E=E+Math.imul(fe,ot)|0,E=E+Math.imul(ye,qe)|0,V=V+Math.imul(ye,ot)|0,y=y+Math.imul(z,bt)|0,E=E+Math.imul(z,_t)|0,E=E+Math.imul(J,bt)|0,V=V+Math.imul(J,_t)|0,y=y+Math.imul(Y,ft)|0,E=E+Math.imul(Y,$t)|0,E=E+Math.imul(ee,ft)|0,V=V+Math.imul(ee,$t)|0;var Xr=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,y=Math.imul(ue,mt),E=Math.imul(ue,yt),E=E+Math.imul(de,mt)|0,V=Math.imul(de,yt),y=y+Math.imul(F,We)|0,E=E+Math.imul(F,Qe)|0,E=E+Math.imul(X,We)|0,V=V+Math.imul(X,Qe)|0,y=y+Math.imul(Oe,Ke)|0,E=E+Math.imul(Oe,Ve)|0,E=E+Math.imul(G,Ke)|0,V=V+Math.imul(G,Ve)|0,y=y+Math.imul(ke,it)|0,E=E+Math.imul(ke,Ze)|0,E=E+Math.imul($e,it)|0,V=V+Math.imul($e,Ze)|0,y=y+Math.imul(Ne,Xe)|0,E=E+Math.imul(Ne,tt)|0,E=E+Math.imul(Pe,Xe)|0,V=V+Math.imul(Pe,tt)|0,y=y+Math.imul(Ee,qe)|0,E=E+Math.imul(Ee,ot)|0,E=E+Math.imul(je,qe)|0,V=V+Math.imul(je,ot)|0,y=y+Math.imul(fe,bt)|0,E=E+Math.imul(fe,_t)|0,E=E+Math.imul(ye,bt)|0,V=V+Math.imul(ye,_t)|0,y=y+Math.imul(z,ft)|0,E=E+Math.imul(z,$t)|0,E=E+Math.imul(J,ft)|0,V=V+Math.imul(J,$t)|0;var yn=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(yn>>>26)|0,yn&=67108863,y=Math.imul(ue,We),E=Math.imul(ue,Qe),E=E+Math.imul(de,We)|0,V=Math.imul(de,Qe),y=y+Math.imul(F,Ke)|0,E=E+Math.imul(F,Ve)|0,E=E+Math.imul(X,Ke)|0,V=V+Math.imul(X,Ve)|0,y=y+Math.imul(Oe,it)|0,E=E+Math.imul(Oe,Ze)|0,E=E+Math.imul(G,it)|0,V=V+Math.imul(G,Ze)|0,y=y+Math.imul(ke,Xe)|0,E=E+Math.imul(ke,tt)|0,E=E+Math.imul($e,Xe)|0,V=V+Math.imul($e,tt)|0,y=y+Math.imul(Ne,qe)|0,E=E+Math.imul(Ne,ot)|0,E=E+Math.imul(Pe,qe)|0,V=V+Math.imul(Pe,ot)|0,y=y+Math.imul(Ee,bt)|0,E=E+Math.imul(Ee,_t)|0,E=E+Math.imul(je,bt)|0,V=V+Math.imul(je,_t)|0,y=y+Math.imul(fe,ft)|0,E=E+Math.imul(fe,$t)|0,E=E+Math.imul(ye,ft)|0,V=V+Math.imul(ye,$t)|0;var wn=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(wn>>>26)|0,wn&=67108863,y=Math.imul(ue,Ke),E=Math.imul(ue,Ve),E=E+Math.imul(de,Ke)|0,V=Math.imul(de,Ve),y=y+Math.imul(F,it)|0,E=E+Math.imul(F,Ze)|0,E=E+Math.imul(X,it)|0,V=V+Math.imul(X,Ze)|0,y=y+Math.imul(Oe,Xe)|0,E=E+Math.imul(Oe,tt)|0,E=E+Math.imul(G,Xe)|0,V=V+Math.imul(G,tt)|0,y=y+Math.imul(ke,qe)|0,E=E+Math.imul(ke,ot)|0,E=E+Math.imul($e,qe)|0,V=V+Math.imul($e,ot)|0,y=y+Math.imul(Ne,bt)|0,E=E+Math.imul(Ne,_t)|0,E=E+Math.imul(Pe,bt)|0,V=V+Math.imul(Pe,_t)|0,y=y+Math.imul(Ee,ft)|0,E=E+Math.imul(Ee,$t)|0,E=E+Math.imul(je,ft)|0,V=V+Math.imul(je,$t)|0;var yr=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(yr>>>26)|0,yr&=67108863,y=Math.imul(ue,it),E=Math.imul(ue,Ze),E=E+Math.imul(de,it)|0,V=Math.imul(de,Ze),y=y+Math.imul(F,Xe)|0,E=E+Math.imul(F,tt)|0,E=E+Math.imul(X,Xe)|0,V=V+Math.imul(X,tt)|0,y=y+Math.imul(Oe,qe)|0,E=E+Math.imul(Oe,ot)|0,E=E+Math.imul(G,qe)|0,V=V+Math.imul(G,ot)|0,y=y+Math.imul(ke,bt)|0,E=E+Math.imul(ke,_t)|0,E=E+Math.imul($e,bt)|0,V=V+Math.imul($e,_t)|0,y=y+Math.imul(Ne,ft)|0,E=E+Math.imul(Ne,$t)|0,E=E+Math.imul(Pe,ft)|0,V=V+Math.imul(Pe,$t)|0;var xi=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(xi>>>26)|0,xi&=67108863,y=Math.imul(ue,Xe),E=Math.imul(ue,tt),E=E+Math.imul(de,Xe)|0,V=Math.imul(de,tt),y=y+Math.imul(F,qe)|0,E=E+Math.imul(F,ot)|0,E=E+Math.imul(X,qe)|0,V=V+Math.imul(X,ot)|0,y=y+Math.imul(Oe,bt)|0,E=E+Math.imul(Oe,_t)|0,E=E+Math.imul(G,bt)|0,V=V+Math.imul(G,_t)|0,y=y+Math.imul(ke,ft)|0,E=E+Math.imul(ke,$t)|0,E=E+Math.imul($e,ft)|0,V=V+Math.imul($e,$t)|0;var Ai=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,y=Math.imul(ue,qe),E=Math.imul(ue,ot),E=E+Math.imul(de,qe)|0,V=Math.imul(de,ot),y=y+Math.imul(F,bt)|0,E=E+Math.imul(F,_t)|0,E=E+Math.imul(X,bt)|0,V=V+Math.imul(X,_t)|0,y=y+Math.imul(Oe,ft)|0,E=E+Math.imul(Oe,$t)|0,E=E+Math.imul(G,ft)|0,V=V+Math.imul(G,$t)|0;var Ii=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,y=Math.imul(ue,bt),E=Math.imul(ue,_t),E=E+Math.imul(de,bt)|0,V=Math.imul(de,_t),y=y+Math.imul(F,ft)|0,E=E+Math.imul(F,$t)|0,E=E+Math.imul(X,ft)|0,V=V+Math.imul(X,$t)|0;var Io=(w+y|0)+((E&8191)<<13)|0;w=(V+(E>>>13)|0)+(Io>>>26)|0,Io&=67108863,y=Math.imul(ue,ft),E=Math.imul(ue,$t),E=E+Math.imul(de,ft)|0,V=Math.imul(de,$t);var al=(w+y|0)+((E&8191)<<13)|0;return w=(V+(E>>>13)|0)+(al>>>26)|0,al&=67108863,A[0]=$r,A[1]=Dr,A[2]=Lr,A[3]=Br,A[4]=cr,A[5]=Yr,A[6]=xn,A[7]=Zr,A[8]=An,A[9]=In,A[10]=Xr,A[11]=yn,A[12]=wn,A[13]=yr,A[14]=xi,A[15]=Ai,A[16]=Ii,A[17]=Io,A[18]=al,w!==0&&(A[19]=w,_.length++),_};Math.imul||(P=R);function O(g,f,m){m.negative=f.negative^g.negative,m.length=g.length+f.length;for(var _=0,I=0,C=0;C<m.length-1;C++){var A=I;I=0;for(var w=_&67108863,y=Math.min(C,f.length-1),E=Math.max(0,C-g.length+1);E<=y;E++){var V=C-E,ce=g.words[V]|0,U=f.words[E]|0,Z=ce*U,W=Z&67108863;A=A+(Z/67108864|0)|0,W=W+w|0,w=W&67108863,A=A+(W>>>26)|0,I+=A>>>26,A&=67108863}m.words[C]=w,_=A,A=I}return _!==0?m.words[C]=_:m.length--,m._strip()}function L(g,f,m){return O(g,f,m)}s.prototype.mulTo=function(f,m){var _,I=this.length+f.length;return this.length===10&&f.length===10?_=P(this,f,m):I<63?_=R(this,f,m):I<1024?_=O(this,f,m):_=L(this,f,m),_},s.prototype.mul=function(f){var m=new s(null);return m.words=new Array(this.length+f.length),this.mulTo(f,m)},s.prototype.mulf=function(f){var m=new s(null);return m.words=new Array(this.length+f.length),L(this,f,m)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var m=f<0;m&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var _=0,I=0;I<this.length;I++){var C=(this.words[I]|0)*f,A=(C&67108863)+(_&67108863);_>>=26,_+=C/67108864|0,_+=A>>>26,this.words[I]=A&67108863}return _!==0&&(this.words[I]=_,this.length++),m?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var m=B(f);if(m.length===0)return new s(1);for(var _=this,I=0;I<m.length&&m[I]===0;I++,_=_.sqr());if(++I<m.length)for(var C=_.sqr();I<m.length;I++,C=C.sqr())m[I]!==0&&(_=_.mul(C));return _},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var m=f%26,_=(f-m)/26,I=67108863>>>26-m<<26-m,C;if(m!==0){var A=0;for(C=0;C<this.length;C++){var w=this.words[C]&I,y=(this.words[C]|0)-w<<m;this.words[C]=y|A,A=w>>>26-m}A&&(this.words[C]=A,this.length++)}if(_!==0){for(C=this.length-1;C>=0;C--)this.words[C+_]=this.words[C];for(C=0;C<_;C++)this.words[C]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,m,_){n(typeof f=="number"&&f>=0);var I;m?I=(m-m%26)/26:I=0;var C=f%26,A=Math.min((f-C)/26,this.length),w=67108863^67108863>>>C<<C,y=_;if(I-=A,I=Math.max(0,I),y){for(var E=0;E<A;E++)y.words[E]=this.words[E];y.length=A}if(A!==0)if(this.length>A)for(this.length-=A,E=0;E<this.length;E++)this.words[E]=this.words[E+A];else this.words[0]=0,this.length=1;var V=0;for(E=this.length-1;E>=0&&(V!==0||E>=I);E--){var ce=this.words[E]|0;this.words[E]=V<<26-C|ce>>>C,V=ce&w}return y&&V!==0&&(y.words[y.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,m,_){return n(this.negative===0),this.iushrn(f,m,_)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,_=(f-m)/26,I=1<<m;if(this.length<=_)return!1;var C=this.words[_];return!!(C&I)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,_=(f-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(m!==0&&_++,this.length=Math.min(_,this.length),m!==0){var I=67108863^67108863>>>m<<m;this.words[this.length-1]&=I}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,m,_){var I=f.length+_,C;this._expand(I);var A,w=0;for(C=0;C<f.length;C++){A=(this.words[C+_]|0)+w;var y=(f.words[C]|0)*m;A-=y&67108863,w=(A>>26)-(y/67108864|0),this.words[C+_]=A&67108863}for(;C<this.length-_;C++)A=(this.words[C+_]|0)+w,w=A>>26,this.words[C+_]=A&67108863;if(w===0)return this._strip();for(n(w===-1),w=0,C=0;C<this.length;C++)A=-(this.words[C]|0)+w,w=A>>26,this.words[C]=A&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,m){var _=this.length-f.length,I=this.clone(),C=f,A=C.words[C.length-1]|0,w=this._countBits(A);_=26-w,_!==0&&(C=C.ushln(_),I.iushln(_),A=C.words[C.length-1]|0);var y=I.length-C.length,E;if(m!=="mod"){E=new s(null),E.length=y+1,E.words=new Array(E.length);for(var V=0;V<E.length;V++)E.words[V]=0}var ce=I.clone()._ishlnsubmul(C,1,y);ce.negative===0&&(I=ce,E&&(E.words[y]=1));for(var U=y-1;U>=0;U--){var Z=(I.words[C.length+U]|0)*67108864+(I.words[C.length+U-1]|0);for(Z=Math.min(Z/A|0,67108863),I._ishlnsubmul(C,Z,U);I.negative!==0;)Z--,I.negative=0,I._ishlnsubmul(C,1,U),I.isZero()||(I.negative^=1);E&&(E.words[U]=Z)}return E&&E._strip(),I._strip(),m!=="div"&&_!==0&&I.iushrn(_),{div:E||null,mod:I}},s.prototype.divmod=function(f,m,_){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,C,A;return this.negative!==0&&f.negative===0?(A=this.neg().divmod(f,m),m!=="mod"&&(I=A.div.neg()),m!=="div"&&(C=A.mod.neg(),_&&C.negative!==0&&C.iadd(f)),{div:I,mod:C}):this.negative===0&&f.negative!==0?(A=this.divmod(f.neg(),m),m!=="mod"&&(I=A.div.neg()),{div:I,mod:A.mod}):this.negative&f.negative?(A=this.neg().divmod(f.neg(),m),m!=="div"&&(C=A.mod.neg(),_&&C.negative!==0&&C.isub(f)),{div:A.div,mod:C}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?m==="div"?{div:this.divn(f.words[0]),mod:null}:m==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,m)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var m=this.divmod(f);if(m.mod.isZero())return m.div;var _=m.div.negative!==0?m.mod.isub(f):m.mod,I=f.ushrn(1),C=f.andln(1),A=_.cmp(I);return A<0||C===1&&A===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},s.prototype.modrn=function(f){var m=f<0;m&&(f=-f),n(f<=67108863);for(var _=(1<<26)%f,I=0,C=this.length-1;C>=0;C--)I=(_*I+(this.words[C]|0))%f;return m?-I:I},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var m=f<0;m&&(f=-f),n(f<=67108863);for(var _=0,I=this.length-1;I>=0;I--){var C=(this.words[I]|0)+_*67108864;this.words[I]=C/f|0,_=C%f}return this._strip(),m?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var m=this,_=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var I=new s(1),C=new s(0),A=new s(0),w=new s(1),y=0;m.isEven()&&_.isEven();)m.iushrn(1),_.iushrn(1),++y;for(var E=_.clone(),V=m.clone();!m.isZero();){for(var ce=0,U=1;!(m.words[0]&U)&&ce<26;++ce,U<<=1);if(ce>0)for(m.iushrn(ce);ce-- >0;)(I.isOdd()||C.isOdd())&&(I.iadd(E),C.isub(V)),I.iushrn(1),C.iushrn(1);for(var Z=0,W=1;!(_.words[0]&W)&&Z<26;++Z,W<<=1);if(Z>0)for(_.iushrn(Z);Z-- >0;)(A.isOdd()||w.isOdd())&&(A.iadd(E),w.isub(V)),A.iushrn(1),w.iushrn(1);m.cmp(_)>=0?(m.isub(_),I.isub(A),C.isub(w)):(_.isub(m),A.isub(I),w.isub(C))}return{a:A,b:w,gcd:_.iushln(y)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var m=this,_=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var I=new s(1),C=new s(0),A=_.clone();m.cmpn(1)>0&&_.cmpn(1)>0;){for(var w=0,y=1;!(m.words[0]&y)&&w<26;++w,y<<=1);if(w>0)for(m.iushrn(w);w-- >0;)I.isOdd()&&I.iadd(A),I.iushrn(1);for(var E=0,V=1;!(_.words[0]&V)&&E<26;++E,V<<=1);if(E>0)for(_.iushrn(E);E-- >0;)C.isOdd()&&C.iadd(A),C.iushrn(1);m.cmp(_)>=0?(m.isub(_),I.isub(C)):(_.isub(m),C.isub(I))}var ce;return m.cmpn(1)===0?ce=I:ce=C,ce.cmpn(0)<0&&ce.iadd(f),ce},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var m=this.clone(),_=f.clone();m.negative=0,_.negative=0;for(var I=0;m.isEven()&&_.isEven();I++)m.iushrn(1),_.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;_.isEven();)_.iushrn(1);var C=m.cmp(_);if(C<0){var A=m;m=_,_=A}else if(C===0||_.cmpn(1)===0)break;m.isub(_)}while(!0);return _.iushln(I)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var m=f%26,_=(f-m)/26,I=1<<m;if(this.length<=_)return this._expand(_+1),this.words[_]|=I,this;for(var C=I,A=_;C!==0&&A<this.length;A++){var w=this.words[A]|0;w+=C,C=w>>>26,w&=67108863,this.words[A]=w}return C!==0&&(this.words[A]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var m=f<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var _;if(this.length>1)_=1;else{m&&(f=-f),n(f<=67108863,"Number is too big");var I=this.words[0]|0;_=I===f?0:I<f?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var m=this.ucmp(f);return this.negative!==0?-m|0:m},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var m=0,_=this.length-1;_>=0;_--){var I=this.words[_]|0,C=f.words[_]|0;if(I!==C){I<C?m=-1:I>C&&(m=1);break}}return m},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new K(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function q(g,f){this.name=g,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},q.prototype.ireduce=function(f){var m=f,_;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),_=m.bitLength();while(_>this.n);var I=_<this.n?-1:m.ucmp(this.p);return I===0?(m.words[0]=0,m.length=1):I>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},q.prototype.split=function(f,m){f.iushrn(this.n,0,m)},q.prototype.imulK=function(f){return f.imul(this.k)};function M(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(M,q),M.prototype.split=function(f,m){for(var _=4194303,I=Math.min(f.length,9),C=0;C<I;C++)m.words[C]=f.words[C];if(m.length=I,f.length<=9){f.words[0]=0,f.length=1;return}var A=f.words[9];for(m.words[m.length++]=A&_,C=10;C<f.length;C++){var w=f.words[C]|0;f.words[C-10]=(w&_)<<4|A>>>22,A=w}A>>>=22,f.words[C-10]=A,A===0&&f.length>10?f.length-=10:f.length-=9},M.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var m=0,_=0;_<f.length;_++){var I=f.words[_]|0;m+=I*977,f.words[_]=m&67108863,m=I*64+(m/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function H(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,q);function te(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(te,q);function oe(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(oe,q),oe.prototype.imulK=function(f){for(var m=0,_=0;_<f.length;_++){var I=(f.words[_]|0)*19+m,C=I&67108863;I>>>=26,f.words[_]=C,m=I}return m!==0&&(f.words[f.length++]=m),f},s._prime=function(f){if(D[f])return D[f];var m;if(f==="k256")m=new M;else if(f==="p224")m=new H;else if(f==="p192")m=new te;else if(f==="p25519")m=new oe;else throw new Error("Unknown prime "+f);return D[f]=m,m};function K(g){if(typeof g=="string"){var f=s._prime(g);this.m=f.p,this.prime=f}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}K.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},K.prototype._verify2=function(f,m){n((f.negative|m.negative)===0,"red works only with positives"),n(f.red&&f.red===m.red,"red works only with red numbers")},K.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(h(f,f.umod(this.m)._forceRed(this)),f)},K.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},K.prototype.add=function(f,m){this._verify2(f,m);var _=f.add(m);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},K.prototype.iadd=function(f,m){this._verify2(f,m);var _=f.iadd(m);return _.cmp(this.m)>=0&&_.isub(this.m),_},K.prototype.sub=function(f,m){this._verify2(f,m);var _=f.sub(m);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},K.prototype.isub=function(f,m){this._verify2(f,m);var _=f.isub(m);return _.cmpn(0)<0&&_.iadd(this.m),_},K.prototype.shl=function(f,m){return this._verify1(f),this.imod(f.ushln(m))},K.prototype.imul=function(f,m){return this._verify2(f,m),this.imod(f.imul(m))},K.prototype.mul=function(f,m){return this._verify2(f,m),this.imod(f.mul(m))},K.prototype.isqr=function(f){return this.imul(f,f.clone())},K.prototype.sqr=function(f){return this.mul(f,f)},K.prototype.sqrt=function(f){if(f.isZero())return f.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(f,_)}for(var I=this.m.subn(1),C=0;!I.isZero()&&I.andln(1)===0;)C++,I.iushrn(1);n(!I.isZero());var A=new s(1).toRed(this),w=A.redNeg(),y=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,y).cmp(w)!==0;)E.redIAdd(w);for(var V=this.pow(E,I),ce=this.pow(f,I.addn(1).iushrn(1)),U=this.pow(f,I),Z=C;U.cmp(A)!==0;){for(var W=U,Y=0;W.cmp(A)!==0;Y++)W=W.redSqr();n(Y<Z);var ee=this.pow(V,new s(1).iushln(Z-Y-1));ce=ce.redMul(ee),V=ee.redSqr(),U=U.redMul(V),Z=Y}return ce},K.prototype.invm=function(f){var m=f._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},K.prototype.pow=function(f,m){if(m.isZero())return new s(1).toRed(this);if(m.cmpn(1)===0)return f.clone();var _=4,I=new Array(1<<_);I[0]=new s(1).toRed(this),I[1]=f;for(var C=2;C<I.length;C++)I[C]=this.mul(I[C-1],f);var A=I[0],w=0,y=0,E=m.bitLength()%26;for(E===0&&(E=26),C=m.length-1;C>=0;C--){for(var V=m.words[C],ce=E-1;ce>=0;ce--){var U=V>>ce&1;if(A!==I[0]&&(A=this.sqr(A)),U===0&&w===0){y=0;continue}w<<=1,w|=U,y++,!(y!==_&&(C!==0||ce!==0))&&(A=this.mul(A,I[w]),y=0,w=0)}E=26}return A},K.prototype.convertTo=function(f){var m=f.umod(this.m);return m===f?m.clone():m},K.prototype.convertFrom=function(f){var m=f.clone();return m.red=null,m},s.mont=function(f){return new k(f)};function k(g){K.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(k,K),k.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},k.prototype.convertFrom=function(f){var m=this.imod(f.mul(this.rinv));return m.red=null,m},k.prototype.imul=function(f,m){if(f.isZero()||m.isZero())return f.words[0]=0,f.length=1,f;var _=f.imul(m),I=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=_.isub(I).iushrn(this.shift),A=C;return C.cmp(this.m)>=0?A=C.isub(this.m):C.cmpn(0)<0&&(A=C.iadd(this.m)),A._forceRed(this)},k.prototype.mul=function(f,m){if(f.isZero()||m.isZero())return new s(0)._forceRed(this);var _=f.mul(m),I=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=_.isub(I).iushrn(this.shift),A=C;return C.cmp(this.m)>=0?A=C.isub(this.m):C.cmpn(0)<0&&(A=C.iadd(this.m)),A._forceRed(this)},k.prototype.invm=function(f){var m=this.imod(f._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,lt)})(fS);var pb=fS.exports,Qg={},Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.errorValues=Yc.standardErrorCodes=void 0;Yc.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Yc.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var gb={},mb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=t.getErrorCode=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Yc,r="Unspecified error message.";t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(v,b=r){if(v&&Number.isInteger(v)){const S=v.toString();if(h(e.errorValues,S))return e.errorValues[S].message;if(c(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=n;function i(v){if(!Number.isInteger(v))return!1;const b=v.toString();return!!(e.errorValues[b]||c(v))}t.isValidCode=i;function s(v){var b;if(typeof v=="number")return v;if(o(v))return(b=v.code)!==null&&b!==void 0?b:v.errorCode}t.getErrorCode=s;function o(v){return typeof v=="object"&&v!==null&&(typeof v.code=="number"||typeof v.errorCode=="number")}function a(v,{shouldIncludeStack:b=!1}={}){const S={};if(v&&typeof v=="object"&&!Array.isArray(v)&&h(v,"code")&&i(v.code)){const T=v;S.code=T.code,T.message&&typeof T.message=="string"?(S.message=T.message,h(T,"data")&&(S.data=T.data)):(S.message=n(S.code),S.data={originalError:l(v)})}else S.code=e.standardErrorCodes.rpc.internal,S.message=p(v,"message")?v.message:r,S.data={originalError:l(v)};return b&&(S.stack=p(v,"stack")?v.stack:void 0),S}t.serialize=a;function c(v){return v>=-32099&&v<=-32e3}function l(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function h(v,b){return Object.prototype.hasOwnProperty.call(v,b)}function p(v,b){return typeof v=="object"&&v!==null&&b in v&&typeof v[b]=="string"}})(mb);Object.defineProperty(gb,"__esModule",{value:!0});gb.standardErrors=void 0;const Zn=Yc,ZD=mb;gb.standardErrors={rpc:{parse:t=>Zs(Zn.standardErrorCodes.rpc.parse,t),invalidRequest:t=>Zs(Zn.standardErrorCodes.rpc.invalidRequest,t),invalidParams:t=>Zs(Zn.standardErrorCodes.rpc.invalidParams,t),methodNotFound:t=>Zs(Zn.standardErrorCodes.rpc.methodNotFound,t),internal:t=>Zs(Zn.standardErrorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Zs(e,t)},invalidInput:t=>Zs(Zn.standardErrorCodes.rpc.invalidInput,t),resourceNotFound:t=>Zs(Zn.standardErrorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Zs(Zn.standardErrorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Zs(Zn.standardErrorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Zs(Zn.standardErrorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Zs(Zn.standardErrorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Fh(Zn.standardErrorCodes.provider.userRejectedRequest,t),unauthorized:t=>Fh(Zn.standardErrorCodes.provider.unauthorized,t),unsupportedMethod:t=>Fh(Zn.standardErrorCodes.provider.unsupportedMethod,t),disconnected:t=>Fh(Zn.standardErrorCodes.provider.disconnected,t),chainDisconnected:t=>Fh(Zn.standardErrorCodes.provider.chainDisconnected,t),unsupportedChain:t=>Fh(Zn.standardErrorCodes.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new tL(e,r,n)}}};function Zs(t,e){const[r,n]=XD(e);return new eL(t,r||(0,ZD.getMessageFromCode)(t),n)}function Fh(t,e){const[r,n]=XD(e);return new tL(t,r||(0,ZD.getMessageFromCode)(t),n)}function XD(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}let eL=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}},tL=class extends eL{constructor(e,r,n){if(!lne(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};function lne(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}var vb={},$0={};Object.defineProperty($0,"__esModule",{value:!0});$0.isErrorResponse=void 0;function une(t){return t.errorMessage!==void 0}$0.isErrorResponse=une;var D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.LIB_VERSION=void 0;D0.LIB_VERSION="3.9.3";Object.defineProperty(vb,"__esModule",{value:!0});vb.serializeError=void 0;const fne=$0,hne=D0,dne=Yc,pne=mb;function gne(t,e){const r=(0,pne.serialize)(mne(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",hne.LIB_VERSION),n.searchParams.set("code",r.code.toString());const i=vne(r.data,e);return i&&n.searchParams.set("method",i),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}vb.serializeError=gne;function mne(t){return typeof t=="string"?{message:t,code:dne.standardErrorCodes.rpc.internal}:(0,fne.isErrorResponse)(t)?Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}}):t}function vne(t,e){const r=t==null?void 0:t.method;if(r)return r;if(e!==void 0){if(typeof e=="string")return e;if(Array.isArray(e)){if(e.length>0)return e[0].method}else return e.method}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.standardErrors=t.standardErrorCodes=t.serializeError=t.getMessageFromCode=t.getErrorCode=void 0;const e=Yc;Object.defineProperty(t,"standardErrorCodes",{enumerable:!0,get:function(){return e.standardErrorCodes}});const r=gb;Object.defineProperty(t,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=vb;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const i=mb;Object.defineProperty(t,"getErrorCode",{enumerable:!0,get:function(){return i.getErrorCode}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}})})(Qg);var On={};Object.defineProperty(On,"__esModule",{value:!0});On.ProviderType=On.RegExpString=On.IntNumber=On.BigIntString=On.AddressString=On.HexString=On.OpaqueType=void 0;function Yg(){return t=>t}On.OpaqueType=Yg;On.HexString=Yg();On.AddressString=Yg();On.BigIntString=Yg();function yne(t){return Math.floor(t)}On.IntNumber=yne;On.RegExpString=Yg();var JC;(function(t){t.CoinbaseWallet="CoinbaseWallet",t.MetaMask="MetaMask",t.Unselected=""})(JC||(On.ProviderType=JC={}));var wne=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vt,"__esModule",{value:!0});vt.isMobileWeb=vt.getLocation=vt.isInIFrame=vt.createQrUrl=vt.getFavicon=vt.range=vt.isBigNumber=vt.ensureParsedJSONObject=vt.ensureBN=vt.ensureRegExpString=vt.ensureIntNumber=vt.ensureBuffer=vt.ensureAddressString=vt.ensureEvenLengthHexString=vt.ensureHexString=vt.isHexString=vt.prepend0x=vt.strip0x=vt.has0xPrefix=vt.hexStringFromIntNumber=vt.intNumberFromHexString=vt.bigIntStringFromBN=vt.hexStringFromBuffer=vt.hexStringToUint8Array=vt.uint8ArrayToHex=vt.randomBytesHex=void 0;const Dl=wne(pb),sh=Qg,vo=On,rL=/^[0-9]*$/,nL=/^[a-f0-9]*$/;function bne(t){return iL(crypto.getRandomValues(new Uint8Array(t)))}vt.randomBytesHex=bne;function iL(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}vt.uint8ArrayToHex=iL;function _ne(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}vt.hexStringToUint8Array=_ne;function Ene(t,e=!1){const r=t.toString("hex");return(0,vo.HexString)(e?`0x${r}`:r)}vt.hexStringFromBuffer=Ene;function Sne(t){return(0,vo.BigIntString)(t.toString(10))}vt.bigIntStringFromBN=Sne;function xne(t){return(0,vo.IntNumber)(new Dl.default(Xg(t,!1),16).toNumber())}vt.intNumberFromHexString=xne;function Ane(t){return(0,vo.HexString)(`0x${new Dl.default(t).toString(16)}`)}vt.hexStringFromIntNumber=Ane;function hS(t){return t.startsWith("0x")||t.startsWith("0X")}vt.has0xPrefix=hS;function yb(t){return hS(t)?t.slice(2):t}vt.strip0x=yb;function sL(t){return hS(t)?`0x${t.slice(2)}`:`0x${t}`}vt.prepend0x=sL;function Zg(t){if(typeof t!="string")return!1;const e=yb(t).toLowerCase();return nL.test(e)}vt.isHexString=Zg;function oL(t,e=!1){if(typeof t=="string"){const r=yb(t).toLowerCase();if(nL.test(r))return(0,vo.HexString)(e?`0x${r}`:r)}throw sh.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}vt.ensureHexString=oL;function Xg(t,e=!1){let r=oL(t,!1);return r.length%2===1&&(r=(0,vo.HexString)(`0${r}`)),e?(0,vo.HexString)(`0x${r}`):r}vt.ensureEvenLengthHexString=Xg;function Ine(t){if(typeof t=="string"){const e=yb(t).toLowerCase();if(Zg(e)&&e.length===40)return(0,vo.AddressString)(sL(e))}throw sh.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}vt.ensureAddressString=Ine;function Cne(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(Zg(t)){const e=Xg(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw sh.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}vt.ensureBuffer=Cne;function aL(t){if(typeof t=="number"&&Number.isInteger(t))return(0,vo.IntNumber)(t);if(typeof t=="string"){if(rL.test(t))return(0,vo.IntNumber)(Number(t));if(Zg(t))return(0,vo.IntNumber)(new Dl.default(Xg(t,!1),16).toNumber())}throw sh.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}vt.ensureIntNumber=aL;function Mne(t){if(t instanceof RegExp)return(0,vo.RegExpString)(t.toString());throw sh.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}vt.ensureRegExpString=Mne;function Rne(t){if(t!==null&&(Dl.default.isBN(t)||cL(t)))return new Dl.default(t.toString(10),10);if(typeof t=="number")return new Dl.default(aL(t));if(typeof t=="string"){if(rL.test(t))return new Dl.default(t,10);if(Zg(t))return new Dl.default(Xg(t,!1),16)}throw sh.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}vt.ensureBN=Rne;function Pne(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw sh.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}vt.ensureParsedJSONObject=Pne;function cL(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}vt.isBigNumber=cL;function kne(t,e){return Array.from({length:e-t},(r,n)=>t+n)}vt.range=kne;function One(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}vt.getFavicon=One;function Tne(t,e,r,n,i,s){const o=n?"parent-id":"id",a=new URLSearchParams({[o]:t,secret:e,server:r,v:i,chainId:s.toString()}).toString();return`${r}/#/link?${a}`}vt.createQrUrl=Tne;function lL(){try{return window.frameElement!==null}catch{return!1}}vt.isInIFrame=lL;function Nne(){try{return lL()&&window.top?window.top.location:window.location}catch{return window.location}}vt.getLocation=Nne;function $ne(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}vt.isMobileWeb=$ne;var wb={};Object.defineProperty(wb,"__esModule",{value:!0});wb.ScopedLocalStorage=void 0;class Dne{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}wb.ScopedLocalStorage=Dne;var n0={};const Lne=sc(dee);var em={},tm={},L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.EVENTS=void 0;L0.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var go={};Object.defineProperty(go,"__esModule",{value:!0});go.RelayAbstract=go.APP_VERSION_KEY=go.LOCAL_STORAGE_ADDRESSES_KEY=go.WALLET_USER_NAME_KEY=void 0;const QC=Qg;go.WALLET_USER_NAME_KEY="walletUsername";go.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";go.APP_VERSION_KEY="AppVersion";class Bne{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw QC.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,QC.serializeError)(s,e.method);return i})}}go.RelayAbstract=Bne;var B0={},uL={exports:{}},$8={exports:{}};typeof Object.create=="function"?$8.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$8.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Wi=$8.exports,D8={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=M0,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(D8,D8.exports);var Iu=D8.exports,fL=Iu.Buffer;function bb(t,e){this._block=fL.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}bb.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=fL.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),l=0;l<c;l++)r[a+l]=t[o+l];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};bb.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};bb.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var F0=bb,Fne=Wi,hL=F0,jne=Iu.Buffer,Une=[1518500249,1859775393,-1894007588,-899497514],zne=new Array(80);function rm(){this.init(),this._w=zne,hL.call(this,64,56)}Fne(rm,hL);rm.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qne(t){return t<<5|t>>>27}function Hne(t){return t<<30|t>>>2}function Wne(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}rm.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var l=~~(c/20),h=qne(r)+Wne(l,n,i,s)+o+e[c]+Une[l]|0;o=s,s=i,i=Hne(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};rm.prototype._hash=function(){var t=jne.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Vne=rm,Kne=Wi,dL=F0,Gne=Iu.Buffer,Jne=[1518500249,1859775393,-1894007588,-899497514],Qne=new Array(80);function nm(){this.init(),this._w=Qne,dL.call(this,64,56)}Kne(nm,dL);nm.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Yne(t){return t<<1|t>>>31}function Zne(t){return t<<5|t>>>27}function Xne(t){return t<<30|t>>>2}function eie(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}nm.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Yne(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),h=Zne(r)+eie(l,n,i,s)+o+e[c]+Jne[l]|0;o=s,s=i,i=Xne(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};nm.prototype._hash=function(){var t=Gne.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var tie=nm,rie=Wi,pL=F0,nie=Iu.Buffer,iie=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sie=new Array(64);function im(){this.init(),this._w=sie,pL.call(this,64,56)}rie(im,pL);im.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function oie(t,e,r){return r^t&(e^r)}function aie(t,e,r){return t&e|r&(t|e)}function cie(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function lie(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function uie(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function fie(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}im.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,h=0;h<16;++h)e[h]=t.readInt32BE(h*4);for(;h<64;++h)e[h]=fie(e[h-2])+e[h-7]+uie(e[h-15])+e[h-16]|0;for(var p=0;p<64;++p){var v=l+lie(o)+oie(o,a,c)+iie[p]+e[p]|0,b=cie(r)+aie(r,n,i)|0;l=c,c=a,a=o,o=s+v|0,s=i,i=n,n=r,r=v+b|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};im.prototype._hash=function(){var t=nie.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var gL=im,hie=Wi,die=gL,pie=F0,gie=Iu.Buffer,mie=new Array(64);function _b(){this.init(),this._w=mie,pie.call(this,64,56)}hie(_b,die);_b.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};_b.prototype._hash=function(){var t=gie.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var vie=_b,yie=Wi,mL=F0,wie=Iu.Buffer,YC=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],bie=new Array(160);function sm(){this.init(),this._w=bie,mL.call(this,128,112)}yie(sm,mL);sm.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function ZC(t,e,r){return r^t&(e^r)}function XC(t,e,r){return t&e|r&(t|e)}function eM(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function tM(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function _ie(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Eie(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Sie(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function xie(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Bn(t,e){return t>>>0<e>>>0?1:0}sm.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,h=this._al|0,p=this._bl|0,v=this._cl|0,b=this._dl|0,S=this._el|0,T=this._fl|0,B=this._gl|0,R=this._hl|0,P=0;P<32;P+=2)e[P]=t.readInt32BE(P*4),e[P+1]=t.readInt32BE(P*4+4);for(;P<160;P+=2){var O=e[P-30],L=e[P-15*2+1],D=_ie(O,L),q=Eie(L,O);O=e[P-2*2],L=e[P-2*2+1];var M=Sie(O,L),H=xie(L,O),te=e[P-7*2],oe=e[P-7*2+1],K=e[P-16*2],k=e[P-16*2+1],g=q+oe|0,f=D+te+Bn(g,q)|0;g=g+H|0,f=f+M+Bn(g,H)|0,g=g+k|0,f=f+K+Bn(g,k)|0,e[P]=f,e[P+1]=g}for(var m=0;m<160;m+=2){f=e[m],g=e[m+1];var _=XC(r,n,i),I=XC(h,p,v),C=eM(r,h),A=eM(h,r),w=tM(o,S),y=tM(S,o),E=YC[m],V=YC[m+1],ce=ZC(o,a,c),U=ZC(S,T,B),Z=R+y|0,W=l+w+Bn(Z,R)|0;Z=Z+U|0,W=W+ce+Bn(Z,U)|0,Z=Z+V|0,W=W+E+Bn(Z,V)|0,Z=Z+g|0,W=W+f+Bn(Z,g)|0;var Y=A+I|0,ee=C+_+Bn(Y,A)|0;l=c,R=B,c=a,B=T,a=o,T=S,S=b+Z|0,o=s+W+Bn(S,b)|0,s=i,b=v,i=n,v=p,n=r,p=h,h=Z+Y|0,r=W+ee+Bn(h,Z)|0}this._al=this._al+h|0,this._bl=this._bl+p|0,this._cl=this._cl+v|0,this._dl=this._dl+b|0,this._el=this._el+S|0,this._fl=this._fl+T|0,this._gl=this._gl+B|0,this._hl=this._hl+R|0,this._ah=this._ah+r+Bn(this._al,h)|0,this._bh=this._bh+n+Bn(this._bl,p)|0,this._ch=this._ch+i+Bn(this._cl,v)|0,this._dh=this._dh+s+Bn(this._dl,b)|0,this._eh=this._eh+o+Bn(this._el,S)|0,this._fh=this._fh+a+Bn(this._fl,T)|0,this._gh=this._gh+c+Bn(this._gl,B)|0,this._hh=this._hh+l+Bn(this._hl,R)|0};sm.prototype._hash=function(){var t=wie.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var vL=sm,Aie=Wi,Iie=vL,Cie=F0,Mie=Iu.Buffer,Rie=new Array(160);function Eb(){this.init(),this._w=Rie,Cie.call(this,128,112)}Aie(Eb,Iie);Eb.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Eb.prototype._hash=function(){var t=Mie.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Pie=Eb,il=uL.exports=function(e){e=e.toLowerCase();var r=il[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};il.sha=Vne;il.sha1=tie;il.sha224=vie;il.sha256=gL;il.sha384=Pie;il.sha512=vL;var kie=uL.exports;Object.defineProperty(B0,"__esModule",{value:!0});B0.Session=void 0;const rM=kie,nM=vt,iM="session:id",sM="session:secret",oM="session:linked";class dS{constructor(e,r,n,i){this._storage=e,this._id=r||(0,nM.randomBytesHex)(16),this._secret=n||(0,nM.randomBytesHex)(32),this._key=new rM.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(iM),n=e.getItem(oM),i=e.getItem(sM);return r&&i?new dS(e,r,i,n==="1"):null}static hash(e){return new rM.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(iM,this._id),this._storage.setItem(sM,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(oM,this._linked?"1":"0")}}B0.Session=dS;var Sb={},xb={};Object.defineProperty(xb,"__esModule",{value:!0});xb.Cipher=void 0;const my=vt;class Oie{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,my.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),h=new Uint8Array(c),p=new Uint8Array(l),v=new Uint8Array([...n,...h,...p]);return(0,my.uint8ArrayToHex)(v)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,my.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=(0,my.hexStringToUint8Array)(e),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),h=new Uint8Array([...l,...c]),p={name:"AES-GCM",iv:new Uint8Array(a)};try{const v=await window.crypto.subtle.decrypt(p,s,h),b=new TextDecoder;n(b.decode(v))}catch(v){i(v)}})()})}}xb.Cipher=Oie;var Ab={};Object.defineProperty(Ab,"__esModule",{value:!0});Ab.WalletLinkHTTP=void 0;class Tie{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n==null?void 0:n.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}Ab.WalletLinkHTTP=Tie;var i0={};Object.defineProperty(i0,"__esModule",{value:!0});i0.WalletLinkWebSocket=i0.ConnectionState=void 0;var pd;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(pd||(i0.ConnectionState=pd={}));class Nie{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,pd.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,pd.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,pd.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,pd.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}i0.WalletLinkWebSocket=Nie;Object.defineProperty(Sb,"__esModule",{value:!0});Sb.WalletLinkConnection=void 0;const jh=On,$ie=xb,ga=L0,aM=go,Uh=B0,Die=Ab,vy=i0,cM=1e4,Lie=6e4;class Bie{constructor({session:e,linkAPIUrl:r,listener:n,diagnostic:i,WebSocketClass:s=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,jh.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=a=>{if(!a)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",l=>a.JsonRpcUrl&&this.handleChainUpdated(l,a.JsonRpcUrl)]]).forEach((l,h)=>{const p=a[h];p!==void 0&&l(p)})},this.handleDestroyed=a=>{var c,l;a==="1"&&((c=this.listener)===null||c===void 0||c.resetAndReload(),(l=this.diagnostic)===null||l===void 0||l.log(ga.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:Uh.Session.hash(this.session.id)}))},this.handleAccountUpdated=async a=>{var c,l;try{const h=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.accountUpdated(h)}catch{(l=this.diagnostic)===null||l===void 0||l.log(ga.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(a,c)=>{var l,h;try{const p=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.metadataUpdated(a,p)}catch{(h=this.diagnostic)===null||h===void 0||h.log(ga.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:a})}},this.handleWalletUsernameUpdated=async a=>{this.handleMetadataUpdated(aM.WALLET_USER_NAME_KEY,a)},this.handleAppVersionUpdated=async a=>{this.handleMetadataUpdated(aM.APP_VERSION_KEY,a)},this.handleChainUpdated=async(a,c)=>{var l,h;try{const p=await this.cipher.decrypt(a),v=await this.cipher.decrypt(c);(l=this.listener)===null||l===void 0||l.chainUpdated(p,v)}catch{(h=this.diagnostic)===null||h===void 0||h.log(ga.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=e,this.cipher=new $ie.Cipher(e.secret),this.diagnostic=i,this.listener=n;const o=new vy.WalletLinkWebSocket(`${r}/rpc`,s);o.setConnectionStateListener(async a=>{var c;(c=this.diagnostic)===null||c===void 0||c.log(ga.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Uh.Session.hash(e.id)});let l=!1;switch(a){case vy.ConnectionState.DISCONNECTED:if(!this.destroyed){const h=async()=>{await new Promise(p=>setTimeout(p,5e3)),this.destroyed||o.connect().catch(()=>{h()})};h()}break;case vy.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),l=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},cM),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case vy.ConnectionState.CONNECTING:break}this.connected!==l&&(this.connected=l)}),o.setIncomingDataListener(a=>{var c,l,h;switch(a.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const p=a.type==="IsLinkedOK"?a.linked:void 0;(c=this.diagnostic)===null||c===void 0||c.log(ga.EVENTS.LINKED,{sessionIdHash:Uh.Session.hash(e.id),linked:p,type:a.type,onlineGuests:a.onlineGuests}),this.linked=p||a.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(l=this.diagnostic)===null||l===void 0||l.log(ga.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Uh.Session.hash(e.id),metadata_keys:a&&a.metadata?Object.keys(a.metadata):void 0}),this.handleSessionMetadataUpdated(a.metadata);break}case"Event":{this.handleIncomingEvent(a);break}}a.id!==void 0&&((h=this.requestResolutions.get(a.id))===null||h===void 0||h(a))}),this.ws=o,this.http=new Die.WalletLinkHTTP(r,e.id,e.key)}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(ga.EVENTS.STARTED_CONNECTING,{sessionIdHash:Uh.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var e;this.destroyed=!0,this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(ga.EVENTS.DISCONNECTED,{sessionIdHash:Uh.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var r,n;this._connected=e,e&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(e)}setOnceConnected(e){return new Promise(r=>{this.connected?e().then(r):this.onceConnected=()=>{e().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r,n;if(!(e.type!=="Event"||e.event!=="Web3Response"))try{const i=await this.cipher.decrypt(e.data),s=JSON.parse(i);if(s.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s)}catch{(n=this.diagnostic)===null||n===void 0||n.log(ga.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(e,r){const n={type:"SetSessionConfig",id:(0,jh.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[e]:r}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(n);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,jh.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>cM*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r=Lie){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async authenticate(){const e={type:"HostSession",id:(0,jh.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(e);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){const e={type:"IsLinked",id:(0,jh.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}sendGetSessionConfig(){const e={type:"GetSessionConfig",id:(0,jh.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(e)}}Sb.WalletLinkConnection=Bie;var om={},am={},pS={};Object.defineProperty(pS,"__esModule",{value:!0});pS.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Fie=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(am,"__esModule",{value:!0});am.injectCssReset=void 0;const jie=Fie(pS);function Uie(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(jie.default)),document.documentElement.appendChild(t)}am.injectCssReset=Uie;var Ib={};const gs=sc(gre);var Cb={};const cm=sc(ore),Mb=sc(Are);var s0={},Rb={};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.CloseIcon=void 0;const lM=gs;function zie(t){return(0,lM.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,lM.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Rb.CloseIcon=zie;var Pb={};Object.defineProperty(Pb,"__esModule",{value:!0});Pb.CoinbaseWalletRound=void 0;const yy=gs;function qie(t){return(0,yy.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,yy.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,yy.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,yy.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}Pb.CoinbaseWalletRound=qie;var kb={};Object.defineProperty(kb,"__esModule",{value:!0});kb.QRCodeIcon=void 0;const Bp=gs;function Hie(t){return(0,Bp.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),(0,Bp.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,Bp.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,Bp.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,Bp.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}kb.QRCodeIcon=Hie;var Ob={};function yL(t){this.mode=Is.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}yL.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Fa(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Fa.prototype={addData:function(t){var e=new yL(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Fa.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Hr.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Hr.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Hr.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Hr.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=Hr.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Fa.PAD0=236;Fa.PAD1=17;Fa.createData=function(t,e,r){for(var n=Ba.getRSBlocks(t,e),i=new wL,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Hr.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Fa.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Fa.PAD1,8);return Fa.createBytes(i,n)};Fa.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=c;var p=Hr.getErrorCorrectPolynomial(l),v=new Ad(s[a],p.getLength()-1),b=v.mod(p);o[a]=new Array(p.getLength()-1);for(var h=0;h<o[a].length;h++){var S=h+b.getLength()-o[a].length;o[a][h]=S>=0?b.get(S):0}}for(var T=0,h=0;h<e.length;h++)T+=e[h].totalCount;for(var B=new Array(T),R=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(B[R++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(B[R++]=o[a][h]);return B};var Is={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Ql={L:1,M:0,Q:3,H:2},El={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Hr={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Hr.getBCHDigit(e)-Hr.getBCHDigit(Hr.G15)>=0;)e^=Hr.G15<<Hr.getBCHDigit(e)-Hr.getBCHDigit(Hr.G15);return(t<<10|e)^Hr.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Hr.getBCHDigit(e)-Hr.getBCHDigit(Hr.G18)>=0;)e^=Hr.G18<<Hr.getBCHDigit(e)-Hr.getBCHDigit(Hr.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Hr.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case El.PATTERN000:return(e+r)%2==0;case El.PATTERN001:return e%2==0;case El.PATTERN010:return r%3==0;case El.PATTERN011:return(e+r)%3==0;case El.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case El.PATTERN101:return e*r%2+e*r%3==0;case El.PATTERN110:return(e*r%2+e*r%3)%2==0;case El.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Ad([1],0),r=0;r<t;r++)e=e.multiply(new Ad([1,Hn.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Is.MODE_NUMBER:return 10;case Is.MODE_ALPHA_NUM:return 9;case Is.MODE_8BIT_BYTE:return 8;case Is.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Is.MODE_NUMBER:return 12;case Is.MODE_ALPHA_NUM:return 11;case Is.MODE_8BIT_BYTE:return 16;case Is.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Is.MODE_NUMBER:return 14;case Is.MODE_ALPHA_NUM:return 13;case Is.MODE_8BIT_BYTE:return 16;case Is.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var p=Math.abs(100*h/e/e-50)/5;return r+=p*10,r}},Hn={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Hn.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Hn.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ri=0;ri<8;ri++)Hn.EXP_TABLE[ri]=1<<ri;for(var ri=8;ri<256;ri++)Hn.EXP_TABLE[ri]=Hn.EXP_TABLE[ri-4]^Hn.EXP_TABLE[ri-5]^Hn.EXP_TABLE[ri-6]^Hn.EXP_TABLE[ri-8];for(var ri=0;ri<255;ri++)Hn.LOG_TABLE[Hn.EXP_TABLE[ri]]=ri;function Ad(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Ad.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Hn.gexp(Hn.glog(this.get(r))+Hn.glog(t.get(n)));return new Ad(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Hn.glog(this.get(0))-Hn.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Hn.gexp(Hn.glog(t.get(n))+e);return new Ad(r,0).mod(t)}};function Ba(t,e){this.totalCount=t,this.dataCount=e}Ba.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ba.getRSBlocks=function(t,e){var r=Ba.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new Ba(a,c));return i};Ba.getRsBlockTable=function(t,e){switch(e){case Ql.L:return Ba.RS_BLOCK_TABLE[(t-1)*4+0];case Ql.M:return Ba.RS_BLOCK_TABLE[(t-1)*4+1];case Ql.Q:return Ba.RS_BLOCK_TABLE[(t-1)*4+2];case Ql.H:return Ba.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function wL(){this.buffer=[],this.length=0}wL.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var z6=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function bL(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Ql.L;case"M":return Ql.M;case"Q":return Ql.Q;case"H":return Ql.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var h=i(c),p=1,v=0,b=0,S=z6.length;b<=S;b++){var T=z6[b];if(!T)throw new Error("Content too long: expected "+v+" but got "+h);switch(l){case"L":v=T[0];break;case"M":v=T[1];break;case"Q":v=T[2];break;case"H":v=T[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(h<=v)break;p++}if(p>z6.length)throw new Error("Content too long");return p}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Fa(o,a),this.qrcode.addData(s),this.qrcode.make()}bL.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),h=a/(c+2*e.padding),p=typeof e.join<"u"?!!e.join:!1,v=typeof e.swap<"u"?!!e.swap:!1,b=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,S=typeof e.predefined<"u"?!!e.predefined:!1,T=S?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",B=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,R="",P="",O=0;O<c;O++)for(var L=0;L<c;L++){var D=r[L][O];if(D){var q=L*l+e.padding*l,M=O*h+e.padding*h;if(v){var H=q;q=M,M=H}if(p){var te=l+q,oe=h+M;q=Number.isInteger(q)?Number(q):q.toFixed(2),M=Number.isInteger(M)?Number(M):M.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),oe=Number.isInteger(oe)?Number(oe):oe.toFixed(2),P+="M"+q+","+M+" V"+oe+" H"+te+" V"+M+" H"+q+" Z "}else S?R+=i+'<use x="'+q.toString()+'" y="'+M.toString()+'" href="#qrmodule" />'+s:R+=i+'<rect x="'+q.toString()+'" y="'+M.toString()+'" width="'+l+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}p&&(R=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+P+'" />');let K="";if(this.options.image!==void 0&&this.options.image.svg){const g=o*this.options.image.width/100,f=a*this.options.image.height/100,m=o/2-g/2,_=a/2-f/2;K+=`<svg x="${m}" y="${_}" width="${g}" height="${f}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,K+=this.options.image.svg+s,K+="</svg>"}var k="";switch(t.container){case"svg":b&&(k+='<?xml version="1.0" standalone="yes"?>'+s),k+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,k+=T+B+R,k+=K,k+="</svg>";break;case"svg-viewbox":b&&(k+='<?xml version="1.0" standalone="yes"?>'+s),k+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,k+=T+B+R,k+=K,k+="</svg>";break;case"g":k+='<g width="'+o+'" height="'+a+'">'+s,k+=T+B+R,k+=K,k+="</g>";break;default:k+=(T+B+R+K).replace(/^\s+/,"");break}return k};var Wie=bL,Vie=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ob,"__esModule",{value:!0});Ob.QRCode=void 0;const Kie=gs,uM=Mb,Gie=Vie(Wie),Jie=t=>{const[e,r]=(0,uM.useState)("");return(0,uM.useEffect)(()=>{var n,i;const s=new Gie.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)},[t.bgColor,t.content,t.fgColor,t.height,t.image,t.width]),e?(0,Kie.h)("img",{src:e,alt:"QR Code"}):null};Ob.QRCode=Jie;var Tb={},gS={};Object.defineProperty(gS,"__esModule",{value:!0});gS.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Qie=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tb,"__esModule",{value:!0});Tb.Spinner=void 0;const wy=gs,Yie=Qie(gS),Zie=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,wy.h)("div",{class:"-cbwsdk-spinner"},(0,wy.h)("style",null,Yie.default),(0,wy.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,wy.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Tb.Spinner=Zie;var mS={};Object.defineProperty(mS,"__esModule",{value:!0});mS.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var _L=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s0,"__esModule",{value:!0});s0.CoinbaseWalletSteps=s0.ConnectContent=void 0;const Tf=_L(cm),rr=gs,Xie=vt,ese=D0,tse=Rb,rse=Pb,nse=kb,ise=Ob,sse=Tb,ose=_L(mS),q6={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:EL},ase=t=>t==="light"?"#FFFFFF":"#0A0B0D";function cse(t){const{theme:e}=t,r=(0,Xie.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),n=q6.steps;return(0,rr.h)("div",{"data-testid":"connect-content",className:(0,Tf.default)("-cbwsdk-connect-content",e)},(0,rr.h)("style",null,ose.default),(0,rr.h)("div",{className:"-cbwsdk-connect-content-header"},(0,rr.h)("h2",{className:(0,Tf.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with our mobile app"),t.onCancel&&(0,rr.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,rr.h)(tse.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,rr.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,rr.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,rr.h)(lse,{title:q6.title,description:q6.description,theme:e})),(0,rr.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,rr.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,rr.h)(ise.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,rr.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:ese.LIB_VERSION}),(0,rr.h)("input",{type:"hidden",value:r})),(0,rr.h)(n,{theme:e}),!t.isConnected&&(0,rr.h)("div",{"data-testid":"connecting-spinner",className:(0,Tf.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,rr.h)(sse.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,rr.h)("p",null,"Connecting...")))))}s0.ConnectContent=cse;function lse({title:t,description:e,theme:r}){return(0,rr.h)("div",{className:(0,Tf.default)("-cbwsdk-connect-item",r)},(0,rr.h)("div",null,(0,rr.h)(rse.CoinbaseWalletRound,null)),(0,rr.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,rr.h)("h3",{className:"-cbwsdk-connect-item-title"},t),(0,rr.h)("p",{className:"-cbwsdk-connect-item-description"},e)))}function EL({theme:t}){return(0,rr.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,rr.h)("li",{className:(0,Tf.default)("-cbwsdk-wallet-steps-item",t)},(0,rr.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,rr.h)("li",{className:(0,Tf.default)("-cbwsdk-wallet-steps-item",t)},(0,rr.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,rr.h)("span",null,"Tap ",(0,rr.h)("strong",null,"Scan")," "),(0,rr.h)("span",{className:(0,Tf.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,rr.h)(nse.QRCodeIcon,{fill:ase(t)})))))}s0.CoinbaseWalletSteps=EL;var Nb={},$b={};Object.defineProperty($b,"__esModule",{value:!0});$b.ArrowLeftIcon=void 0;const fM=gs;function use(t){return(0,fM.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,fM.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}$b.ArrowLeftIcon=use;var Db={};Object.defineProperty(Db,"__esModule",{value:!0});Db.LaptopIcon=void 0;const H6=gs;function fse(t){return(0,H6.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,H6.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,H6.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Db.LaptopIcon=fse;var Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});Lb.SafeIcon=void 0;const hM=gs;function hse(t){return(0,hM.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,hM.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Lb.SafeIcon=hse;var vS={};Object.defineProperty(vS,"__esModule",{value:!0});vS.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var SL=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.TryExtensionContent=void 0;const Vu=SL(cm),En=gs,W6=Mb,dse=$b,pse=Db,gse=Lb,mse=SL(vS);function vse({theme:t}){const[e,r]=(0,W6.useState)(!1),n=(0,W6.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,W6.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,En.h)("div",{class:(0,Vu.default)("-cbwsdk-try-extension",t)},(0,En.h)("style",null,mse.default),(0,En.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,En.h)("h3",{class:(0,Vu.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,En.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,En.h)("button",{class:(0,Vu.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,En.h)("div",null,!e&&(0,En.h)(dse.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,En.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,En.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,En.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,En.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,En.h)("span",{class:(0,Vu.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,En.h)(pse.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,En.h)("div",{class:(0,Vu.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,En.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,En.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,En.h)("span",{class:(0,Vu.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,En.h)(gse.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,En.h)("div",{class:(0,Vu.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Nb.TryExtensionContent=vse;var yS={};Object.defineProperty(yS,"__esModule",{value:!0});yS.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var xL=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cb,"__esModule",{value:!0});Cb.ConnectDialog=void 0;const V6=xL(cm),Ku=gs,K6=Mb,yse=s0,wse=Nb,bse=xL(yS),_se=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,K6.useState)(!e),[s,o]=(0,K6.useState)(!e);(0,K6.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[e]);const a=r?"dark":"light";return(0,Ku.h)("div",{class:(0,V6.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Ku.h)("style",null,bse.default),(0,Ku.h)("div",{class:(0,V6.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Ku.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Ku.h)("div",{class:(0,V6.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Ku.h)(yse.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Ku.h)(wse.TryExtensionContent,{theme:a}))))};Cb.ConnectDialog=_se;Object.defineProperty(Ib,"__esModule",{value:!0});Ib.LinkFlow=void 0;const G6=gs,Ese=Cb;class Sse{constructor(e){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render()}setConnected(e){this.connected!==e&&(this.connected=e,this.render())}setChainId(e){this.chainId!==e&&(this.chainId=e,this.render())}detach(){var e;this.root&&((0,G6.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,G6.render)((0,G6.h)(Ese.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}Ib.LinkFlow=Sse;var wS={},bS={};Object.defineProperty(bS,"__esModule",{value:!0});bS.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=lt&&lt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(cm),n=gs,i=Mb,s=e(bS),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class c{constructor(v){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=v.darkMode}attach(v){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",v.appendChild(this.root),this.render()}presentItem(v){const b=this.nextItemKey++;return this.items.set(b,v),this.render(),()=>{this.items.delete(b),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([v,b])=>(0,n.h)(t.SnackbarInstance,Object.assign({},b,{key:v}))))),this.root)}}t.Snackbar=c;const l=p=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},p.children));t.SnackbarContainer=l;const h=({autoExpand:p,message:v,menuItems:b})=>{const[S,T]=(0,i.useState)(!0),[B,R]=(0,i.useState)(p??!1);(0,i.useEffect)(()=>{const O=[window.setTimeout(()=>{T(!1)},1),window.setTimeout(()=>{R(!0)},1e4)];return()=>{O.forEach(window.clearTimeout)}});const P=()=>{R(!B)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",S&&"-cbwsdk-snackbar-instance-hidden",B&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:P},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},v),(0,n.h)("div",{class:"-gear-container"},!B&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),b&&b.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},b.map((O,L)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",O.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:O.onClick,key:L},(0,n.h)("svg",{width:O.svgWidth,height:O.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":O.defaultFillRule,"clip-rule":O.defaultClipRule,d:O.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",O.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},O.info)))))};t.SnackbarInstance=h})(wS);Object.defineProperty(om,"__esModule",{value:!0});om.WalletLinkRelayUI=void 0;const xse=am,Ase=Ib,Ise=wS;class Cse{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new Ise.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Ase.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,xse.injectCssReset)()}setConnected(e){this.linkFlow.setConnected(e)}setChainId(e){this.linkFlow.setChainId(e)}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}om.WalletLinkRelayUI=Cse;Object.defineProperty(tm,"__esModule",{value:!0});tm.WalletLinkRelay=void 0;const zh=Qg,Mse=On,qr=vt,Gu=L0,dM=go,Sl=B0,Rse=Sb,Ju=$0,Pse=om;class Tc extends dM.RelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=o=>{var a;this.isLinked=o;const c=this.storage.getItem(dM.LOCAL_STORAGE_ADDRESSES_KEY);if(o&&(this.session.linked=o),this.isUnlinkedErrorState=!1,c){const l=c.split(" "),h=this.storage.getItem("IsStandaloneSigning")==="true";if(l[0]!==""&&!o&&this.session.linked&&!h){this.isUnlinkedErrorState=!0;const p=this.getSessionIdHash();(a=this.diagnostic)===null||a===void 0||a.log(Gu.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:p})}}},this.metadataUpdated=(o,a)=>{this.storage.setItem(o,a)},this.chainUpdated=(o,a)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:o,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(o,a))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),Tc.accountRequestCallbackIds.size>0&&(Array.from(Tc.accountRequestCallbackIds.values()).forEach(a=>{const c={type:"WEB3_RESPONSE",id:a,response:{method:"requestEthereumAccounts",result:[o]}};this.invokeCallback(Object.assign(Object.assign({},c),{id:a}))}),Tc.accountRequestCallbackIds.clear())},this.connectedUpdated=o=>{this.ui.setConnected(o)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){const e=Sl.Session.load(this.storage)||new Sl.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,i=new Rse.WalletLinkConnection({session:e,linkAPIUrl:r,diagnostic:n,listener:this}),{version:s,darkMode:o}=this.options,a=this.options.uiConstructor({linkAPIUrl:r,version:s,darkMode:o,session:e});return i.connect(),{session:e,ui:a,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{var e,r;const n=this.ui.isStandalone();(e=this.diagnostic)===null||e===void 0||e.log(Gu.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const i=Sl.Session.load(this.storage);if((i==null?void 0:i.id)===this._session.id?this.storage.clear():i&&((r=this.diagnostic)===null||r===void 0||r.log(Gu.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Sl.Session.hash(i.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:s,ui:o,connection:a}=this.subscribe();this._session=s,this.connection=a,this.ui=o,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Gu.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,qr.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,qr.hexStringFromBuffer)(e,!0),signature:(0,qr.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,qr.bigIntStringFromBN)(e.weiValue),data:(0,qr.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,qr.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,qr.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,qr.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,qr.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,qr.bigIntStringFromBN)(e.weiValue),data:(0,qr.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,qr.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,qr.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,qr.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,qr.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,qr.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getQRCodeUrl(){return(0,qr.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:"generic",params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,qr.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),(0,Ju.isErrorResponse)(c))return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e,this.ui instanceof Pse.WalletLinkRelayUI&&this.ui.setChainId(e)}publishWeb3RequestEvent(e,r){var n;const i={type:"WEB3_REQUEST",id:e,request:r},s=Sl.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Gu.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Sl.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.publishEvent("Web3Request",i,!0).then(o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Gu.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Sl.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})}).catch(o=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i.id,response:{method:r.method,errorMessage:o.message}})})}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Gu.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){Tc.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Tc.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,zh.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:{method:r,errorMessage:o,errorCode:i}})}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,qr.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{if(this.relayEventManager.callbacks.set(r,a=>{if(this.ui.hideRequestEthereumAccounts(),(0,Ju.isErrorResponse)(a))return o(new Error(a.errorMessage));s(a)}),this.ui.inlineAccountsResponse()){const a=c=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:c}})};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:a})}else{const a=zh.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(a)})}Tc.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:"selectProvider",params:{providerOptions:e}},n=(0,qr.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if((0,Ju.isErrorResponse)(h))return a(new Error(h.errorMessage));o(h)});const c=h=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:Mse.ProviderType.Unselected}})},l=h=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:h}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,qr.randomBytesHex)(8),h=v=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,v),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const p=new Promise((v,b)=>{this.relayEventManager.callbacks.set(l,B=>{if(c==null||c(),(0,Ju.isErrorResponse)(B))return b(new Error(B.errorMessage));v(B)});const S=B=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!1}})},T=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:T,onCancel:S,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:h,promise:p}}addEthereumChain(e,r,n,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,qr.randomBytesHex)(8),h=v=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,v),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((v,b)=>{this.relayEventManager.callbacks.set(l,B=>{if(c==null||c(),(0,Ju.isErrorResponse)(B))return b(new Error(B.errorMessage));v(B)});const S=B=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},T=B=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:l,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:B}}})};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:S,onApprove:T,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})},i=(0,qr.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,p=>{if((0,Ju.isErrorResponse)(p)&&p.errorCode)return c(zh.standardErrors.provider.custom({code:p.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,Ju.isErrorResponse)(p))return c(new Error(p.errorMessage));a(p)});const l=p=>{var v;if(p){const b=(v=(0,zh.getErrorCode)(p))!==null&&v!==void 0?v:zh.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,"switchEthereumChain",p instanceof Error?p:zh.standardErrors.provider.unsupportedChain(e),b)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},h=p=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:p}}})};this.ui.switchEthereumChain({onCancel:l,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Sl.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:s})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}}tm.WalletLinkRelay=Tc;Tc.accountRequestCallbackIds=new Set;var lm={},Bb={},AL={};(function(t){var e=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wS,t)})(AL);var _S={};Object.defineProperty(_S,"__esModule",{value:!0});_S.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var IL=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bb,"__esModule",{value:!0});Bb.RedirectDialog=void 0;const kse=IL(cm),Pa=gs,Ose=am,Tse=AL,Nse=IL(_S);class $se{constructor(){this.root=null}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),(0,Ose.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&((0,Pa.render)(null,this.root),e&&(0,Pa.render)((0,Pa.h)(Dse,Object.assign({},e,{onDismiss:()=>{this.clear()}})),this.root))}}Bb.RedirectDialog=$se;const Dse=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return(0,Pa.h)(Tse.SnackbarContainer,{darkMode:r},(0,Pa.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,Pa.h)("style",null,Nse.default),(0,Pa.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,Pa.h)("div",{class:(0,kse.default)("-cbwsdk-redirect-dialog-box",s)},(0,Pa.h)("p",null,t),(0,Pa.h)("button",{onClick:n},e))))};Object.defineProperty(lm,"__esModule",{value:!0});lm.MobileRelayUI=void 0;const Lse=Bb;class Bse{constructor(e){this.attached=!1,this.darkMode=!1,this.redirectDialog=new Lse.RedirectDialog,this.darkMode=e.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(e){}redirectToCoinbaseWallet(e){const r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}lm.MobileRelayUI=Bse;Object.defineProperty(em,"__esModule",{value:!0});em.MobileRelay=void 0;const Fse=vt,jse=tm,Use=lm;class zse extends jse.WalletLinkRelay{constructor(e){var r;super(e),this._enableMobileWalletLink=(r=e.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const e=(0,Fse.getLocation)();e.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(e.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(e,r){if(super.publishWeb3RequestEvent(e,r),!(this._enableMobileWalletLink&&this.ui instanceof Use.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(e){super.handleWeb3ResponseMessage(e)}connectAndSignIn(e){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:e.statement,resources:e.resources}})}}em.MobileRelay=zse;var L8={exports:{}},ES={exports:{}},Id=typeof Reflect=="object"?Reflect:null,pM=Id&&typeof Id.apply=="function"?Id.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},f2;Id&&typeof Id.ownKeys=="function"?f2=Id.ownKeys:Object.getOwnPropertySymbols?f2=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:f2=function(e){return Object.getOwnPropertyNames(e)};function qse(t){console&&console.warn&&console.warn(t)}var CL=Number.isNaN||function(e){return e!==e};function vr(){vr.init.call(this)}ES.exports=vr;ES.exports.once=Kse;vr.EventEmitter=vr;vr.prototype._events=void 0;vr.prototype._eventsCount=0;vr.prototype._maxListeners=void 0;var gM=10;function Fb(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(vr,"defaultMaxListeners",{enumerable:!0,get:function(){return gM},set:function(t){if(typeof t!="number"||t<0||CL(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");gM=t}});vr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};vr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||CL(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ML(t){return t._maxListeners===void 0?vr.defaultMaxListeners:t._maxListeners}vr.prototype.getMaxListeners=function(){return ML(this)};vr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")pM(c,this,r);else for(var l=c.length,h=TL(c,l),n=0;n<l;++n)pM(h[n],this,r);return!0};function RL(t,e,r,n){var i,s,o;if(Fb(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=ML(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,qse(a)}return t}vr.prototype.addListener=function(e,r){return RL(this,e,r,!1)};vr.prototype.on=vr.prototype.addListener;vr.prototype.prependListener=function(e,r){return RL(this,e,r,!0)};function Hse(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function PL(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Hse.bind(n);return i.listener=r,n.wrapFn=i,i}vr.prototype.once=function(e,r){return Fb(r),this.on(e,PL(this,e,r)),this};vr.prototype.prependOnceListener=function(e,r){return Fb(r),this.prependListener(e,PL(this,e,r)),this};vr.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Fb(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Wse(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};vr.prototype.off=vr.prototype.removeListener;vr.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function kL(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Vse(i):TL(i,i.length)}vr.prototype.listeners=function(e){return kL(this,e,!0)};vr.prototype.rawListeners=function(e){return kL(this,e,!1)};vr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):OL.call(t,e)};vr.prototype.listenerCount=OL;function OL(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}vr.prototype.eventNames=function(){return this._eventsCount>0?f2(this._events):[]};function TL(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Wse(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Vse(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Kse(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}NL(t,e,s,{once:!0}),e!=="error"&&Gse(t,i,{once:!0})})}function Gse(t,e,r){typeof t.on=="function"&&NL(t,"error",e,r)}function NL(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var ci=ES.exports;const SS=_u(ci);var $L=ci.EventEmitter,J6,mM;function Jse(){if(mM)return J6;mM=1;function t(S,T){var B=Object.keys(S);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(S);T&&(R=R.filter(function(P){return Object.getOwnPropertyDescriptor(S,P).enumerable})),B.push.apply(B,R)}return B}function e(S){for(var T=1;T<arguments.length;T++){var B=arguments[T]!=null?arguments[T]:{};T%2?t(Object(B),!0).forEach(function(R){r(S,R,B[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(B)):t(Object(B)).forEach(function(R){Object.defineProperty(S,R,Object.getOwnPropertyDescriptor(B,R))})}return S}function r(S,T,B){return T=o(T),T in S?Object.defineProperty(S,T,{value:B,enumerable:!0,configurable:!0,writable:!0}):S[T]=B,S}function n(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}function i(S,T){for(var B=0;B<T.length;B++){var R=T[B];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,o(R.key),R)}}function s(S,T,B){return T&&i(S.prototype,T),Object.defineProperty(S,"prototype",{writable:!1}),S}function o(S){var T=a(S,"string");return typeof T=="symbol"?T:String(T)}function a(S,T){if(typeof S!="object"||S===null)return S;var B=S[Symbol.toPrimitive];if(B!==void 0){var R=B.call(S,T||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(S)}var c=M0,l=c.Buffer,h=N0,p=h.inspect,v=p&&p.custom||"inspect";function b(S,T,B){l.prototype.copy.call(S,T,B)}return J6=function(){function S(){n(this,S),this.head=null,this.tail=null,this.length=0}return s(S,[{key:"push",value:function(B){var R={data:B,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(B){var R={data:B,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var B=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,B}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(B){if(this.length===0)return"";for(var R=this.head,P=""+R.data;R=R.next;)P+=B+R.data;return P}},{key:"concat",value:function(B){if(this.length===0)return l.alloc(0);for(var R=l.allocUnsafe(B>>>0),P=this.head,O=0;P;)b(P.data,R,O),O+=P.data.length,P=P.next;return R}},{key:"consume",value:function(B,R){var P;return B<this.head.data.length?(P=this.head.data.slice(0,B),this.head.data=this.head.data.slice(B)):B===this.head.data.length?P=this.shift():P=R?this._getString(B):this._getBuffer(B),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(B){var R=this.head,P=1,O=R.data;for(B-=O.length;R=R.next;){var L=R.data,D=B>L.length?L.length:B;if(D===L.length?O+=L:O+=L.slice(0,B),B-=D,B===0){D===L.length?(++P,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=L.slice(D));break}++P}return this.length-=P,O}},{key:"_getBuffer",value:function(B){var R=l.allocUnsafe(B),P=this.head,O=1;for(P.data.copy(R),B-=P.data.length;P=P.next;){var L=P.data,D=B>L.length?L.length:B;if(L.copy(R,R.length-B,0,D),B-=D,B===0){D===L.length?(++O,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=L.slice(D));break}++O}return this.length-=O,R}},{key:v,value:function(B,R){return p(this,e(e({},R),{},{depth:0,customInspect:!1}))}}]),S}(),J6}function Qse(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(B8,this,t)):process.nextTick(B8,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(h2,r):(r._writableState.errorEmitted=!0,process.nextTick(vM,r,s)):process.nextTick(vM,r,s):e?(process.nextTick(h2,r),e(s)):process.nextTick(h2,r)}),this)}function vM(t,e){B8(t,e),h2(t)}function h2(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Yse(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function B8(t,e){t.emit("error",e)}function Zse(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var DL={destroy:Qse,undestroy:Yse,errorOrDestroy:Zse},oh={};function Xse(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var LL={};function So(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Xse(o,s);function o(a,c,l){return s.call(this,n(a,c,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,LL[t]=i}function yM(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function eoe(t,e,r){return t.substr(0,e.length)===e}function toe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function roe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}So("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);So("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&eoe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(toe(t," argument"))i="The ".concat(t," ").concat(n," ").concat(yM(e,"type"));else{var s=roe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(yM(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);So("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");So("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});So("ERR_STREAM_PREMATURE_CLOSE","Premature close");So("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});So("ERR_MULTIPLE_CALLBACK","Callback called multiple times");So("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");So("ERR_STREAM_WRITE_AFTER_END","write after end");So("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);So("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);So("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");oh.codes=LL;var noe=oh.codes.ERR_INVALID_OPT_VALUE;function ioe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function soe(t,e,r,n){var i=ioe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new noe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var BL={getHighWaterMark:soe},ooe=aoe;function aoe(t,e){if(Q6("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Q6("throwDeprecation"))throw new Error(e);Q6("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Q6(t){try{if(!lt.localStorage)return!1}catch{return!1}var e=lt.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Y6,wM;function FL(){if(wM)return Y6;wM=1,Y6=H;function t(Z){var W=this;this.next=null,this.entry=null,this.finish=function(){U(W,Z)}}var e;H.WritableState=q;var r={deprecate:ooe},n=$L,i=M0.Buffer,s=(typeof lt<"u"?lt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(Z){return i.from(Z)}function a(Z){return i.isBuffer(Z)||Z instanceof s}var c=DL,l=BL,h=l.getHighWaterMark,p=oh.codes,v=p.ERR_INVALID_ARG_TYPE,b=p.ERR_METHOD_NOT_IMPLEMENTED,S=p.ERR_MULTIPLE_CALLBACK,T=p.ERR_STREAM_CANNOT_PIPE,B=p.ERR_STREAM_DESTROYED,R=p.ERR_STREAM_NULL_VALUES,P=p.ERR_STREAM_WRITE_AFTER_END,O=p.ERR_UNKNOWN_ENCODING,L=c.errorOrDestroy;Wi(H,n);function D(){}function q(Z,W,Y){e=e||o0(),Z=Z||{},typeof Y!="boolean"&&(Y=W instanceof e),this.objectMode=!!Z.objectMode,Y&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=h(this,Z,"writableHighWaterMark",Y),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=Z.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){_(W,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}q.prototype.getBuffer=function(){for(var W=this.bufferedRequest,Y=[];W;)Y.push(W),W=W.next;return Y},function(){try{Object.defineProperty(q.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(W){return M.call(this,W)?!0:this!==H?!1:W&&W._writableState instanceof q}})):M=function(W){return W instanceof this};function H(Z){e=e||o0();var W=this instanceof e;if(!W&&!M.call(H,this))return new H(Z);this._writableState=new q(Z,this,W),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),n.call(this)}H.prototype.pipe=function(){L(this,new T)};function te(Z,W){var Y=new P;L(Z,Y),process.nextTick(W,Y)}function oe(Z,W,Y,ee){var $;return Y===null?$=new R:typeof Y!="string"&&!W.objectMode&&($=new v("chunk",["string","Buffer"],Y)),$?(L(Z,$),process.nextTick(ee,$),!1):!0}H.prototype.write=function(Z,W,Y){var ee=this._writableState,$=!1,z=!ee.objectMode&&a(Z);return z&&!i.isBuffer(Z)&&(Z=o(Z)),typeof W=="function"&&(Y=W,W=null),z?W="buffer":W||(W=ee.defaultEncoding),typeof Y!="function"&&(Y=D),ee.ending?te(this,Y):(z||oe(this,ee,Z,Y))&&(ee.pendingcb++,$=k(this,ee,z,Z,W,Y)),$},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&A(this,Z))},H.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new O(W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function K(Z,W,Y){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof W=="string"&&(W=i.from(W,Y)),W}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(Z,W,Y,ee,$,z){if(!Y){var J=K(W,ee,$);ee!==J&&(Y=!0,$="buffer",ee=J)}var ae=W.objectMode?1:ee.length;W.length+=ae;var fe=W.length<W.highWaterMark;if(fe||(W.needDrain=!0),W.writing||W.corked){var ye=W.lastBufferedRequest;W.lastBufferedRequest={chunk:ee,encoding:$,isBuf:Y,callback:z,next:null},ye?ye.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else g(Z,W,!1,ae,ee,$,z);return fe}function g(Z,W,Y,ee,$,z,J){W.writelen=ee,W.writecb=J,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new B("write")):Y?Z._writev($,W.onwrite):Z._write($,z,W.onwrite),W.sync=!1}function f(Z,W,Y,ee,$){--W.pendingcb,Y?(process.nextTick($,ee),process.nextTick(V,Z,W),Z._writableState.errorEmitted=!0,L(Z,ee)):($(ee),Z._writableState.errorEmitted=!0,L(Z,ee),V(Z,W))}function m(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function _(Z,W){var Y=Z._writableState,ee=Y.sync,$=Y.writecb;if(typeof $!="function")throw new S;if(m(Y),W)f(Z,Y,ee,W,$);else{var z=w(Y)||Z.destroyed;!z&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&A(Z,Y),ee?process.nextTick(I,Z,Y,z,$):I(Z,Y,z,$)}}function I(Z,W,Y,ee){Y||C(Z,W),W.pendingcb--,ee(),V(Z,W)}function C(Z,W){W.length===0&&W.needDrain&&(W.needDrain=!1,Z.emit("drain"))}function A(Z,W){W.bufferProcessing=!0;var Y=W.bufferedRequest;if(Z._writev&&Y&&Y.next){var ee=W.bufferedRequestCount,$=new Array(ee),z=W.corkedRequestsFree;z.entry=Y;for(var J=0,ae=!0;Y;)$[J]=Y,Y.isBuf||(ae=!1),Y=Y.next,J+=1;$.allBuffers=ae,g(Z,W,!0,W.length,$,"",z.finish),W.pendingcb++,W.lastBufferedRequest=null,z.next?(W.corkedRequestsFree=z.next,z.next=null):W.corkedRequestsFree=new t(W),W.bufferedRequestCount=0}else{for(;Y;){var fe=Y.chunk,ye=Y.encoding,be=Y.callback,Ee=W.objectMode?1:fe.length;if(g(Z,W,!1,Ee,fe,ye,be),Y=Y.next,W.bufferedRequestCount--,W.writing)break}Y===null&&(W.lastBufferedRequest=null)}W.bufferedRequest=Y,W.bufferProcessing=!1}H.prototype._write=function(Z,W,Y){Y(new b("_write()"))},H.prototype._writev=null,H.prototype.end=function(Z,W,Y){var ee=this._writableState;return typeof Z=="function"?(Y=Z,Z=null,W=null):typeof W=="function"&&(Y=W,W=null),Z!=null&&this.write(Z,W),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||ce(this,ee,Y),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function w(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function y(Z,W){Z._final(function(Y){W.pendingcb--,Y&&L(Z,Y),W.prefinished=!0,Z.emit("prefinish"),V(Z,W)})}function E(Z,W){!W.prefinished&&!W.finalCalled&&(typeof Z._final=="function"&&!W.destroyed?(W.pendingcb++,W.finalCalled=!0,process.nextTick(y,Z,W)):(W.prefinished=!0,Z.emit("prefinish")))}function V(Z,W){var Y=w(W);if(Y&&(E(Z,W),W.pendingcb===0&&(W.finished=!0,Z.emit("finish"),W.autoDestroy))){var ee=Z._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&Z.destroy()}return Y}function ce(Z,W,Y){W.ending=!0,V(Z,W),Y&&(W.finished?process.nextTick(Y):Z.once("finish",Y)),W.ended=!0,Z.writable=!1}function U(Z,W,Y){var ee=Z.entry;for(Z.entry=null;ee;){var $=ee.callback;W.pendingcb--,$(Y),ee=ee.next}W.corkedRequestsFree.next=Z}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),H.prototype.destroy=c.destroy,H.prototype._undestroy=c.undestroy,H.prototype._destroy=function(Z,W){W(Z)},Y6}var Z6,bM;function o0(){if(bM)return Z6;bM=1;var t=Object.keys||function(l){var h=[];for(var p in l)h.push(p);return h};Z6=o;var e=UL(),r=FL();Wi(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),Z6}var X6={},_M;function EM(){if(_M)return X6;_M=1;var t=Iu.Buffer,e=t.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(R){if(!R)return"utf8";for(var P;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(P)return;R=(""+R).toLowerCase(),P=!0}}function n(R){var P=r(R);if(typeof P!="string"&&(t.isEncoding===e||!e(R)))throw new Error("Unknown encoding: "+R);return P||R}X6.StringDecoder=i;function i(R){this.encoding=n(R);var P;switch(this.encoding){case"utf16le":this.text=p,this.end=v,P=4;break;case"utf8":this.fillLast=c,P=4;break;case"base64":this.text=b,this.end=S,P=3;break;default:this.write=T,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(P)}i.prototype.write=function(R){if(R.length===0)return"";var P,O;if(this.lastNeed){if(P=this.fillLast(R),P===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<R.length?P?P+this.text(R,O):this.text(R,O):P||""},i.prototype.end=h,i.prototype.text=l,i.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function s(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function o(R,P,O){var L=P.length-1;if(L<O)return 0;var D=s(P[L]);return D>=0?(D>0&&(R.lastNeed=D-1),D):--L<O||D===-2?0:(D=s(P[L]),D>=0?(D>0&&(R.lastNeed=D-2),D):--L<O||D===-2?0:(D=s(P[L]),D>=0?(D>0&&(D===2?D=0:R.lastNeed=D-3),D):0))}function a(R,P,O){if((P[0]&192)!==128)return R.lastNeed=0,"";if(R.lastNeed>1&&P.length>1){if((P[1]&192)!==128)return R.lastNeed=1,"";if(R.lastNeed>2&&P.length>2&&(P[2]&192)!==128)return R.lastNeed=2,""}}function c(R){var P=this.lastTotal-this.lastNeed,O=a(this,R);if(O!==void 0)return O;if(this.lastNeed<=R.length)return R.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,P,0,R.length),this.lastNeed-=R.length}function l(R,P){var O=o(this,R,P);if(!this.lastNeed)return R.toString("utf8",P);this.lastTotal=O;var L=R.length-(O-this.lastNeed);return R.copy(this.lastChar,0,L),R.toString("utf8",P,L)}function h(R){var P=R&&R.length?this.write(R):"";return this.lastNeed?P+"":P}function p(R,P){if((R.length-P)%2===0){var O=R.toString("utf16le",P);if(O){var L=O.charCodeAt(O.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",P,R.length-1)}function v(R){var P=R&&R.length?this.write(R):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,O)}return P}function b(R,P){var O=(R.length-P)%3;return O===0?R.toString("base64",P):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",P,R.length-O))}function S(R){var P=R&&R.length?this.write(R):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function T(R){return R.toString(this.encoding)}function B(R){return R&&R.length?this.write(R):""}return X6}var SM=oh.codes.ERR_STREAM_PREMATURE_CLOSE;function coe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function loe(){}function uoe(t){return t.setHeader&&typeof t.abort=="function"}function jL(t,e,r){if(typeof e=="function")return jL(t,null,e);e||(e={}),r=coe(r||loe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,i||r.call(t)},h=function(S){r.call(t,S)},p=function(){var S;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(S=new SM),r.call(t,S);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(S=new SM),r.call(t,S)},v=function(){t.req.on("finish",a)};return uoe(t)?(t.on("complete",a),t.on("abort",p),t.req?v():t.on("request",v)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",h),t.removeListener("close",p)}}var xS=jL,e5,xM;function foe(){if(xM)return e5;xM=1;var t;function e(O,L,D){return L=r(L),L in O?Object.defineProperty(O,L,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[L]=D,O}function r(O){var L=n(O,"string");return typeof L=="symbol"?L:String(L)}function n(O,L){if(typeof O!="object"||O===null)return O;var D=O[Symbol.toPrimitive];if(D!==void 0){var q=D.call(O,L||"default");if(typeof q!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(O)}var i=xS,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function v(O,L){return{value:O,done:L}}function b(O){var L=O[s];if(L!==null){var D=O[p].read();D!==null&&(O[l]=null,O[s]=null,O[o]=null,L(v(D,!1)))}}function S(O){process.nextTick(b,O)}function T(O,L){return function(D,q){O.then(function(){if(L[c]){D(v(void 0,!0));return}L[h](D,q)},q)}}var B=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((t={get stream(){return this[p]},next:function(){var L=this,D=this[a];if(D!==null)return Promise.reject(D);if(this[c])return Promise.resolve(v(void 0,!0));if(this[p].destroyed)return new Promise(function(te,oe){process.nextTick(function(){L[a]?oe(L[a]):te(v(void 0,!0))})});var q=this[l],M;if(q)M=new Promise(T(q,this));else{var H=this[p].read();if(H!==null)return Promise.resolve(v(H,!1));M=new Promise(this[h])}return this[l]=M,M}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var L=this;return new Promise(function(D,q){L[p].destroy(null,function(M){if(M){q(M);return}D(v(void 0,!0))})})}),t),B),P=function(L){var D,q=Object.create(R,(D={},e(D,p,{value:L,writable:!0}),e(D,s,{value:null,writable:!0}),e(D,o,{value:null,writable:!0}),e(D,a,{value:null,writable:!0}),e(D,c,{value:L._readableState.endEmitted,writable:!0}),e(D,h,{value:function(H,te){var oe=q[p].read();oe?(q[l]=null,q[s]=null,q[o]=null,H(v(oe,!1))):(q[s]=H,q[o]=te)},writable:!0}),D));return q[l]=null,i(L,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=q[o];H!==null&&(q[l]=null,q[s]=null,q[o]=null,H(M)),q[a]=M;return}var te=q[s];te!==null&&(q[l]=null,q[s]=null,q[o]=null,te(v(void 0,!0))),q[c]=!0}),L.on("readable",S.bind(null,q)),q};return e5=P,e5}var t5,AM;function hoe(){return AM||(AM=1,t5=function(){throw new Error("Readable.from is not available in the browser")}),t5}var r5,IM;function UL(){if(IM)return r5;IM=1,r5=te;var t;te.ReadableState=H,ci.EventEmitter;var e=function(J,ae){return J.listeners(ae).length},r=$L,n=M0.Buffer,i=(typeof lt<"u"?lt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(z){return n.from(z)}function o(z){return n.isBuffer(z)||z instanceof i}var a=N0,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=Jse(),h=DL,p=BL,v=p.getHighWaterMark,b=oh.codes,S=b.ERR_INVALID_ARG_TYPE,T=b.ERR_STREAM_PUSH_AFTER_EOF,B=b.ERR_METHOD_NOT_IMPLEMENTED,R=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,O,L;Wi(te,r);var D=h.errorOrDestroy,q=["error","close","destroy","pause","resume"];function M(z,J,ae){if(typeof z.prependListener=="function")return z.prependListener(J,ae);!z._events||!z._events[J]?z.on(J,ae):Array.isArray(z._events[J])?z._events[J].unshift(ae):z._events[J]=[ae,z._events[J]]}function H(z,J,ae){t=t||o0(),z=z||{},typeof ae!="boolean"&&(ae=J instanceof t),this.objectMode=!!z.objectMode,ae&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=v(this,z,"readableHighWaterMark",ae),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.autoDestroy=!!z.autoDestroy,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(P||(P=EM().StringDecoder),this.decoder=new P(z.encoding),this.encoding=z.encoding)}function te(z){if(t=t||o0(),!(this instanceof te))return new te(z);var J=this instanceof t;this._readableState=new H(z,this,J),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),r.call(this)}Object.defineProperty(te.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),te.prototype.destroy=h.destroy,te.prototype._undestroy=h.undestroy,te.prototype._destroy=function(z,J){J(z)},te.prototype.push=function(z,J){var ae=this._readableState,fe;return ae.objectMode?fe=!0:typeof z=="string"&&(J=J||ae.defaultEncoding,J!==ae.encoding&&(z=n.from(z,J),J=""),fe=!0),oe(this,z,J,!1,fe)},te.prototype.unshift=function(z){return oe(this,z,null,!0,!1)};function oe(z,J,ae,fe,ye){c("readableAddChunk",J);var be=z._readableState;if(J===null)be.reading=!1,_(z,be);else{var Ee;if(ye||(Ee=k(be,J)),Ee)D(z,Ee);else if(be.objectMode||J&&J.length>0)if(typeof J!="string"&&!be.objectMode&&Object.getPrototypeOf(J)!==n.prototype&&(J=s(J)),fe)be.endEmitted?D(z,new R):K(z,be,J,!0);else if(be.ended)D(z,new T);else{if(be.destroyed)return!1;be.reading=!1,be.decoder&&!ae?(J=be.decoder.write(J),be.objectMode||J.length!==0?K(z,be,J,!1):A(z,be)):K(z,be,J,!1)}else fe||(be.reading=!1,A(z,be))}return!be.ended&&(be.length<be.highWaterMark||be.length===0)}function K(z,J,ae,fe){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,z.emit("data",ae)):(J.length+=J.objectMode?1:ae.length,fe?J.buffer.unshift(ae):J.buffer.push(ae),J.needReadable&&I(z)),A(z,J)}function k(z,J){var ae;return!o(J)&&typeof J!="string"&&J!==void 0&&!z.objectMode&&(ae=new S("chunk",["string","Buffer","Uint8Array"],J)),ae}te.prototype.isPaused=function(){return this._readableState.flowing===!1},te.prototype.setEncoding=function(z){P||(P=EM().StringDecoder);var J=new P(z);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,fe="";ae!==null;)fe+=J.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var g=1073741824;function f(z){return z>=g?z=g:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function m(z,J){return z<=0||J.length===0&&J.ended?0:J.objectMode?1:z!==z?J.flowing&&J.length?J.buffer.head.data.length:J.length:(z>J.highWaterMark&&(J.highWaterMark=f(z)),z<=J.length?z:J.ended?J.length:(J.needReadable=!0,0))}te.prototype.read=function(z){c("read",z),z=parseInt(z,10);var J=this._readableState,ae=z;if(z!==0&&(J.emittedReadable=!1),z===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return c("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?Y(this):I(this),null;if(z=m(z,J),z===0&&J.ended)return J.length===0&&Y(this),null;var fe=J.needReadable;c("need readable",fe),(J.length===0||J.length-z<J.highWaterMark)&&(fe=!0,c("length less than watermark",fe)),J.ended||J.reading?(fe=!1,c("reading or ended",fe)):fe&&(c("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(z=m(ae,J)));var ye;return z>0?ye=W(z,J):ye=null,ye===null?(J.needReadable=J.length<=J.highWaterMark,z=0):(J.length-=z,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),ae!==z&&J.ended&&Y(this)),ye!==null&&this.emit("data",ye),ye};function _(z,J){if(c("onEofChunk"),!J.ended){if(J.decoder){var ae=J.decoder.end();ae&&ae.length&&(J.buffer.push(ae),J.length+=J.objectMode?1:ae.length)}J.ended=!0,J.sync?I(z):(J.needReadable=!1,J.emittedReadable||(J.emittedReadable=!0,C(z)))}}function I(z){var J=z._readableState;c("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(c("emitReadable",J.flowing),J.emittedReadable=!0,process.nextTick(C,z))}function C(z){var J=z._readableState;c("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&(J.length||J.ended)&&(z.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,Z(z)}function A(z,J){J.readingMore||(J.readingMore=!0,process.nextTick(w,z,J))}function w(z,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var ae=J.length;if(c("maybeReadMore read 0"),z.read(0),ae===J.length)break}J.readingMore=!1}te.prototype._read=function(z){D(this,new B("_read()"))},te.prototype.pipe=function(z,J){var ae=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=z;break;case 1:fe.pipes=[fe.pipes,z];break;default:fe.pipes.push(z);break}fe.pipesCount+=1,c("pipe count=%d opts=%j",fe.pipesCount,J);var ye=(!J||J.end!==!1)&&z!==process.stdout&&z!==process.stderr,be=ye?je:Oe;fe.endEmitted?process.nextTick(be):ae.once("end",be),z.on("unpipe",Ee);function Ee(G,N){c("onunpipe"),G===ae&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,Pe())}function je(){c("onend"),z.end()}var Ue=y(ae);z.on("drain",Ue);var Ne=!1;function Pe(){c("cleanup"),z.removeListener("close",$e),z.removeListener("finish",Ce),z.removeListener("drain",Ue),z.removeListener("error",ke),z.removeListener("unpipe",Ee),ae.removeListener("end",je),ae.removeListener("end",Oe),ae.removeListener("data",Me),Ne=!0,fe.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&Ue()}ae.on("data",Me);function Me(G){c("ondata");var N=z.write(G);c("dest.write",N),N===!1&&((fe.pipesCount===1&&fe.pipes===z||fe.pipesCount>1&&$(fe.pipes,z)!==-1)&&!Ne&&(c("false write response, pause",fe.awaitDrain),fe.awaitDrain++),ae.pause())}function ke(G){c("onerror",G),Oe(),z.removeListener("error",ke),e(z,"error")===0&&D(z,G)}M(z,"error",ke);function $e(){z.removeListener("finish",Ce),Oe()}z.once("close",$e);function Ce(){c("onfinish"),z.removeListener("close",$e),Oe()}z.once("finish",Ce);function Oe(){c("unpipe"),ae.unpipe(z)}return z.emit("pipe",ae),fe.flowing||(c("pipe resume"),ae.resume()),z};function y(z){return function(){var ae=z._readableState;c("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&e(z,"data")&&(ae.flowing=!0,Z(z))}}te.prototype.unpipe=function(z){var J=this._readableState,ae={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return z&&z!==J.pipes?this:(z||(z=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,z&&z.emit("unpipe",this,ae),this);if(!z){var fe=J.pipes,ye=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var be=0;be<ye;be++)fe[be].emit("unpipe",this,{hasUnpiped:!1});return this}var Ee=$(J.pipes,z);return Ee===-1?this:(J.pipes.splice(Ee,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),z.emit("unpipe",this,ae),this)},te.prototype.on=function(z,J){var ae=r.prototype.on.call(this,z,J),fe=this._readableState;return z==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):z==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,c("on readable",fe.length,fe.reading),fe.length?I(this):fe.reading||process.nextTick(V,this)),ae},te.prototype.addListener=te.prototype.on,te.prototype.removeListener=function(z,J){var ae=r.prototype.removeListener.call(this,z,J);return z==="readable"&&process.nextTick(E,this),ae},te.prototype.removeAllListeners=function(z){var J=r.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&process.nextTick(E,this),J};function E(z){var J=z._readableState;J.readableListening=z.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:z.listenerCount("data")>0&&z.resume()}function V(z){c("readable nexttick read 0"),z.read(0)}te.prototype.resume=function(){var z=this._readableState;return z.flowing||(c("resume"),z.flowing=!z.readableListening,ce(this,z)),z.paused=!1,this};function ce(z,J){J.resumeScheduled||(J.resumeScheduled=!0,process.nextTick(U,z,J))}function U(z,J){c("resume",J.reading),J.reading||z.read(0),J.resumeScheduled=!1,z.emit("resume"),Z(z),J.flowing&&!J.reading&&z.read(0)}te.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(z){var J=z._readableState;for(c("flow",J.flowing);J.flowing&&z.read()!==null;);}te.prototype.wrap=function(z){var J=this,ae=this._readableState,fe=!1;z.on("end",function(){if(c("wrapped end"),ae.decoder&&!ae.ended){var Ee=ae.decoder.end();Ee&&Ee.length&&J.push(Ee)}J.push(null)}),z.on("data",function(Ee){if(c("wrapped data"),ae.decoder&&(Ee=ae.decoder.write(Ee)),!(ae.objectMode&&Ee==null)&&!(!ae.objectMode&&(!Ee||!Ee.length))){var je=J.push(Ee);je||(fe=!0,z.pause())}});for(var ye in z)this[ye]===void 0&&typeof z[ye]=="function"&&(this[ye]=function(je){return function(){return z[je].apply(z,arguments)}}(ye));for(var be=0;be<q.length;be++)z.on(q[be],this.emit.bind(this,q[be]));return this._read=function(Ee){c("wrapped _read",Ee),fe&&(fe=!1,z.resume())},this},typeof Symbol=="function"&&(te.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=foe()),O(this)}),Object.defineProperty(te.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(te.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(te.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),te._fromList=W,Object.defineProperty(te.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function W(z,J){if(J.length===0)return null;var ae;return J.objectMode?ae=J.buffer.shift():!z||z>=J.length?(J.decoder?ae=J.buffer.join(""):J.buffer.length===1?ae=J.buffer.first():ae=J.buffer.concat(J.length),J.buffer.clear()):ae=J.buffer.consume(z,J.decoder),ae}function Y(z){var J=z._readableState;c("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,process.nextTick(ee,J,z))}function ee(z,J){if(c("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,J.readable=!1,J.emit("end"),z.autoDestroy)){var ae=J._writableState;(!ae||ae.autoDestroy&&ae.finished)&&J.destroy()}}typeof Symbol=="function"&&(te.from=function(z,J){return L===void 0&&(L=hoe()),L(te,z,J)});function $(z,J){for(var ae=0,fe=z.length;ae<fe;ae++)if(z[ae]===J)return ae;return-1}return r5}var zL=Zc,jb=oh.codes,doe=jb.ERR_METHOD_NOT_IMPLEMENTED,poe=jb.ERR_MULTIPLE_CALLBACK,goe=jb.ERR_TRANSFORM_ALREADY_TRANSFORMING,moe=jb.ERR_TRANSFORM_WITH_LENGTH_0,Ub=o0();Wi(Zc,Ub);function voe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new poe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Zc(t){if(!(this instanceof Zc))return new Zc(t);Ub.call(this,t),this._transformState={afterTransform:voe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",yoe)}function yoe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){CM(t,e,r)}):CM(this,null,null)}Zc.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ub.prototype.push.call(this,t,e)};Zc.prototype._transform=function(t,e,r){r(new doe("_transform()"))};Zc.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Zc.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Zc.prototype._destroy=function(t,e){Ub.prototype._destroy.call(this,t,function(r){e(r)})};function CM(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new moe;if(t._transformState.transforming)throw new goe;return t.push(null)}var woe=vg,qL=zL;Wi(vg,qL);function vg(t){if(!(this instanceof vg))return new vg(t);qL.call(this,t)}vg.prototype._transform=function(t,e,r){r(null,t)};var n5;function boe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var HL=oh.codes,_oe=HL.ERR_MISSING_ARGS,Eoe=HL.ERR_STREAM_DESTROYED;function MM(t){if(t)throw t}function Soe(t){return t.setHeader&&typeof t.abort=="function"}function xoe(t,e,r,n){n=boe(n);var i=!1;t.on("close",function(){i=!0}),n5===void 0&&(n5=xS),n5(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Soe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Eoe("pipe"))}}}function RM(t){t()}function Aoe(t,e){return t.pipe(e)}function Ioe(t){return!t.length||typeof t[t.length-1]!="function"?MM:t.pop()}function Coe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Ioe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new _oe("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return xoe(o,c,l,function(h){i||(i=h),h&&s.forEach(RM),!c&&(s.forEach(RM),n(i))})});return e.reduce(Aoe)}var Moe=Coe;(function(t,e){e=t.exports=UL(),e.Stream=e,e.Readable=e,e.Writable=FL(),e.Duplex=o0(),e.Transform=zL,e.PassThrough=woe,e.finished=xS,e.pipeline=Moe})(L8,L8.exports);var WL=L8.exports;const{Transform:Roe}=WL;var Poe=t=>class VL extends Roe{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new VL(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:koe}=WL;var Ooe=t=>class KL extends koe{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new KL(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Toe=Poe,Noe=Ooe;var $oe=function(t){const e=Toe(t),r=Noe(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},GL={};const PM=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];GL.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],p=t[9]^t[19]^t[29]^t[39]^t[49];let v=h^(i<<1|s>>>31),b=p^(s<<1|i>>>31);const S=t[0]^v,T=t[1]^b,B=t[10]^v,R=t[11]^b,P=t[20]^v,O=t[21]^b,L=t[30]^v,D=t[31]^b,q=t[40]^v,M=t[41]^b;v=r^(o<<1|a>>>31),b=n^(a<<1|o>>>31);const H=t[2]^v,te=t[3]^b,oe=t[12]^v,K=t[13]^b,k=t[22]^v,g=t[23]^b,f=t[32]^v,m=t[33]^b,_=t[42]^v,I=t[43]^b;v=i^(c<<1|l>>>31),b=s^(l<<1|c>>>31);const C=t[4]^v,A=t[5]^b,w=t[14]^v,y=t[15]^b,E=t[24]^v,V=t[25]^b,ce=t[34]^v,U=t[35]^b,Z=t[44]^v,W=t[45]^b;v=o^(h<<1|p>>>31),b=a^(p<<1|h>>>31);const Y=t[6]^v,ee=t[7]^b,$=t[16]^v,z=t[17]^b,J=t[26]^v,ae=t[27]^b,fe=t[36]^v,ye=t[37]^b,be=t[46]^v,Ee=t[47]^b;v=c^(r<<1|n>>>31),b=l^(n<<1|r>>>31);const je=t[8]^v,Ue=t[9]^b,Ne=t[18]^v,Pe=t[19]^b,Me=t[28]^v,ke=t[29]^b,$e=t[38]^v,Ce=t[39]^b,Oe=t[48]^v,G=t[49]^b,N=S,F=T,X=R<<4|B>>>28,ie=B<<4|R>>>28,ue=P<<3|O>>>29,de=O<<3|P>>>29,_e=D<<9|L>>>23,Ie=L<<9|D>>>23,De=q<<18|M>>>14,Fe=M<<18|q>>>14,Be=H<<1|te>>>31,ct=te<<1|H>>>31,gt=K<<12|oe>>>20,mt=oe<<12|K>>>20,yt=k<<10|g>>>22,Je=g<<10|k>>>22,We=m<<13|f>>>19,Qe=f<<13|m>>>19,Ye=_<<2|I>>>30,Ke=I<<2|_>>>30,Ve=A<<30|C>>>2,nt=C<<30|A>>>2,it=w<<6|y>>>26,Ze=y<<6|w>>>26,st=V<<11|E>>>21,Xe=E<<11|V>>>21,tt=ce<<15|U>>>17,et=U<<15|ce>>>17,qe=W<<29|Z>>>3,ot=Z<<29|W>>>3,at=Y<<28|ee>>>4,bt=ee<<28|Y>>>4,_t=z<<23|$>>>9,Et=$<<23|z>>>9,ft=J<<25|ae>>>7,$t=ae<<25|J>>>7,$r=fe<<21|ye>>>11,Dr=ye<<21|fe>>>11,Lr=Ee<<24|be>>>8,Br=be<<24|Ee>>>8,cr=je<<27|Ue>>>5,Yr=Ue<<27|je>>>5,xn=Ne<<20|Pe>>>12,Zr=Pe<<20|Ne>>>12,An=ke<<7|Me>>>25,In=Me<<7|ke>>>25,Xr=$e<<8|Ce>>>24,yn=Ce<<8|$e>>>24,wn=Oe<<14|G>>>18,yr=G<<14|Oe>>>18;t[0]=N^~gt&st,t[1]=F^~mt&Xe,t[10]=at^~xn&ue,t[11]=bt^~Zr&de,t[20]=Be^~it&ft,t[21]=ct^~Ze&$t,t[30]=cr^~X&yt,t[31]=Yr^~ie&Je,t[40]=Ve^~_t&An,t[41]=nt^~Et&In,t[2]=gt^~st&$r,t[3]=mt^~Xe&Dr,t[12]=xn^~ue&We,t[13]=Zr^~de&Qe,t[22]=it^~ft&Xr,t[23]=Ze^~$t&yn,t[32]=X^~yt&tt,t[33]=ie^~Je&et,t[42]=_t^~An&_e,t[43]=Et^~In&Ie,t[4]=st^~$r&wn,t[5]=Xe^~Dr&yr,t[14]=ue^~We&qe,t[15]=de^~Qe&ot,t[24]=ft^~Xr&De,t[25]=$t^~yn&Fe,t[34]=yt^~tt&Lr,t[35]=Je^~et&Br,t[44]=An^~_e&Ye,t[45]=In^~Ie&Ke,t[6]=$r^~wn&N,t[7]=Dr^~yr&F,t[16]=We^~qe&at,t[17]=Qe^~ot&bt,t[26]=Xr^~De&Be,t[27]=yn^~Fe&ct,t[36]=tt^~Lr&cr,t[37]=et^~Br&Yr,t[46]=_e^~Ye&Ve,t[47]=Ie^~Ke&nt,t[8]=wn^~N&gt,t[9]=yr^~F&mt,t[18]=qe^~at&xn,t[19]=ot^~bt&Zr,t[28]=De^~Be&it,t[29]=Fe^~ct&Ze,t[38]=Lr^~cr&X,t[39]=Br^~Yr&ie,t[48]=Ye^~Ve&_t,t[49]=Ke^~nt&Et,t[0]^=PM[e*2],t[1]^=PM[e*2+1]}};const tw=GL;function j0(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}j0.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};j0.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(tw.p1600(this.state),this.count=0)};j0.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&tw.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),tw.p1600(this.state),this.count=0,this.squeezing=!0};j0.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(tw.p1600(this.state),this.count=0);return e};j0.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Doe=j0,Loe=$oe(Doe);const Boe=Loe,Foe=pb;function JL(t){return Buffer.allocUnsafe(t).fill(0)}function QL(t,e,r){const n=JL(e);return t=zb(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function joe(t,e){return QL(t,e,!0)}function zb(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")YL(t)?t=Buffer.from(qoe(ZL(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Foe.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Uoe(t){return t=zb(t),"0x"+t.toString("hex")}function zoe(t,e){return t=zb(t),e||(e=256),Boe("keccak"+e).update(t).digest()}function qoe(t){return t.length%2?"0"+t:t}function YL(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function ZL(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var XL={zeros:JL,setLength:QL,setLengthRight:joe,isHexString:YL,stripHexPrefix:ZL,toBuffer:zb,bufferToHex:Uoe,keccak:zoe};const Hf=XL,wf=pb;function eB(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Cd(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function kM(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function tB(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function hf(t){var e=typeof t;if(e==="string")return Hf.isHexString(t)?new wf(Hf.stripHexPrefix(t),16):new wf(t,10);if(e==="number")return new wf(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Aa(t,e){var r,n,i,s;if(t==="address")return Aa("uint160",hf(e));if(t==="bool")return Aa("uint8",e?1:0);if(t==="string")return Aa("bytes",new Buffer(e,"utf8"));if(Woe(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=tB(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Aa(t,e[s]));if(r==="dynamic"){var o=Aa("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Aa("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Hf.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Cd(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Hf.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Cd(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=hf(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Cd(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=hf(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=kM(t),n=hf(e),n<0)throw new Error("Supplied ufixed is negative");return Aa("uint256",n.mul(new wf(2).pow(new wf(r[1]))))}else if(t.startsWith("fixed"))return r=kM(t),Aa("int256",hf(e).mul(new wf(2).pow(new wf(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Hoe(t){return t==="string"||t==="bytes"||tB(t)==="dynamic"}function Woe(t){return t.lastIndexOf("]")===t.length-1}function Voe(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=eB(t[s]),a=e[s],c=Aa(o,a);Hoe(o)?(r.push(Aa("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function rB(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=eB(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Hf.setLength(a,20));else if(o.startsWith("bytes")){if(r=Cd(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Hf.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Cd(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=hf(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Cd(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=hf(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Koe(t,e){return Hf.keccak(rB(t,e))}var Goe={rawEncode:Voe,solidityPack:rB,soliditySHA3:Koe};const jo=XL,C1=Goe,nB={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},i5={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":jo.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",jo.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",jo.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),p=l.map(v=>o(a,h,v));return["bytes32",jo.keccak(C1.rawEncode(p.map(([v])=>v),p.map(([,v])=>v)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=jo.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=jo.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=jo.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return C1.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return jo.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return jo.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in nB.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),jo.keccak(Buffer.concat(n))}};var Joe={TYPED_MESSAGE_SCHEMA:nB,TypedDataUtils:i5,hashForSignTypedDataLegacy:function(t){return Qoe(t.data)},hashForSignTypedData_v3:function(t){return i5.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return i5.hash(t.data)}};function Qoe(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?jo.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return C1.soliditySHA3(["bytes32","bytes32"],[C1.soliditySHA3(new Array(t.length).fill("string"),i),C1.soliditySHA3(n,r)])}var a0={};Object.defineProperty(a0,"__esModule",{value:!0});a0.filterFromParam=a0.FilterPolyfill=void 0;const Qh=On,Oi=vt,Yoe=5*60*1e3,df={jsonrpc:"2.0",id:0};class Zoe{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Qh.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=e}async newFilter(e){const r=iB(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.info(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Oi.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Oi.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.info(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Oi.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Oi.intNumberFromHexString)(e);return console.info(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Oi.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(by())}async getFilterLogs(e){const r=(0,Oi.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},df),{method:"eth_getLogs",params:[OM(n)]})):by()}makeFilterId(){return(0,Qh.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.info(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return by();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>Number(r.toBlock))return _y();console.info(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},df),{method:"eth_getLogs",params:[OM(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,Oi.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,Qh.IntNumber)(c+1);console.info(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return by();const n=await this.getCurrentBlockHeight();if(r>n)return _y();console.info(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Oi.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Qh.IntNumber)(o))))).filter(o=>!!o),s=(0,Qh.IntNumber)(r+i.length);return console.info(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},df),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(_y())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.info(`Filter (${e}) timed out`),this.deleteFilter(e)},Yoe);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const e=new Date;if(e.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=e;const r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},df),{method:"eth_blockNumber",params:[]}));return(0,Oi.intNumberFromHexString)((0,Oi.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},df),{method:"eth_getBlockByNumber",params:[(0,Oi.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Oi.ensureHexString)(r.result.hash):null}}a0.FilterPolyfill=Zoe;function iB(t){return{fromBlock:TM(t.fromBlock),toBlock:TM(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}a0.filterFromParam=iB;function OM(t){const e={fromBlock:NM(t.fromBlock),toBlock:NM(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function TM(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Qh.IntNumber)(0);if((0,Oi.isHexString)(t))return(0,Oi.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function NM(t){return t==="latest"?t:(0,Oi.hexStringFromIntNumber)(t)}function by(){return Object.assign(Object.assign({},df),{error:{code:-32e3,message:"filter not found"}})}function _y(){return Object.assign(Object.assign({},df),{result:[]})}var qb={},sB={},Hb={},AS=Xoe;function Xoe(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const $M=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var eae=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):$M(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?$M(s,e):s}return n},um={},fm={};Object.defineProperty(fm,"__esModule",{value:!0});const tae=ci;function DM(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function rae(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let nae=class extends tae.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")DM(s,this,r);else{const o=s.length,a=rae(s);for(let c=0;c<o;c+=1)DM(a[c],this,r)}return!0}};fm.default=nae;var iae=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(um,"__esModule",{value:!0});um.BaseBlockTracker=void 0;const sae=iae(fm),oae=1e3,aae=(t,e)=>t+e,LM=["sync","latest"];class cae extends sae.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*oae,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){LM.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return LM.map(e=>this.listenerCount(e)).reduce(aae)}_shouldUseNewBlock(e){const r=this._currentBlock;if(!r)return!0;const n=BM(e),i=BM(r);return this._usePastBlocks&&n<i||n>i}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}um.BaseBlockTracker=cae;function BM(t){return Number.parseInt(t,16)}var oB={},aB={},ii={};class cB extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function lae(t){return yo(t)&&typeof t[Symbol.iterator]=="function"}function yo(t){return typeof t=="object"&&t!=null}function FM(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function $n(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function uae(t){const{done:e,value:r}=t.next();return e?void 0:r}function fae(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${$n(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*F8(t,e,r,n){lae(t)||(t=[t]);for(const i of t){const s=fae(i,e,r,n);s&&(yield s)}}function*IS(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&yo(e.schema)&&yo(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,h,p]of e.entries(t,a)){const v=IS(h,p,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,h],coerce:s,mask:o,message:r.message});for(const b of v)b[0]?(c=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):s&&(h=b[1],l===void 0?t=h:t instanceof Map?t.set(l,h):t instanceof Set?t.add(h):yo(t)&&(h!==void 0||l in t)&&(t[l]=h))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class vn{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const h=i(c,l);return F8(h,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const h=s(c,l);return F8(h,l,this,c)}:this.refiner=()=>[]}assert(e,r){return lB(e,this,r)}create(e,r){return uB(e,this,r)}is(e){return CS(e,this)}mask(e,r){return fB(e,this,r)}validate(e,r={}){return U0(e,this,r)}}function lB(t,e,r){const n=U0(t,e,{message:r});if(n[0])throw n[0]}function uB(t,e,r){const n=U0(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function fB(t,e,r){const n=U0(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function CS(t,e){return!U0(t,e)[0]}function U0(t,e,r={}){const n=IS(t,e,r),i=uae(n);return i[0]?[new cB(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function hae(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?dm(n):hm(n)}function ms(t,e){return new vn({type:t,schema:null,validator:e})}function dae(t,e){return new vn({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function pae(t){return new vn({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function gae(t){let e;return new vn({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function mae(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return dm(n);default:return hm(n)}}function vae(t){const e=t instanceof vn,r=e?{...t.schema}:{...t};for(const n in r)r[n]=hB(r[n]);return e&&t.type==="type"?dm(r):hm(r)}function yae(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];switch(t.type){case"type":return dm(n);default:return hm(n)}}function wae(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ms(t,e)}function bae(){return ms("any",()=>!0)}function _ae(t){return new vn({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${$n(e)}`}})}function Eae(){return ms("bigint",t=>typeof t=="bigint")}function Sae(){return ms("boolean",t=>typeof t=="boolean")}function xae(){return ms("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${$n(t)}`)}function Aae(t){const e={},r=t.map(n=>$n(n)).join();for(const n of t)e[n]=n;return new vn({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${$n(n)}`}})}function Iae(){return ms("func",t=>typeof t=="function"||`Expected a function, but received: ${$n(t)}`)}function Cae(t){return ms("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${$n(e)}`)}function Mae(){return ms("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${$n(t)}`)}function Rae(t){return new vn({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function Pae(t){const e=$n(t),r=typeof t;return new vn({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${$n(n)}`}})}function kae(t,e){return new vn({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${$n(r)}`}})}function MS(){return ms("never",()=>!1)}function Oae(t){return new vn({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Tae(){return ms("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${$n(t)}`)}function hm(t){const e=t?Object.keys(t):[],r=MS();return new vn({type:"object",schema:t||null,*entries(n){if(t&&yo(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return yo(n)||`Expected an object, but received: ${$n(n)}`},coercer(n){return yo(n)?{...n}:n}})}function hB(t){return new vn({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function Nae(t,e){return new vn({type:"record",schema:null,*entries(r){if(yo(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return yo(r)||`Expected an object, but received: ${$n(r)}`}})}function $ae(){return ms("regexp",t=>t instanceof RegExp)}function Dae(t){return new vn({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${$n(e)}`}})}function dB(){return ms("string",t=>typeof t=="string"||`Expected a string, but received: ${$n(t)}`)}function Lae(t){const e=MS();return new vn({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${$n(r)}`}})}function dm(t){const e=Object.keys(t);return new vn({type:"type",schema:t,*entries(r){if(yo(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return yo(r)||`Expected an object, but received: ${$n(r)}`},coercer(r){return yo(r)?{...r}:r}})}function Bae(t){const e=t.map(r=>r.type).join(" | ");return new vn({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=IS(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${$n(r)}`,...i]}})}function pB(){return ms("unknown",()=>!0)}function RS(t,e,r){return new vn({...t,coercer:(n,i)=>CS(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function Fae(t,e,r={}){return RS(t,pB(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&FM(n)&&FM(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function jae(t){return RS(t,dB(),e=>e.trim())}function Uae(t){return ah(t,"empty",e=>{const r=gB(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function gB(t){return t instanceof Map||t instanceof Set?t.size:t.length}function zae(t,e,r={}){const{exclusive:n}=r;return ah(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function qae(t,e,r={}){const{exclusive:n}=r;return ah(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Hae(t){return ah(t,"nonempty",e=>gB(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Wae(t,e){return ah(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function Vae(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return ah(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function ah(t,e,r){return new vn({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=F8(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const Kae=Object.freeze(Object.defineProperty({__proto__:null,Struct:vn,StructError:cB,any:bae,array:_ae,assert:lB,assign:hae,bigint:Eae,boolean:Sae,coerce:RS,create:uB,date:xae,defaulted:Fae,define:ms,deprecated:dae,dynamic:pae,empty:Uae,enums:Aae,func:Iae,instance:Cae,integer:Mae,intersection:Rae,is:CS,lazy:gae,literal:Pae,map:kae,mask:fB,max:zae,min:qae,never:MS,nonempty:Hae,nullable:Oae,number:Tae,object:hm,omit:mae,optional:hB,partial:vae,pattern:Wae,pick:yae,record:Nae,refine:ah,regexp:$ae,set:Dae,size:Vae,string:dB,struct:wae,trimmed:jae,tuple:Lae,type:dm,union:Bae,unknown:pB,validate:U0},Symbol.toStringTag,{value:"Module"})),ch=sc(Kae);Object.defineProperty(ii,"__esModule",{value:!0});ii.assertExhaustive=ii.assertStruct=ii.assert=ii.AssertionError=void 0;const Gae=ch;function Jae(t){return typeof t=="object"&&t!==null&&"message"in t}function Qae(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function Yae(t){const e=Jae(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function mB(t,e){return Qae(t)?new t({message:e}):t({message:e})}class PS extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}ii.AssertionError=PS;function Zae(t,e="Assertion failed.",r=PS){if(!t)throw e instanceof Error?e:mB(r,e)}ii.assert=Zae;function Xae(t,e,r="Assertion failed",n=PS){try{(0,Gae.assert)(t,e)}catch(i){throw mB(n,`${r}: ${Yae(i)}.`)}}ii.assertStruct=Xae;function ece(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}ii.assertExhaustive=ece;var pm={};Object.defineProperty(pm,"__esModule",{value:!0});pm.base64=void 0;const tce=ch,rce=ii,nce=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,rce.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,tce.pattern)(t,a)};pm.base64=nce;var nr={},gm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=ch,r=ii;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=c})(gm);Object.defineProperty(nr,"__esModule",{value:!0});nr.createDataView=nr.concatBytes=nr.valueToBytes=nr.stringToBytes=nr.numberToBytes=nr.signedBigIntToBytes=nr.bigIntToBytes=nr.hexToBytes=nr.bytesToString=nr.bytesToNumber=nr.bytesToSignedBigInt=nr.bytesToBigInt=nr.bytesToHex=nr.assertIsBytes=nr.isBytes=void 0;const ks=ii,j8=gm,jM=48,UM=58,zM=87;function ice(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const sce=ice();function kS(t){return t instanceof Uint8Array}nr.isBytes=kS;function z0(t){(0,ks.assert)(kS(t),"Value must be a Uint8Array.")}nr.assertIsBytes=z0;function vB(t){if(z0(t),t.length===0)return"0x";const e=sce(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,j8.add0x)(r.join(""))}nr.bytesToHex=vB;function yB(t){z0(t);const e=vB(t);return BigInt(e)}nr.bytesToBigInt=yB;function oce(t){z0(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}nr.bytesToSignedBigInt=oce;function ace(t){z0(t);const e=yB(t);return(0,ks.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}nr.bytesToNumber=ace;function cce(t){return z0(t),new TextDecoder().decode(t)}nr.bytesToString=cce;function Wb(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,j8.assertIsHexString)(t);const r=(0,j8.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<UM?jM:zM),l=a-(a<UM?jM:zM);i[s]=c*16+l}return i}nr.hexToBytes=Wb;function wB(t){(0,ks.assert)(typeof t=="bigint","Value must be a bigint."),(0,ks.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Wb(e)}nr.bigIntToBytes=wB;function lce(t,e){(0,ks.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function uce(t,e){(0,ks.assert)(typeof t=="bigint","Value must be a bigint."),(0,ks.assert)(typeof e=="number","Byte length must be a number."),(0,ks.assert)(e>0,"Byte length must be greater than 0."),(0,ks.assert)(lce(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}nr.signedBigIntToBytes=uce;function bB(t){(0,ks.assert)(typeof t=="number","Value must be a number."),(0,ks.assert)(t>=0,"Value must be a non-negative number."),(0,ks.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Wb(e)}nr.numberToBytes=bB;function _B(t){return(0,ks.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}nr.stringToBytes=_B;function EB(t){if(typeof t=="bigint")return wB(t);if(typeof t=="number")return bB(t);if(typeof t=="string")return t.startsWith("0x")?Wb(t):_B(t);if(kS(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}nr.valueToBytes=EB;function fce(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=EB(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}nr.concatBytes=fce;function hce(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}nr.createDataView=hce;var Vb={};Object.defineProperty(Vb,"__esModule",{value:!0});Vb.ChecksumStruct=void 0;const qM=ch,dce=pm;Vb.ChecksumStruct=(0,qM.size)((0,dce.base64)((0,qM.string)(),{paddingRequired:!0}),44,44);var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.createHex=ja.createBytes=ja.createBigInt=ja.createNumber=void 0;const Gr=ch,pce=ii,SB=nr,Kb=gm,xB=(0,Gr.union)([(0,Gr.number)(),(0,Gr.bigint)(),(0,Gr.string)(),Kb.StrictHexStruct]),gce=(0,Gr.coerce)((0,Gr.number)(),xB,Number),mce=(0,Gr.coerce)((0,Gr.bigint)(),xB,BigInt);(0,Gr.union)([Kb.StrictHexStruct,(0,Gr.instance)(Uint8Array)]);const vce=(0,Gr.coerce)((0,Gr.instance)(Uint8Array),(0,Gr.union)([Kb.StrictHexStruct]),SB.hexToBytes),yce=(0,Gr.coerce)(Kb.StrictHexStruct,(0,Gr.instance)(Uint8Array),SB.bytesToHex);function wce(t){try{const e=(0,Gr.create)(t,gce);return(0,pce.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Gr.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}ja.createNumber=wce;function bce(t){try{return(0,Gr.create)(t,mce)}catch(e){throw e instanceof Gr.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}ja.createBigInt=bce;function _ce(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Gr.create)(t,vce)}catch(e){throw e instanceof Gr.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ja.createBytes=_ce;function Ece(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Gr.create)(t,yce)}catch(e){throw e instanceof Gr.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ja.createHex=Ece;var c0={},AB=lt&&lt.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},$i=lt&&lt.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},To,ma;Object.defineProperty(c0,"__esModule",{value:!0});c0.FrozenSet=c0.FrozenMap=void 0;class OS{constructor(e){To.set(this,void 0),AB(this,To,new Map(e),"f"),Object.freeze(this)}get size(){return $i(this,To,"f").size}[(To=new WeakMap,Symbol.iterator)](){return $i(this,To,"f")[Symbol.iterator]()}entries(){return $i(this,To,"f").entries()}forEach(e,r){return $i(this,To,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return $i(this,To,"f").get(e)}has(e){return $i(this,To,"f").has(e)}keys(){return $i(this,To,"f").keys()}values(){return $i(this,To,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}c0.FrozenMap=OS;class TS{constructor(e){ma.set(this,void 0),AB(this,ma,new Set(e),"f"),Object.freeze(this)}get size(){return $i(this,ma,"f").size}[(ma=new WeakMap,Symbol.iterator)](){return $i(this,ma,"f")[Symbol.iterator]()}entries(){return $i(this,ma,"f").entries()}forEach(e,r){return $i(this,ma,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return $i(this,ma,"f").has(e)}keys(){return $i(this,ma,"f").keys()}values(){return $i(this,ma,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}c0.FrozenSet=TS;Object.freeze(OS);Object.freeze(OS.prototype);Object.freeze(TS);Object.freeze(TS.prototype);var IB={};Object.defineProperty(IB,"__esModule",{value:!0});var CB={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.getJsonSize=t.isValidJson=t.JsonStruct=t.UnsafeJsonStruct=void 0;const e=ch,r=ii,n=()=>(0,e.define)("finite number",D=>(0,e.is)(D,(0,e.number)())&&Number.isFinite(D));t.UnsafeJsonStruct=(0,e.union)([(0,e.literal)(null),(0,e.boolean)(),n(),(0,e.string)(),(0,e.array)((0,e.lazy)(()=>t.UnsafeJsonStruct)),(0,e.record)((0,e.string)(),(0,e.lazy)(()=>t.UnsafeJsonStruct))]),t.JsonStruct=(0,e.define)("Json",(D,q)=>{function M(H,te){const K=[...te.validator(H,q)];return K.length>0?K:!0}try{const H=M(D,t.UnsafeJsonStruct);return H!==!0?H:M(JSON.parse(JSON.stringify(D)),t.UnsafeJsonStruct)}catch(H){return H instanceof RangeError?"Circular reference detected":!1}});function i(D){return(0,e.is)(D,t.JsonStruct)}t.isValidJson=i;function s(D){(0,r.assertStruct)(D,t.JsonStruct,"Invalid JSON value");const q=JSON.stringify(D);return new TextEncoder().encode(q).byteLength}t.getJsonSize=s,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function o(D){return(0,e.is)(D,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=o;function a(D,q){(0,r.assertStruct)(D,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",q)}t.assertIsJsonRpcNotification=a;function c(D){return(0,e.is)(D,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=c;function l(D,q){(0,r.assertStruct)(D,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",q)}t.assertIsJsonRpcRequest=l,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function h(D){return(0,e.is)(D,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=h;function p(D,q){(0,r.assertStruct)(D,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",q)}t.assertIsPendingJsonRpcResponse=p;function v(D){return(0,e.is)(D,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=v;function b(D,q){(0,r.assertStruct)(D,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",q)}t.assertIsJsonRpcResponse=b;function S(D){return(0,e.is)(D,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=S;function T(D,q){(0,r.assertStruct)(D,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",q)}t.assertIsJsonRpcSuccess=T;function B(D){return(0,e.is)(D,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=B;function R(D,q){(0,r.assertStruct)(D,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",q)}t.assertIsJsonRpcFailure=R;function P(D){return(0,e.is)(D,t.JsonRpcErrorStruct)}t.isJsonRpcError=P;function O(D,q){(0,r.assertStruct)(D,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",q)}t.assertIsJsonRpcError=O;function L(D){const{permitEmptyString:q,permitFractions:M,permitNull:H}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},D);return oe=>!!(typeof oe=="number"&&(M||Number.isInteger(oe))||typeof oe=="string"&&(q||oe.length>0)||H&&oe===null)}t.getJsonRpcIdValidator=L})(CB);var MB={};Object.defineProperty(MB,"__esModule",{value:!0});var l0={},U8={exports:{}},s5,HM;function Sce(){if(HM)return s5;HM=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;s5=function(h,p){p=p||{};var v=typeof h;if(v==="string"&&h.length>0)return o(h);if(v==="number"&&isFinite(h))return p.long?c(h):a(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var v=parseFloat(p[1]),b=(p[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return v*s;case"weeks":case"week":case"w":return v*i;case"days":case"day":case"d":return v*n;case"hours":case"hour":case"hrs":case"hr":case"h":return v*r;case"minutes":case"minute":case"mins":case"min":case"m":return v*e;case"seconds":case"second":case"secs":case"sec":case"s":return v*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function a(h){var p=Math.abs(h);return p>=n?Math.round(h/n)+"d":p>=r?Math.round(h/r)+"h":p>=e?Math.round(h/e)+"m":p>=t?Math.round(h/t)+"s":h+"ms"}function c(h){var p=Math.abs(h);return p>=n?l(h,p,n,"day"):p>=r?l(h,p,r,"hour"):p>=e?l(h,p,e,"minute"):p>=t?l(h,p,t,"second"):h+" ms"}function l(h,p,v,b){var S=p>=v*1.5;return Math.round(h/v)+" "+b+(S?"s":"")}return s5}function xce(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Sce(),r.destroy=l,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let p=0;for(let v=0;v<h.length;v++)p=(p<<5)-p+h.charCodeAt(v),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(h){let p,v=null,b,S;function T(...B){if(!T.enabled)return;const R=T,P=Number(new Date),O=P-(p||P);R.diff=O,R.prev=p,R.curr=P,p=P,B[0]=r.coerce(B[0]),typeof B[0]!="string"&&B.unshift("%O");let L=0;B[0]=B[0].replace(/%([a-zA-Z%])/g,(q,M)=>{if(q==="%%")return"%";L++;const H=r.formatters[M];if(typeof H=="function"){const te=B[L];q=H.call(R,te),B.splice(L,1),L--}return q}),r.formatArgs.call(R,B),(R.log||r.log).apply(R,B)}return T.namespace=h,T.useColors=r.useColors(),T.color=r.selectColor(h),T.extend=n,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(b!==r.namespaces&&(b=r.namespaces,S=r.enabled(h)),S),set:B=>{v=B}}),typeof r.init=="function"&&r.init(T),T}function n(h,p){const v=r(this.namespace+(typeof p>"u"?":":p)+h);return v.log=this.log,v}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let p;const v=(typeof h=="string"?h:"").split(/[\s,]+/),b=v.length;for(p=0;p<b;p++)v[p]&&(h=v[p].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function s(){const h=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let p,v;for(p=0,v=r.skips.length;p<v;p++)if(r.skips[p].test(h))return!1;for(p=0,v=r.names.length;p<v;p++)if(r.names[p].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function c(h){return h instanceof Error?h.stack||h.message:h}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Ace=xce;(function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;l.splice(1,0,h,"color: inherit");let p=0,v=0;l[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(p++,b==="%c"&&(v=p))}),l.splice(v,0,h)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=Ace(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(U8,U8.exports);var Ice=U8.exports,Cce=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(l0,"__esModule",{value:!0});l0.createModuleLogger=l0.createProjectLogger=void 0;const Mce=Cce(Ice),Rce=(0,Mce.default)("metamask");function Pce(t){return Rce.extend(t)}l0.createProjectLogger=Pce;function kce(t,e){return t.extend(e)}l0.createModuleLogger=kce;var RB={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,h)=>Object.hasOwnProperty.call(l,h);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let h=l;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(l)===h}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var h;return l.split("").reduce((v,b)=>o(b)?v+1:v+2,0)+((h=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&h!==void 0?h:[]).length}t.calculateStringSize=a;function c(l){return l.toString().length}t.calculateNumberSize=c})(RB);var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.hexToBigInt=Ua.hexToNumber=Ua.bigIntToHex=Ua.numberToHex=void 0;const Md=ii,yg=gm,Oce=t=>((0,Md.assert)(typeof t=="number","Value must be a number."),(0,Md.assert)(t>=0,"Value must be a non-negative number."),(0,Md.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,yg.add0x)(t.toString(16)));Ua.numberToHex=Oce;const Tce=t=>((0,Md.assert)(typeof t=="bigint","Value must be a bigint."),(0,Md.assert)(t>=0,"Value must be a non-negative bigint."),(0,yg.add0x)(t.toString(16)));Ua.bigIntToHex=Tce;const Nce=t=>{(0,yg.assertIsHexString)(t);const e=parseInt(t,16);return(0,Md.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};Ua.hexToNumber=Nce;const $ce=t=>((0,yg.assertIsHexString)(t),BigInt((0,yg.add0x)(t)));Ua.hexToBigInt=$ce;var PB={};Object.defineProperty(PB,"__esModule",{value:!0});var kB={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(kB);var OB={};Object.defineProperty(OB,"__esModule",{value:!0});var TB={},z8={exports:{}};const Dce="2.0.0",NB=256,Lce=Number.MAX_SAFE_INTEGER||9007199254740991,Bce=16,Fce=NB-6,jce=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Gb={MAX_LENGTH:NB,MAX_SAFE_COMPONENT_LENGTH:Bce,MAX_SAFE_BUILD_LENGTH:Fce,MAX_SAFE_INTEGER:Lce,RELEASE_TYPES:jce,SEMVER_SPEC_VERSION:Dce,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},o5={};const Uce=typeof process=="object"&&o5&&o5.NODE_DEBUG&&/\bsemver\b/i.test(o5.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Jb=Uce;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Gb,s=Jb;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],l=e.t={};let h=0;const p="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",i],[p,n]],b=T=>{for(const[B,R]of v)T=T.split(`${B}*`).join(`${B}{0,${R}}`).split(`${B}+`).join(`${B}{1,${R}}`);return T},S=(T,B,R)=>{const P=b(B),O=h++;s(T,O,B),l[T]=O,c[O]=B,o[O]=new RegExp(B,R?"g":void 0),a[O]=new RegExp(P,R?"g":void 0)};S("NUMERICIDENTIFIER","0|[1-9]\\d*"),S("NUMERICIDENTIFIERLOOSE","\\d+"),S("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),S("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),S("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),S("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),S("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),S("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),S("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),S("BUILDIDENTIFIER",`${p}+`),S("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),S("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),S("FULL",`^${c[l.FULLPLAIN]}$`),S("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),S("LOOSE",`^${c[l.LOOSEPLAIN]}$`),S("GTLT","((?:<|>)?=?)"),S("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),S("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),S("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),S("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),S("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),S("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),S("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),S("COERCE",`${c[l.COERCEPLAIN]}(?:$|[^\\d])`),S("COERCEFULL",c[l.COERCEPLAIN]+`(?:${c[l.PRERELEASE]})?(?:${c[l.BUILD]})?(?:$|[^\\d])`),S("COERCERTL",c[l.COERCE],!0),S("COERCERTLFULL",c[l.COERCEFULL],!0),S("LONETILDE","(?:~>?)"),S("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",S("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),S("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),S("LONECARET","(?:\\^)"),S("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",S("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),S("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),S("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),S("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),S("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",S("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),S("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),S("STAR","(<|>)?=?\\s*\\*"),S("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),S("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(z8,z8.exports);var mm=z8.exports;const zce=Object.freeze({loose:!0}),qce=Object.freeze({}),Hce=t=>t?typeof t!="object"?zce:t:qce;var NS=Hce;const WM=/^[0-9]+$/,$B=(t,e)=>{const r=WM.test(t),n=WM.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Wce=(t,e)=>$B(e,t);var DB={compareIdentifiers:$B,rcompareIdentifiers:Wce};const Ey=Jb,{MAX_LENGTH:VM,MAX_SAFE_INTEGER:Sy}=Gb,{safeRe:KM,t:GM}=mm,Vce=NS,{compareIdentifiers:qh}=DB;let Kce=class _a{constructor(e,r){if(r=Vce(r),e instanceof _a){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>VM)throw new TypeError(`version is longer than ${VM} characters`);Ey("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?KM[GM.LOOSE]:KM[GM.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Sy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Sy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Sy||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Sy)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ey("SemVer.compare",this.version,this.options,e),!(e instanceof _a)){if(typeof e=="string"&&e===this.version)return 0;e=new _a(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof _a||(e=new _a(e,this.options)),qh(this.major,e.major)||qh(this.minor,e.minor)||qh(this.patch,e.patch)}comparePre(e){if(e instanceof _a||(e=new _a(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Ey("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return qh(n,i)}while(++r)}compareBuild(e){e instanceof _a||(e=new _a(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Ey("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return qh(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),qh(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Vi=Kce;const JM=Vi,Gce=(t,e,r=!1)=>{if(t instanceof JM)return t;try{return new JM(t,e)}catch(n){if(!r)return null;throw n}};var q0=Gce;const Jce=q0,Qce=(t,e)=>{const r=Jce(t,e);return r?r.version:null};var Yce=Qce;const Zce=q0,Xce=(t,e)=>{const r=Zce(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var ele=Xce;const QM=Vi,tle=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new QM(t instanceof QM?t.version:t,r).inc(e,n,i).version}catch{return null}};var rle=tle;const YM=q0,nle=(t,e)=>{const r=YM(t,null,!0),n=YM(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const h=c?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};var ile=nle;const sle=Vi,ole=(t,e)=>new sle(t,e).major;var ale=ole;const cle=Vi,lle=(t,e)=>new cle(t,e).minor;var ule=lle;const fle=Vi,hle=(t,e)=>new fle(t,e).patch;var dle=hle;const ple=q0,gle=(t,e)=>{const r=ple(t,e);return r&&r.prerelease.length?r.prerelease:null};var mle=gle;const ZM=Vi,vle=(t,e,r)=>new ZM(t,r).compare(new ZM(e,r));var na=vle;const yle=na,wle=(t,e,r)=>yle(e,t,r);var ble=wle;const _le=na,Ele=(t,e)=>_le(t,e,!0);var Sle=Ele;const XM=Vi,xle=(t,e,r)=>{const n=new XM(t,r),i=new XM(e,r);return n.compare(i)||n.compareBuild(i)};var $S=xle;const Ale=$S,Ile=(t,e)=>t.sort((r,n)=>Ale(r,n,e));var Cle=Ile;const Mle=$S,Rle=(t,e)=>t.sort((r,n)=>Mle(n,r,e));var Ple=Rle;const kle=na,Ole=(t,e,r)=>kle(t,e,r)>0;var Qb=Ole;const Tle=na,Nle=(t,e,r)=>Tle(t,e,r)<0;var DS=Nle;const $le=na,Dle=(t,e,r)=>$le(t,e,r)===0;var LB=Dle;const Lle=na,Ble=(t,e,r)=>Lle(t,e,r)!==0;var BB=Ble;const Fle=na,jle=(t,e,r)=>Fle(t,e,r)>=0;var LS=jle;const Ule=na,zle=(t,e,r)=>Ule(t,e,r)<=0;var BS=zle;const qle=LB,Hle=BB,Wle=Qb,Vle=LS,Kle=DS,Gle=BS,Jle=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return qle(t,r,n);case"!=":return Hle(t,r,n);case">":return Wle(t,r,n);case">=":return Vle(t,r,n);case"<":return Kle(t,r,n);case"<=":return Gle(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var FB=Jle;const Qle=Vi,Yle=q0,{safeRe:xy,t:Ay}=mm,Zle=(t,e)=>{if(t instanceof Qle)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?xy[Ay.COERCEFULL]:xy[Ay.COERCE]);else{const c=e.includePrerelease?xy[Ay.COERCERTLFULL]:xy[Ay.COERCERTL];let l;for(;(l=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),c.lastIndex=l.index+l[1].length+l[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return Yle(`${n}.${i}.${s}${o}${a}`,e)};var Xle=Zle;class eue{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}}var tue=eue,a5,eR;function ia(){if(eR)return a5;eR=1;const t=/\s+/g;class e{constructor(m,_){if(_=i(_),m instanceof e)return m.loose===!!_.loose&&m.includePrerelease===!!_.includePrerelease?m:new e(m.raw,_);if(m instanceof s)return this.raw=m.value,this.set=[[m]],this.formatted=void 0,this;if(this.options=_,this.loose=!!_.loose,this.includePrerelease=!!_.includePrerelease,this.raw=m.trim().replace(t," "),this.set=this.raw.split("||").map(I=>this.parseRange(I.trim())).filter(I=>I.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const I=this.set[0];if(this.set=this.set.filter(C=>!T(C[0])),this.set.length===0)this.set=[I];else if(this.set.length>1){for(const C of this.set)if(C.length===1&&B(C[0])){this.set=[C];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let m=0;m<this.set.length;m++){m>0&&(this.formatted+="||");const _=this.set[m];for(let I=0;I<_.length;I++)I>0&&(this.formatted+=" "),this.formatted+=_[I].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(m){const I=((this.options.includePrerelease&&b)|(this.options.loose&&S))+":"+m,C=n.get(I);if(C)return C;const A=this.options.loose,w=A?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];m=m.replace(w,k(this.options.includePrerelease)),o("hyphen replace",m),m=m.replace(c[l.COMPARATORTRIM],h),o("comparator trim",m),m=m.replace(c[l.TILDETRIM],p),o("tilde trim",m),m=m.replace(c[l.CARETTRIM],v),o("caret trim",m);let y=m.split(" ").map(U=>P(U,this.options)).join(" ").split(/\s+/).map(U=>K(U,this.options));A&&(y=y.filter(U=>(o("loose invalid filter",U,this.options),!!U.match(c[l.COMPARATORLOOSE])))),o("range list",y);const E=new Map,V=y.map(U=>new s(U,this.options));for(const U of V){if(T(U))return[U];E.set(U.value,U)}E.size>1&&E.has("")&&E.delete("");const ce=[...E.values()];return n.set(I,ce),ce}intersects(m,_){if(!(m instanceof e))throw new TypeError("a Range is required");return this.set.some(I=>R(I,_)&&m.set.some(C=>R(C,_)&&I.every(A=>C.every(w=>A.intersects(w,_)))))}test(m){if(!m)return!1;if(typeof m=="string")try{m=new a(m,this.options)}catch{return!1}for(let _=0;_<this.set.length;_++)if(g(this.set[_],m,this.options))return!0;return!1}}a5=e;const r=tue,n=new r,i=NS,s=Yb(),o=Jb,a=Vi,{safeRe:c,t:l,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:v}=mm,{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:S}=Gb,T=f=>f.value==="<0.0.0-0",B=f=>f.value==="",R=(f,m)=>{let _=!0;const I=f.slice();let C=I.pop();for(;_&&I.length;)_=I.every(A=>C.intersects(A,m)),C=I.pop();return _},P=(f,m)=>(o("comp",f,m),f=q(f,m),o("caret",f),f=L(f,m),o("tildes",f),f=H(f,m),o("xrange",f),f=oe(f,m),o("stars",f),f),O=f=>!f||f.toLowerCase()==="x"||f==="*",L=(f,m)=>f.trim().split(/\s+/).map(_=>D(_,m)).join(" "),D=(f,m)=>{const _=m.loose?c[l.TILDELOOSE]:c[l.TILDE];return f.replace(_,(I,C,A,w,y)=>{o("tilde",f,I,C,A,w,y);let E;return O(C)?E="":O(A)?E=`>=${C}.0.0 <${+C+1}.0.0-0`:O(w)?E=`>=${C}.${A}.0 <${C}.${+A+1}.0-0`:y?(o("replaceTilde pr",y),E=`>=${C}.${A}.${w}-${y} <${C}.${+A+1}.0-0`):E=`>=${C}.${A}.${w} <${C}.${+A+1}.0-0`,o("tilde return",E),E})},q=(f,m)=>f.trim().split(/\s+/).map(_=>M(_,m)).join(" "),M=(f,m)=>{o("caret",f,m);const _=m.loose?c[l.CARETLOOSE]:c[l.CARET],I=m.includePrerelease?"-0":"";return f.replace(_,(C,A,w,y,E)=>{o("caret",f,C,A,w,y,E);let V;return O(A)?V="":O(w)?V=`>=${A}.0.0${I} <${+A+1}.0.0-0`:O(y)?A==="0"?V=`>=${A}.${w}.0${I} <${A}.${+w+1}.0-0`:V=`>=${A}.${w}.0${I} <${+A+1}.0.0-0`:E?(o("replaceCaret pr",E),A==="0"?w==="0"?V=`>=${A}.${w}.${y}-${E} <${A}.${w}.${+y+1}-0`:V=`>=${A}.${w}.${y}-${E} <${A}.${+w+1}.0-0`:V=`>=${A}.${w}.${y}-${E} <${+A+1}.0.0-0`):(o("no pr"),A==="0"?w==="0"?V=`>=${A}.${w}.${y}${I} <${A}.${w}.${+y+1}-0`:V=`>=${A}.${w}.${y}${I} <${A}.${+w+1}.0-0`:V=`>=${A}.${w}.${y} <${+A+1}.0.0-0`),o("caret return",V),V})},H=(f,m)=>(o("replaceXRanges",f,m),f.split(/\s+/).map(_=>te(_,m)).join(" ")),te=(f,m)=>{f=f.trim();const _=m.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return f.replace(_,(I,C,A,w,y,E)=>{o("xRange",f,I,C,A,w,y,E);const V=O(A),ce=V||O(w),U=ce||O(y),Z=U;return C==="="&&Z&&(C=""),E=m.includePrerelease?"-0":"",V?C===">"||C==="<"?I="<0.0.0-0":I="*":C&&Z?(ce&&(w=0),y=0,C===">"?(C=">=",ce?(A=+A+1,w=0,y=0):(w=+w+1,y=0)):C==="<="&&(C="<",ce?A=+A+1:w=+w+1),C==="<"&&(E="-0"),I=`${C+A}.${w}.${y}${E}`):ce?I=`>=${A}.0.0${E} <${+A+1}.0.0-0`:U&&(I=`>=${A}.${w}.0${E} <${A}.${+w+1}.0-0`),o("xRange return",I),I})},oe=(f,m)=>(o("replaceStars",f,m),f.trim().replace(c[l.STAR],"")),K=(f,m)=>(o("replaceGTE0",f,m),f.trim().replace(c[m.includePrerelease?l.GTE0PRE:l.GTE0],"")),k=f=>(m,_,I,C,A,w,y,E,V,ce,U,Z)=>(O(I)?_="":O(C)?_=`>=${I}.0.0${f?"-0":""}`:O(A)?_=`>=${I}.${C}.0${f?"-0":""}`:w?_=`>=${_}`:_=`>=${_}${f?"-0":""}`,O(V)?E="":O(ce)?E=`<${+V+1}.0.0-0`:O(U)?E=`<${V}.${+ce+1}.0-0`:Z?E=`<=${V}.${ce}.${U}-${Z}`:f?E=`<${V}.${ce}.${+U+1}-0`:E=`<=${E}`,`${_} ${E}`.trim()),g=(f,m,_)=>{for(let I=0;I<f.length;I++)if(!f[I].test(m))return!1;if(m.prerelease.length&&!_.includePrerelease){for(let I=0;I<f.length;I++)if(o(f[I].semver),f[I].semver!==s.ANY&&f[I].semver.prerelease.length>0){const C=f[I].semver;if(C.major===m.major&&C.minor===m.minor&&C.patch===m.patch)return!0}return!1}return!0};return a5}var c5,tR;function Yb(){if(tR)return c5;tR=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,p){if(p=r(p),h instanceof e){if(h.loose===!!p.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,p),this.options=p,this.loose=!!p.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const p=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],v=h.match(p);if(!v)throw new TypeError(`Invalid comparator: ${h}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new a(v[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new a(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,p){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(h.value,p).test(this.value):h.operator===""?h.value===""?!0:new c(this.value,p).test(h.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,p)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,p)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}c5=e;const r=NS,{safeRe:n,t:i}=mm,s=FB,o=Jb,a=Vi,c=ia();return c5}const rue=ia(),nue=(t,e,r)=>{try{e=new rue(e,r)}catch{return!1}return e.test(t)};var Zb=nue;const iue=ia(),sue=(t,e)=>new iue(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var oue=sue;const aue=Vi,cue=ia(),lue=(t,e,r)=>{let n=null,i=null,s=null;try{s=new cue(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new aue(n,r))}),n};var uue=lue;const fue=Vi,hue=ia(),due=(t,e,r)=>{let n=null,i=null,s=null;try{s=new hue(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new fue(n,r))}),n};var pue=due;const l5=Vi,gue=ia(),rR=Qb,mue=(t,e)=>{t=new gue(t,e);let r=new l5("0.0.0");if(t.test(r)||(r=new l5("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new l5(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||rR(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||rR(r,s))&&(r=s)}return r&&t.test(r)?r:null};var vue=mue;const yue=ia(),wue=(t,e)=>{try{return new yue(t,e).range||"*"}catch{return null}};var bue=wue;const _ue=Vi,jB=Yb(),{ANY:Eue}=jB,Sue=ia(),xue=Zb,nR=Qb,iR=DS,Aue=BS,Iue=LS,Cue=(t,e,r,n)=>{t=new _ue(t,n),e=new Sue(e,n);let i,s,o,a,c;switch(r){case">":i=nR,s=Aue,o=iR,a=">",c=">=";break;case"<":i=iR,s=Iue,o=nR,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(xue(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const h=e.set[l];let p=null,v=null;if(h.forEach(b=>{b.semver===Eue&&(b=new jB(">=0.0.0")),p=p||b,v=v||b,i(b.semver,p.semver,n)?p=b:o(b.semver,v.semver,n)&&(v=b)}),p.operator===a||p.operator===c||(!v.operator||v.operator===a)&&s(t,v.semver))return!1;if(v.operator===c&&o(t,v.semver))return!1}return!0};var FS=Cue;const Mue=FS,Rue=(t,e,r)=>Mue(t,e,">",r);var Pue=Rue;const kue=FS,Oue=(t,e,r)=>kue(t,e,"<",r);var Tue=Oue;const sR=ia(),Nue=(t,e,r)=>(t=new sR(t,r),e=new sR(e,r),t.intersects(e,r));var $ue=Nue;const Due=Zb,Lue=na;var Bue=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((h,p)=>Lue(h,p,r));for(const h of o)Due(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[h,p]of n)h===p?a.push(h):!p&&h===o[0]?a.push("*"):p?h===o[0]?a.push(`<=${p}`):a.push(`${h} - ${p}`):a.push(`>=${h}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const oR=ia(),jS=Yb(),{ANY:u5}=jS,Fp=Zb,US=na,Fue=(t,e,r={})=>{if(t===e)return!0;t=new oR(t,r),e=new oR(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=Uue(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},jue=[new jS(">=0.0.0-0")],aR=[new jS(">=0.0.0")],Uue=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===u5){if(e.length===1&&e[0].semver===u5)return!0;r.includePrerelease?t=jue:t=aR}if(e.length===1&&e[0].semver===u5){if(r.includePrerelease)return!0;e=aR}const n=new Set;let i,s;for(const b of t)b.operator===">"||b.operator===">="?i=cR(i,b,r):b.operator==="<"||b.operator==="<="?s=lR(s,b,r):n.add(b.semver);if(n.size>1)return null;let o;if(i&&s){if(o=US(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const b of n){if(i&&!Fp(b,String(i),r)||s&&!Fp(b,String(s),r))return null;for(const S of e)if(!Fp(b,String(S),r))return!1;return!0}let a,c,l,h,p=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,v=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;p&&p.prerelease.length===1&&s.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const b of e){if(h=h||b.operator===">"||b.operator===">=",l=l||b.operator==="<"||b.operator==="<=",i){if(v&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===v.major&&b.semver.minor===v.minor&&b.semver.patch===v.patch&&(v=!1),b.operator===">"||b.operator===">="){if(a=cR(i,b,r),a===b&&a!==i)return!1}else if(i.operator===">="&&!Fp(i.semver,String(b),r))return!1}if(s){if(p&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===p.major&&b.semver.minor===p.minor&&b.semver.patch===p.patch&&(p=!1),b.operator==="<"||b.operator==="<="){if(c=lR(s,b,r),c===b&&c!==s)return!1}else if(s.operator==="<="&&!Fp(s.semver,String(b),r))return!1}if(!b.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&h&&!i&&o!==0||v||p)},cR=(t,e,r)=>{if(!t)return e;const n=US(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},lR=(t,e,r)=>{if(!t)return e;const n=US(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var zue=Fue;const f5=mm,uR=Gb,que=Vi,fR=DB,Hue=q0,Wue=Yce,Vue=ele,Kue=rle,Gue=ile,Jue=ale,Que=ule,Yue=dle,Zue=mle,Xue=na,efe=ble,tfe=Sle,rfe=$S,nfe=Cle,ife=Ple,sfe=Qb,ofe=DS,afe=LB,cfe=BB,lfe=LS,ufe=BS,ffe=FB,hfe=Xle,dfe=Yb(),pfe=ia(),gfe=Zb,mfe=oue,vfe=uue,yfe=pue,wfe=vue,bfe=bue,_fe=FS,Efe=Pue,Sfe=Tue,xfe=$ue,Afe=Bue,Ife=zue;var Cfe={parse:Hue,valid:Wue,clean:Vue,inc:Kue,diff:Gue,major:Jue,minor:Que,patch:Yue,prerelease:Zue,compare:Xue,rcompare:efe,compareLoose:tfe,compareBuild:rfe,sort:nfe,rsort:ife,gt:sfe,lt:ofe,eq:afe,neq:cfe,gte:lfe,lte:ufe,cmp:ffe,coerce:hfe,Comparator:dfe,Range:pfe,satisfies:gfe,toComparators:mfe,maxSatisfying:vfe,minSatisfying:yfe,minVersion:wfe,validRange:bfe,outside:_fe,gtr:Efe,ltr:Sfe,intersects:xfe,simplifyRange:Afe,subset:Ife,SemVer:que,re:f5.re,src:f5.src,tokens:f5.t,SEMVER_SPEC_VERSION:uR.SEMVER_SPEC_VERSION,RELEASE_TYPES:uR.RELEASE_TYPES,compareIdentifiers:fR.compareIdentifiers,rcompareIdentifiers:fR.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=Cfe,r=ch,n=ii;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",p=>(0,e.valid)(p)===null?`Expected SemVer version, got "${p}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",p=>(0,e.validRange)(p)===null?`Expected SemVer range, got "${p}"`:!0);function i(p){return(0,r.is)(p,t.VersionStruct)}t.isValidSemVerVersion=i;function s(p){return(0,r.is)(p,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(p){(0,n.assertStruct)(p,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(p){(0,n.assertStruct)(p,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(p,v){return(0,e.gt)(p,v)}t.gtVersion=c;function l(p,v){return(0,e.gtr)(p,v)}t.gtRange=l;function h(p,v){return(0,e.satisfies)(p,v,{includePrerelease:!0})}t.satisfiesVersionRange=h})(TB);(function(t){var e=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ii,t),r(pm,t),r(nr,t),r(Vb,t),r(ja,t),r(c0,t),r(IB,t),r(gm,t),r(CB,t),r(MB,t),r(l0,t),r(RB,t),r(Ua,t),r(PB,t),r(kB,t),r(OB,t),r(TB,t)})(aB);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=aB;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(oB);var UB=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hb,"__esModule",{value:!0});Hb.PollingBlockTracker=void 0;const Mfe=UB(AS),Rfe=UB(eae),Pfe=um,hR=oB,dR=(0,hR.createModuleLogger)(hR.projectLogger,"polling-block-tracker"),kfe=(0,Mfe.default)(),Ofe=1e3;class Tfe extends Pfe.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},e),{blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval})),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*Ofe,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=pR(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=pR(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:kfe(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),dR("Making request",e);const r=await(0,Rfe.default)(n=>this._provider.sendAsync(e,n))();if(dR("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Hb.PollingBlockTracker=Tfe;function pR(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Xb={},Nfe=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xb,"__esModule",{value:!0});Xb.SubscribeBlockTracker=void 0;const $fe=Nfe(AS),Dfe=um,Lfe=(0,$fe.default)();class Bfe extends Dfe.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:Lfe(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Xb.SubscribeBlockTracker=Bfe;(function(t){var e=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Hb,t),r(Xb,t)})(sB);var zS={},e3={},vm={};Object.defineProperty(vm,"__esModule",{value:!0});vm.getUniqueId=void 0;const zB=4294967295;let h5=Math.floor(Math.random()*zB);function Ffe(){return h5=(h5+1)%zB,h5}vm.getUniqueId=Ffe;Object.defineProperty(e3,"__esModule",{value:!0});e3.createIdRemapMiddleware=void 0;const jfe=vm;function Ufe(){return(t,e,r,n)=>{const i=t.id,s=jfe.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}e3.createIdRemapMiddleware=Ufe;var t3={};Object.defineProperty(t3,"__esModule",{value:!0});t3.createAsyncMiddleware=void 0;function zfe(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,c=!1;const l=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}t3.createAsyncMiddleware=zfe;var r3={};Object.defineProperty(r3,"__esModule",{value:!0});r3.createScaffoldMiddleware=void 0;function qfe(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}r3.createScaffoldMiddleware=qfe;var ym={},qS={};Object.defineProperty(qS,"__esModule",{value:!0});const Hfe=ci;function gR(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Wfe(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Vfe=class extends Hfe.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")gR(s,this,r);else{const o=s.length,a=Wfe(s);for(let c=0;c<o;c+=1)gR(a[c],this,r)}return!0}};qS.default=Vfe;var qB={},gu={},Kfe=wg;wg.default=wg;wg.stable=VB;wg.stableStringify=VB;var rw="[...]",HB="[Circular]",Wf=[],bf=[];function WB(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function wg(t,e,r,n){typeof n>"u"&&(n=WB()),q8(t,"",0,[],void 0,0,n);var i;try{bf.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,KB(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Wf.length!==0;){var s=Wf.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Rd(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Wf.push([n,r,e,i])):bf.push([e,r,t]):(n[r]=t,Wf.push([n,r,e]))}function q8(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Rd(HB,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Rd(rw,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Rd(rw,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)q8(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];q8(t[l],l,a,n,t,s,o)}}n.pop()}}function Gfe(t,e){return t<e?-1:t>e?1:0}function VB(t,e,r,n){typeof n>"u"&&(n=WB());var i=H8(t,"",0,[],void 0,0,n)||t,s;try{bf.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,KB(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Wf.length!==0;){var o=Wf.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function H8(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Rd(HB,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Rd(rw,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Rd(rw,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)H8(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort(Gfe);for(a=0;a<l.length;a++){var h=l[a];H8(t[h],h,a,n,t,s,o),c[h]=t[h]}if(typeof i<"u")Wf.push([i,e,t]),i[e]=c;else return c}n.pop()}}function KB(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(bf.length>0)for(var n=0;n<bf.length;n++){var i=bf[n];if(i[1]===e&&i[0]===r){r=i[2],bf.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(gu,"__esModule",{value:!0});gu.EthereumProviderError=gu.EthereumRpcError=void 0;const Jfe=Kfe;class GB extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Jfe.default(this.serialize(),Zfe,2)}}gu.EthereumRpcError=GB;class Qfe extends GB{constructor(e,r,n){if(!Yfe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}gu.EthereumProviderError=Qfe;function Yfe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Zfe(t,e){if(e!=="[Circular]")return e}var HS={},mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.errorValues=mu.errorCodes=void 0;mu.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};mu.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=mu,r=gu,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(v,b=i){if(Number.isInteger(v)){const S=v.toString();if(p(e.errorValues,S))return e.errorValues[S].message;if(l(v))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return b}t.getMessageFromCode=o;function a(v){if(!Number.isInteger(v))return!1;const b=v.toString();return!!(e.errorValues[b]||l(v))}t.isValidCode=a;function c(v,{fallbackError:b=s,shouldIncludeStack:S=!1}={}){var T,B;if(!b||!Number.isInteger(b.code)||typeof b.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(v instanceof r.EthereumRpcError)return v.serialize();const R={};if(v&&typeof v=="object"&&!Array.isArray(v)&&p(v,"code")&&a(v.code)){const O=v;R.code=O.code,O.message&&typeof O.message=="string"?(R.message=O.message,p(O,"data")&&(R.data=O.data)):(R.message=o(R.code),R.data={originalError:h(v)})}else{R.code=b.code;const O=(T=v)===null||T===void 0?void 0:T.message;R.message=O&&typeof O=="string"?O:b.message,R.data={originalError:h(v)}}const P=(B=v)===null||B===void 0?void 0:B.stack;return S&&v&&P&&typeof P=="string"&&(R.stack=P),R}t.serializeError=c;function l(v){return v>=-32099&&v<=-32e3}function h(v){return v&&typeof v=="object"&&!Array.isArray(v)?Object.assign({},v):v}function p(v,b){return Object.prototype.hasOwnProperty.call(v,b)}})(HS);var n3={};Object.defineProperty(n3,"__esModule",{value:!0});n3.ethErrors=void 0;const WS=gu,JB=HS,mi=mu;n3.ethErrors={rpc:{parse:t=>Xs(mi.errorCodes.rpc.parse,t),invalidRequest:t=>Xs(mi.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Xs(mi.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Xs(mi.errorCodes.rpc.methodNotFound,t),internal:t=>Xs(mi.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Xs(e,t)},invalidInput:t=>Xs(mi.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Xs(mi.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Xs(mi.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Xs(mi.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Xs(mi.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Xs(mi.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>jp(mi.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>jp(mi.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>jp(mi.errorCodes.provider.unsupportedMethod,t),disconnected:t=>jp(mi.errorCodes.provider.disconnected,t),chainDisconnected:t=>jp(mi.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new WS.EthereumProviderError(e,r,n)}}};function Xs(t,e){const[r,n]=QB(e);return new WS.EthereumRpcError(t,r||JB.getMessageFromCode(t),n)}function jp(t,e){const[r,n]=QB(e);return new WS.EthereumProviderError(t,r||JB.getMessageFromCode(t),n)}function QB(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=gu;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=HS;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=n3;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=mu;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(qB);var Xfe=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ym,"__esModule",{value:!0});ym.JsonRpcEngine=void 0;const ehe=Xfe(qS),eo=qB;class Rc extends ehe.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Rc._runAllMiddleware(e,r,this._middleware);return o?(await Rc._runReturnHandlers(a),i(s)):n(async c=>{try{await Rc._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new eo.EthereumRpcError(eo.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new eo.EthereumRpcError(eo.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=eo.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Rc._runAllMiddleware(e,r,this._middleware);if(Rc._checkForCompletion(e,r,i),await Rc._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Rc._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=eo.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new eo.EthereumRpcError(eo.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${d5(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new eo.EthereumRpcError(eo.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${d5(e)}`,{request:e});if(!n)throw new eo.EthereumRpcError(eo.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${d5(e)}`,{request:e})}}ym.JsonRpcEngine=Rc;function d5(t){return JSON.stringify(t,null,2)}var i3={};Object.defineProperty(i3,"__esModule",{value:!0});i3.mergeMiddleware=void 0;const the=ym;function rhe(t){const e=new the.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}i3.mergeMiddleware=rhe;(function(t){var e=lt&&lt.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=lt&&lt.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(e3,t),r(t3,t),r(r3,t),r(vm,t),r(ym,t),r(i3,t)})(zS);var YB={},VS={},W8=function(t,e){return W8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},W8(t,e)};function ZB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");W8(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nw=function(){return nw=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nw.apply(this,arguments)};function XB(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function eF(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function tF(t,e){return function(r,n){e(r,n,t)}}function rF(t,e,r,n,i,s){function o(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,h=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),p,v=!1,b=r.length-1;b>=0;b--){var S={};for(var T in n)S[T]=T==="access"?{}:n[T];for(var T in n.access)S.access[T]=n.access[T];S.addInitializer=function(R){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(R||null))};var B=(0,r[b])(a==="accessor"?{get:h.get,set:h.set}:h[c],S);if(a==="accessor"){if(B===void 0)continue;if(B===null||typeof B!="object")throw new TypeError("Object expected");(p=o(B.get))&&(h.get=p),(p=o(B.set))&&(h.set=p),(p=o(B.init))&&i.unshift(p)}else(p=o(B))&&(a==="field"?i.unshift(p):h[c]=p)}l&&Object.defineProperty(l,n.name,h),v=!0}function nF(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function iF(t){return typeof t=="symbol"?t:"".concat(t)}function sF(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function oF(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function aF(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(p){o(p)}}function c(h){try{l(n.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function cF(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return c([l,h])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var s3=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function lF(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&s3(e,t,r)}function iw(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function KS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function uF(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(KS(arguments[e]));return t}function fF(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function hF(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function u0(t){return this instanceof u0?(this.v=t,this):new u0(t)}function dF(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(S){return Promise.resolve(S).then(b,p)}}function a(b,S){n[b]&&(i[b]=function(T){return new Promise(function(B,R){s.push([b,T,B,R])>1||c(b,T)})},S&&(i[b]=S(i[b])))}function c(b,S){try{l(n[b](S))}catch(T){v(s[0][3],T)}}function l(b){b.value instanceof u0?Promise.resolve(b.value.v).then(h,p):v(s[0][2],b)}function h(b){c("next",b)}function p(b){c("throw",b)}function v(b,S){b(S),s.shift(),s.length&&c(s[0][0],s[0][1])}}function pF(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:u0(t[i](o)),done:!1}:s?s(o):o}:s}}function gF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof iw=="function"?iw(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function mF(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var nhe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},V8=function(t){return V8=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},V8(t)};function vF(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=V8(t),n=0;n<r.length;n++)r[n]!=="default"&&s3(e,t,r[n]);return nhe(e,t),e}function yF(t){return t&&t.__esModule?t:{default:t}}function wF(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function bF(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function _F(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function EF(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var ihe=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function SF(t){function e(s){t.error=t.hasError?new ihe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function xF(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const she={__extends:ZB,__assign:nw,__rest:XB,__decorate:eF,__param:tF,__esDecorate:rF,__runInitializers:nF,__propKey:iF,__setFunctionName:sF,__metadata:oF,__awaiter:aF,__generator:cF,__createBinding:s3,__exportStar:lF,__values:iw,__read:KS,__spread:uF,__spreadArrays:fF,__spreadArray:hF,__await:u0,__asyncGenerator:dF,__asyncDelegator:pF,__asyncValues:gF,__makeTemplateObject:mF,__importStar:vF,__importDefault:yF,__classPrivateFieldGet:wF,__classPrivateFieldSet:bF,__classPrivateFieldIn:_F,__addDisposableResource:EF,__disposeResources:SF,__rewriteRelativeImportExtension:xF},ohe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:EF,get __assign(){return nw},__asyncDelegator:pF,__asyncGenerator:dF,__asyncValues:gF,__await:u0,__awaiter:aF,__classPrivateFieldGet:wF,__classPrivateFieldIn:_F,__classPrivateFieldSet:bF,__createBinding:s3,__decorate:eF,__disposeResources:SF,__esDecorate:rF,__exportStar:lF,__extends:ZB,__generator:cF,__importDefault:yF,__importStar:vF,__makeTemplateObject:mF,__metadata:oF,__param:tF,__propKey:iF,__read:KS,__rest:XB,__rewriteRelativeImportExtension:xF,__runInitializers:nF,__setFunctionName:sF,__spread:uF,__spreadArray:hF,__spreadArrays:fF,__values:iw,default:she},Symbol.toStringTag,{value:"Module"})),GS=sc(ohe);var o3={};Object.defineProperty(o3,"__esModule",{value:!0});var mR=GS,ahe=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return mR.__awaiter(this,void 0,void 0,function(){var r,n,i;return mR.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();o3.default=ahe;Object.defineProperty(VS,"__esModule",{value:!0});var vR=GS,che=o3,lhe=function(){function t(){this._semaphore=new che.default(1)}return t.prototype.acquire=function(){return vR.__awaiter(this,void 0,void 0,function(){var e,r;return vR.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();VS.default=lhe;var a3={};Object.defineProperty(a3,"__esModule",{value:!0});a3.withTimeout=void 0;var Iy=GS;function uhe(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Iy.__awaiter(n,void 0,void 0,function(){var o,a,c;return Iy.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Iy.__awaiter(this,void 0,void 0,function(){var s,o;return Iy.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}a3.withTimeout=uhe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=VS;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=o3;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=a3;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(YB);var fhe=dhe,hhe=Object.prototype.hasOwnProperty;function dhe(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)hhe.call(r,n)&&(t[n]=r[n])}return t}const phe=fhe,ghe=AS();var mhe=Mt;function Mt(t){const e=this;e.currentProvider=t}Mt.prototype.getBalance=wm(2,"eth_getBalance");Mt.prototype.getCode=wm(2,"eth_getCode");Mt.prototype.getTransactionCount=wm(2,"eth_getTransactionCount");Mt.prototype.getStorageAt=wm(3,"eth_getStorageAt");Mt.prototype.call=wm(2,"eth_call");Mt.prototype.protocolVersion=zt("eth_protocolVersion");Mt.prototype.syncing=zt("eth_syncing");Mt.prototype.coinbase=zt("eth_coinbase");Mt.prototype.mining=zt("eth_mining");Mt.prototype.hashrate=zt("eth_hashrate");Mt.prototype.gasPrice=zt("eth_gasPrice");Mt.prototype.accounts=zt("eth_accounts");Mt.prototype.blockNumber=zt("eth_blockNumber");Mt.prototype.getBlockTransactionCountByHash=zt("eth_getBlockTransactionCountByHash");Mt.prototype.getBlockTransactionCountByNumber=zt("eth_getBlockTransactionCountByNumber");Mt.prototype.getUncleCountByBlockHash=zt("eth_getUncleCountByBlockHash");Mt.prototype.getUncleCountByBlockNumber=zt("eth_getUncleCountByBlockNumber");Mt.prototype.sign=zt("eth_sign");Mt.prototype.sendTransaction=zt("eth_sendTransaction");Mt.prototype.sendRawTransaction=zt("eth_sendRawTransaction");Mt.prototype.estimateGas=zt("eth_estimateGas");Mt.prototype.getBlockByHash=zt("eth_getBlockByHash");Mt.prototype.getBlockByNumber=zt("eth_getBlockByNumber");Mt.prototype.getTransactionByHash=zt("eth_getTransactionByHash");Mt.prototype.getTransactionByBlockHashAndIndex=zt("eth_getTransactionByBlockHashAndIndex");Mt.prototype.getTransactionByBlockNumberAndIndex=zt("eth_getTransactionByBlockNumberAndIndex");Mt.prototype.getTransactionReceipt=zt("eth_getTransactionReceipt");Mt.prototype.getUncleByBlockHashAndIndex=zt("eth_getUncleByBlockHashAndIndex");Mt.prototype.getUncleByBlockNumberAndIndex=zt("eth_getUncleByBlockNumberAndIndex");Mt.prototype.getCompilers=zt("eth_getCompilers");Mt.prototype.compileLLL=zt("eth_compileLLL");Mt.prototype.compileSolidity=zt("eth_compileSolidity");Mt.prototype.compileSerpent=zt("eth_compileSerpent");Mt.prototype.newFilter=zt("eth_newFilter");Mt.prototype.newBlockFilter=zt("eth_newBlockFilter");Mt.prototype.newPendingTransactionFilter=zt("eth_newPendingTransactionFilter");Mt.prototype.uninstallFilter=zt("eth_uninstallFilter");Mt.prototype.getFilterChanges=zt("eth_getFilterChanges");Mt.prototype.getFilterLogs=zt("eth_getFilterLogs");Mt.prototype.getLogs=zt("eth_getLogs");Mt.prototype.getWork=zt("eth_getWork");Mt.prototype.submitWork=zt("eth_submitWork");Mt.prototype.submitHashrate=zt("eth_submitHashrate");Mt.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(vhe(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function zt(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function wm(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function vhe(t){return phe({id:ghe(),jsonrpc:"2.0",params:[]},t)}const yR=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,h)=>{l?a(l):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},wR=new WeakMap;var yhe=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=wR.get(o);if(c||(c={},wR.set(o,c)),a in c)return c[a];const l=S=>typeof S=="string"||typeof a=="symbol"?a===S:S.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),p=h===void 0||h.writable||h.configurable,b=(e.include?e.include.some(l):!e.exclude.some(l))&&p;return c[a]=b,b},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const h=e.excludeMain?o:yR(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const h=yR(c,e,s,o);return i.set(c,h),h}return c}});return s};const whe=fm.default;let bhe=class extends whe{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var JS=bhe;const _he=JS;let Ehe=class extends _he{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var She=Ehe,bm={minBlockRef:xhe,maxBlockRef:Ahe,sortBlockRefs:QS,bnToHex:Ihe,blockRefIsNumber:Che,hexToInt:sw,incrementHexInt:Mhe,intToHex:AF,unsafeRandomBytes:Rhe};function xhe(...t){return QS(t)[0]}function Ahe(...t){const e=QS(t);return e[e.length-1]}function QS(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:sw(e)-sw(r))}function Ihe(t){return"0x"+t.toString(16)}function Che(t){return t&&!["earliest","latest","pending"].includes(t)}function sw(t){return t==null?t:Number.parseInt(t,16)}function Mhe(t){if(t==null)return t;const e=sw(t);return AF(e+1)}function AF(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function Rhe(t){let e="0x";for(let r=0;r<t;r++)e+=bR(),e+=bR();return e}function bR(){return Math.floor(Math.random()*16).toString(16)}const Phe=mhe,khe=yhe,Ohe=She,{bnToHex:Hxe,hexToInt:Cy,incrementHexInt:The,minBlockRef:Nhe,blockRefIsNumber:$he}=bm;let Dhe=class extends Ohe{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new Phe(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Nhe(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=The(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await khe(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Cy(this.params.fromBlock)>=Cy(e.blockNumber)||$he(this.params.toBlock)&&Cy(this.params.toBlock)<=Cy(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}};var Lhe=Dhe,YS=Bhe;async function Bhe({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=_R(e),s=_R(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(Fhe);let a=await Promise.all(o.map(c=>Uhe(t,"eth_getBlockByNumber",[c,!1])));return a=a.filter(c=>c!==null),a}function _R(t){return t==null?t:Number.parseInt(t,16)}function Fhe(t){return t==null?t:"0x"+t.toString(16)}function jhe(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function Uhe(t,e,r){for(let n=0;n<3;n++)try{return await jhe(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}return null}const zhe=JS,qhe=YS,{incrementHexInt:Hhe}=bm;let Whe=class extends zhe{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Hhe(e),o=(await qhe({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var Vhe=Whe;const Khe=JS,Ghe=YS,{incrementHexInt:Jhe}=bm;let Qhe=class extends Khe{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=Jhe(e),i=await Ghe({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var Yhe=Qhe;const Zhe=YB.Mutex,{createAsyncMiddleware:Xhe,createScaffoldMiddleware:ede}=zS,tde=Lhe,rde=Vhe,nde=Yhe,{intToHex:IF,hexToInt:p5}=bm;var ide=sde;function sde({blockTracker:t,provider:e}){let r=0,n={};const i=new Zhe,s=ode({mutex:i}),o=ede({eth_newFilter:s(g5(c)),eth_newBlockFilter:s(g5(l)),eth_newPendingTransactionFilter:s(g5(h)),eth_uninstallFilter:s(d2(b)),eth_getFilterChanges:s(d2(p)),eth_getFilterLogs:s(d2(v))}),a=async({oldBlock:P,newBlock:O})=>{if(n.length===0)return;const L=await i.acquire();try{await Promise.all(Hh(n).map(async D=>{try{await D.update({oldBlock:P,newBlock:O})}catch(q){console.error(q)}}))}catch(D){console.error(D)}L()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=h,o.uninstallFilter=b,o.getFilterChanges=p,o.getFilterLogs=v,o.destroy=()=>{B()},o;async function c(P){const O=new tde({provider:e,params:P});return await S(O),O}async function l(){const P=new rde({provider:e});return await S(P),P}async function h(){const P=new nde({provider:e});return await S(P),P}async function p(P){const O=p5(P),L=n[O];if(!L)throw new Error(`No filter for index "${O}"`);return L.getChangesAndClear()}async function v(P){const O=p5(P),L=n[O];if(!L)throw new Error(`No filter for index "${O}"`);let D=[];return L.type==="log"&&(D=L.getAllResults()),D}async function b(P){const O=p5(P),D=!!n[O];return D&&await T(O),D}async function S(P){const O=Hh(n).length,L=await t.getLatestBlock();await P.initialize({currentBlock:L}),r++,n[r]=P,P.id=r,P.idHex=IF(r);const D=Hh(n).length;return R({prevFilterCount:O,newFilterCount:D}),r}async function T(P){const O=Hh(n).length;delete n[P];const L=Hh(n).length;R({prevFilterCount:O,newFilterCount:L})}async function B(){const P=Hh(n).length;n={},R({prevFilterCount:P,newFilterCount:0})}function R({prevFilterCount:P,newFilterCount:O}){if(P===0&&O>0){t.on("sync",a);return}if(P>0&&O===0){t.removeListener("sync",a);return}}}function g5(t){return d2(async(...e)=>{const r=await t(...e);return IF(r.id)})}function d2(t){return Xhe(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function ode({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Hh(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const ade=fm.default,{createAsyncMiddleware:ER,createScaffoldMiddleware:cde}=zS,lde=ide,{unsafeRandomBytes:ude,incrementHexInt:fde}=bm,hde=YS;var dde=pde;function pde({blockTracker:t,provider:e}){const r={},n=lde({blockTracker:t,provider:e});let i=!1;const s=new ade,o=cde({eth_subscribe:ER(a),eth_unsubscribe:ER(c)});return o.destroy=h,{events:s,middleware:o};async function a(p,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=p.params[0],S=ude(16);let T;switch(b){case"newHeads":T=B({subId:S});break;case"logs":const P=p.params[1],O=await n.newLogFilter(P);T=R({subId:S,filter:O});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${b}"`)}r[S]=T,v.result=S;return;function B({subId:P}){const O={type:b,destroy:async()=>{t.removeListener("sync",O.update)},update:async({oldBlock:L,newBlock:D})=>{const q=D,M=fde(L);(await hde({provider:e,fromBlock:M,toBlock:q})).map(gde).filter(oe=>oe!==null).forEach(oe=>{l(P,oe)})}};return t.on("sync",O.update),O}function R({subId:P,filter:O}){return O.on("update",D=>l(P,D)),{type:b,destroy:async()=>await n.uninstallFilter(O.idHex)}}}async function c(p,v){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const b=p.params[0],S=r[b];if(!S){v.result=!1;return}delete r[b],await S.destroy(),v.result=!0}function l(p,v){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:p,result:v}})}function h(){s.removeAllListeners();for(const p in r)r[p].destroy(),delete r[p];i=!0}}function gde(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(qb,"__esModule",{value:!0});qb.SubscriptionManager=void 0;const mde=sB,vde=dde,SR=()=>{};class yde{constructor(e){const r=new mde.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=vde({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,SR,SR),r}destroy(){this.subscriptionMiddleware.destroy()}}qb.SubscriptionManager=yde;var CF=lt&&lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n0,"__esModule",{value:!0});n0.CoinbaseWalletProvider=void 0;const wde=CF(pb),bde=Lne,tr=Qg,Ft=vt,_de=em,xR=go,My=B0,As=$0,m5=CF(Joe),Up=L0,Ede=a0,Sde=qb,AR="DefaultChainId",IR="DefaultJsonRpcUrl";class xde extends bde.EventEmitter{constructor(e){var r,n;super(),this._filterPolyfill=new Ede.FilterPolyfill(this),this._subscriptionManager=new Sde.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,Ft.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(xR.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,Ft.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"&&a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(l))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,Ft.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(IR))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(IR,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(AR,r.toString(10)),((0,Ft.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){const c=await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise;return(0,As.isErrorResponse)(c)?!1:!!c.result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,Ft.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),h=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await l.requestEthereumAccounts().promise;const p=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return(0,As.isErrorResponse)(p)?!1:(((a=p.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=p.result)===null||c===void 0?void 0:c.isApproved)===!0)}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,As.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===tr.standardErrorCodes.provider.unsupportedChain?tr.standardErrors.provider.unsupportedChain():tr.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Up.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?My.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,tr.serializeError)(i,e)})}catch(n){throw(0,tr.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,tr.serializeError)(n,e)})}catch(n){return Promise.reject((0,tr.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,tr.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,tr.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw tr.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw tr.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw tr.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,Ft.ensureRegExpString)(e)).promise;if((0,As.isErrorResponse)(n))throw(0,tr.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,tr.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if((0,As.isErrorResponse)(i))throw(0,tr.serializeError)(i.errorMessage,"generic");if(typeof i.result!="string")throw(0,tr.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(e){var r;(r=this.diagnostic)===null||r===void 0||r.log(Up.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?My.Session.hash(this._relay.session.id):void 0});let n;try{const s=await this.initializeRelay();if(!(s instanceof _de.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await s.connectAndSignIn(e).promise,(0,As.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied account authorization"):s}if(!n.result)throw new Error("accounts received is empty");const{accounts:i}=n.result;return this._setAddresses(i),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if((0,As.isErrorResponse)(n))throw(0,tr.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,tr.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,Ft.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(xR.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch(s=>{var o;throw(s.code===tr.standardErrorCodes.rpc.methodNotFound||s.code===tr.standardErrorCodes.rpc.methodNotSupported)&&((o=this.diagnostic)===null||o===void 0||o.log(Up.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?My.Session.hash(this._relay.session.id):void 0})),s})}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,Ft.ensureAddressString)(e);return this._addresses.map(i=>(0,Ft.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Up.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,Ft.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,Ft.ensureAddressString)(e.to):null,i=e.value!=null?(0,Ft.ensureBN)(e.value):new wde.default(0),s=e.data?(0,Ft.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,Ft.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,Ft.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,Ft.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,Ft.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,Ft.ensureBN)(e.gas):null,p=e.chainId?(0,Ft.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:h,chainId:p}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw tr.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw tr.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{const o=await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise;if((0,As.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise;if((0,As.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,Ft.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(AR);if(!e)return(0,Ft.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,Ft.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Up.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?My.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,As.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,Ft.ensureAddressString)(e[0]),n=(0,Ft.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,Ft.ensureBuffer)(e[0]),n=(0,Ft.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,Ft.ensureBuffer)(e[0]),n=(0,Ft.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,Ft.ensureBuffer)(e[0]),n=(0,Ft.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,As.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,Ft.ensureBuffer)(e[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,As.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,As.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?tr.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,Ft.ensureParsedJSONObject)(e[0]),n=(0,Ft.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=m5.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,Ft.ensureAddressString)(e[0]),n=(0,Ft.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=m5.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,Ft.ensureAddressString)(e[0]),n=(0,Ft.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=m5.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw tr.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw tr.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw tr.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw tr.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw tr.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw tr.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,Ft.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,Ft.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,Ft.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}n0.CoinbaseWalletProvider=xde;var c3={};Object.defineProperty(c3,"__esModule",{value:!0});c3.RelayEventManager=void 0;const Ade=vt;class Ide{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,Ade.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}c3.RelayEventManager=Ide;Object.defineProperty(mg,"__esModule",{value:!0});mg.CoinbaseWalletSDK=void 0;const Cde=hb,Mde=db,CR=vt,Rde=wb,Pde=n0,kde=em,Ode=lm,Tde=c3,Nde=om,$de=tm,MF=D0;class l3{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||Mde.LINK_API_URL;typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const o=new URL(s),a=`${o.protocol}//${o.host}`;if(this._storage=new Rde.ScopedLocalStorage(`-walletlink:${a}`),this._storage.setItem("version",l3.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new Tde.RelayEventManager;const c=(0,CR.isMobileWeb)(),l=e.uiConstructor||(p=>c?new Ode.MobileRelayUI(p):new Nde.WalletLinkRelayUI(p)),h={linkAPIUrl:s,version:MF.LIB_VERSION,darkMode:!!e.darkMode,headlessMode:!!e.headlessMode,uiConstructor:l,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:e.enableMobileWalletLink};this._relay=c?new kde.MobileRelay(h):new $de.WalletLinkRelay(h),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI()}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new Pde.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,CR.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,Cde.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}mg.CoinbaseWalletSDK=l3;l3.VERSION=MF.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=mg,r=n0;var n=mg;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=n0;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(YD);const Dde=_u(YD),Lde=Object.freeze(Object.defineProperty({__proto__:null,default:Dde},Symbol.toStringTag,{value:"Module"}));var MR=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},Bde=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Fde=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),jde=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),Ude=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),zde=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),qde=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Hde=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,RR=3,Wde=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",qde]],PR=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Vde(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new zde:typeof navigator<"u"?Gde(navigator.userAgent):Qde()}function Kde(t){return t!==""&&Wde.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function Gde(t){var e=Kde(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Ude;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<RR&&(i=MR(MR([],i,!0),Yde(RR-i.length),!0)):i=[];var s=i.join("."),o=Jde(t),a=Hde.exec(t);return a&&a[1]?new jde(r,s,o,a[1]):new Bde(r,s,o)}function Jde(t){for(var e=0,r=PR.length;e<r;e++){var n=PR[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function Qde(){var t=typeof process<"u"&&process.version;return t?new Fde(process.version.slice(1)):null}function Yde(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var He={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K8=function(t,e){return K8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},K8(t,e)};function Zde(t,e){K8(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var G8=function(){return G8=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},G8.apply(this,arguments)};function Xde(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function e0e(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function t0e(t,e){return function(r,n){e(r,n,t)}}function r0e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function n0e(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(p){o(p)}}function c(h){try{l(n.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function i0e(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return c([l,h])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function s0e(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function o0e(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function J8(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function RF(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function a0e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(RF(arguments[e]));return t}function c0e(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function bg(t){return this instanceof bg?(this.v=t,this):new bg(t)}function l0e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(v){n[v]&&(i[v]=function(b){return new Promise(function(S,T){s.push([v,b,S,T])>1||a(v,b)})})}function a(v,b){try{c(n[v](b))}catch(S){p(s[0][3],S)}}function c(v){v.value instanceof bg?Promise.resolve(v.value.v).then(l,h):p(s[0][2],v)}function l(v){a("next",v)}function h(v){a("throw",v)}function p(v,b){v(b),s.shift(),s.length&&a(s[0][0],s[0][1])}}function u0e(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:bg(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function f0e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof J8=="function"?J8(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function h0e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function d0e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function p0e(t){return t&&t.__esModule?t:{default:t}}function g0e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function m0e(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const v0e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return G8},__asyncDelegator:u0e,__asyncGenerator:l0e,__asyncValues:f0e,__await:bg,__awaiter:n0e,__classPrivateFieldGet:g0e,__classPrivateFieldSet:m0e,__createBinding:s0e,__decorate:e0e,__exportStar:o0e,__extends:Zde,__generator:i0e,__importDefault:p0e,__importStar:d0e,__makeTemplateObject:h0e,__metadata:r0e,__param:t0e,__read:RF,__rest:Xde,__spread:a0e,__spreadArrays:c0e,__values:J8},Symbol.toStringTag,{value:"Module"})),u3=sc(v0e);var v5={},zp={},kR;function y0e(){if(kR)return zp;kR=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return zp.delay=t,zp}var Qu={},y5={},Yu={},OR;function w0e(){return OR||(OR=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.ONE_THOUSAND=Yu.ONE_HUNDRED=void 0,Yu.ONE_HUNDRED=100,Yu.ONE_THOUSAND=1e3),Yu}var w5={},TR;function b0e(){return TR||(TR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(w5)),w5}var NR;function PF(){return NR||(NR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=u3;e.__exportStar(w0e(),t),e.__exportStar(b0e(),t)}(y5)),y5}var $R;function _0e(){if($R)return Qu;$R=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.fromMiliseconds=Qu.toMiliseconds=void 0;const t=PF();function e(n){return n*t.ONE_THOUSAND}Qu.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Qu.fromMiliseconds=r,Qu}var DR;function E0e(){return DR||(DR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=u3;e.__exportStar(y0e(),t),e.__exportStar(_0e(),t)}(v5)),v5}var Wh={},LR;function S0e(){if(LR)return Wh;LR=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Wh.Watch=t,Wh.default=t,Wh}var b5={},qp={},BR;function x0e(){if(BR)return qp;BR=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.IWatch=void 0;class t{}return qp.IWatch=t,qp}var FR;function A0e(){return FR||(FR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),u3.__exportStar(x0e(),t)}(b5)),b5}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=u3;e.__exportStar(E0e(),t),e.__exportStar(S0e(),t),e.__exportStar(A0e(),t),e.__exportStar(PF(),t)})(He);var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getLocalStorage=Ar.getLocalStorageOrThrow=Ar.getCrypto=Ar.getCryptoOrThrow=kF=Ar.getLocation=Ar.getLocationOrThrow=ZS=Ar.getNavigator=Ar.getNavigatorOrThrow=f3=Ar.getDocument=Ar.getDocumentOrThrow=Ar.getFromWindowOrThrow=Ar.getFromWindow=void 0;function lh(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Ar.getFromWindow=lh;function H0(t){const e=lh(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Ar.getFromWindowOrThrow=H0;function I0e(){return H0("document")}Ar.getDocumentOrThrow=I0e;function C0e(){return lh("document")}var f3=Ar.getDocument=C0e;function M0e(){return H0("navigator")}Ar.getNavigatorOrThrow=M0e;function R0e(){return lh("navigator")}var ZS=Ar.getNavigator=R0e;function P0e(){return H0("location")}Ar.getLocationOrThrow=P0e;function k0e(){return lh("location")}var kF=Ar.getLocation=k0e;function O0e(){return H0("crypto")}Ar.getCryptoOrThrow=O0e;function T0e(){return lh("crypto")}Ar.getCrypto=T0e;function N0e(){return H0("localStorage")}Ar.getLocalStorageOrThrow=N0e;function $0e(){return lh("localStorage")}Ar.getLocalStorage=$0e;var XS={};Object.defineProperty(XS,"__esModule",{value:!0});var OF=XS.getWindowMetadata=void 0;const jR=Ar;function D0e(){let t,e;try{t=jR.getDocumentOrThrow(),e=jR.getLocationOrThrow()}catch{return null}function r(){const p=t.getElementsByTagName("link"),v=[];for(let b=0;b<p.length;b++){const S=p[b],T=S.getAttribute("rel");if(T&&T.toLowerCase().indexOf("icon")>-1){const B=S.getAttribute("href");if(B)if(B.toLowerCase().indexOf("https:")===-1&&B.toLowerCase().indexOf("http:")===-1&&B.indexOf("//")!==0){let R=e.protocol+"//"+e.host;if(B.indexOf("/")===0)R+=B;else{const P=e.pathname.split("/");P.pop();const O=P.join("/");R+=O+"/"+B}v.push(R)}else if(B.indexOf("//")===0){const R=e.protocol+B;v.push(R)}else v.push(B)}}return v}function n(...p){const v=t.getElementsByTagName("meta");for(let b=0;b<v.length;b++){const S=v[b],T=["itemprop","property","name"].map(B=>S.getAttribute(B)).filter(B=>B?p.includes(B):!1);if(T.length&&T){const B=S.getAttribute("content");if(B)return B}}return""}function i(){let p=n("name","og:site_name","og:title","twitter:title");return p||(p=t.title),p}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}OF=XS.getWindowMetadata=D0e;var _g={},L0e=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),TF="%[a-f0-9]{2}",UR=new RegExp("("+TF+")|([^%]+?)","gi"),zR=new RegExp("("+TF+")+","gi");function Q8(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Q8(r),Q8(n))}function B0e(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(UR)||[],r=1;r<e.length;r++)t=Q8(e,r).join(""),e=t.match(UR)||[];return t}}function F0e(t){for(var e={"%FE%FF":"","%FF%FE":""},r=zR.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=B0e(r[0]);n!==r[0]&&(e[r[0]]=n)}r=zR.exec(t)}e["%C2"]="";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var j0e=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return F0e(t)}},U0e=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},z0e=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r};(function(t){const e=L0e,r=j0e,n=U0e,i=z0e,s=P=>P==null,o=Symbol("encodeFragmentIdentifier");function a(P){switch(P.arrayFormat){case"index":return O=>(L,D)=>{const q=L.length;return D===void 0||P.skipNull&&D===null||P.skipEmptyString&&D===""?L:D===null?[...L,[h(O,P),"[",q,"]"].join("")]:[...L,[h(O,P),"[",h(q,P),"]=",h(D,P)].join("")]};case"bracket":return O=>(L,D)=>D===void 0||P.skipNull&&D===null||P.skipEmptyString&&D===""?L:D===null?[...L,[h(O,P),"[]"].join("")]:[...L,[h(O,P),"[]=",h(D,P)].join("")];case"colon-list-separator":return O=>(L,D)=>D===void 0||P.skipNull&&D===null||P.skipEmptyString&&D===""?L:D===null?[...L,[h(O,P),":list="].join("")]:[...L,[h(O,P),":list=",h(D,P)].join("")];case"comma":case"separator":case"bracket-separator":{const O=P.arrayFormat==="bracket-separator"?"[]=":"=";return L=>(D,q)=>q===void 0||P.skipNull&&q===null||P.skipEmptyString&&q===""?D:(q=q===null?"":q,D.length===0?[[h(L,P),O,h(q,P)].join("")]:[[D,h(q,P)].join(P.arrayFormatSeparator)])}default:return O=>(L,D)=>D===void 0||P.skipNull&&D===null||P.skipEmptyString&&D===""?L:D===null?[...L,h(O,P)]:[...L,[h(O,P),"=",h(D,P)].join("")]}}function c(P){let O;switch(P.arrayFormat){case"index":return(L,D,q)=>{if(O=/\[(\d*)\]$/.exec(L),L=L.replace(/\[\d*\]$/,""),!O){q[L]=D;return}q[L]===void 0&&(q[L]={}),q[L][O[1]]=D};case"bracket":return(L,D,q)=>{if(O=/(\[\])$/.exec(L),L=L.replace(/\[\]$/,""),!O){q[L]=D;return}if(q[L]===void 0){q[L]=[D];return}q[L]=[].concat(q[L],D)};case"colon-list-separator":return(L,D,q)=>{if(O=/(:list)$/.exec(L),L=L.replace(/:list$/,""),!O){q[L]=D;return}if(q[L]===void 0){q[L]=[D];return}q[L]=[].concat(q[L],D)};case"comma":case"separator":return(L,D,q)=>{const M=typeof D=="string"&&D.includes(P.arrayFormatSeparator),H=typeof D=="string"&&!M&&p(D,P).includes(P.arrayFormatSeparator);D=H?p(D,P):D;const te=M||H?D.split(P.arrayFormatSeparator).map(oe=>p(oe,P)):D===null?D:p(D,P);q[L]=te};case"bracket-separator":return(L,D,q)=>{const M=/(\[\])$/.test(L);if(L=L.replace(/\[\]$/,""),!M){q[L]=D&&p(D,P);return}const H=D===null?[]:D.split(P.arrayFormatSeparator).map(te=>p(te,P));if(q[L]===void 0){q[L]=H;return}q[L]=[].concat(q[L],H)};default:return(L,D,q)=>{if(q[L]===void 0){q[L]=D;return}q[L]=[].concat(q[L],D)}}}function l(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(P,O){return O.encode?O.strict?e(P):encodeURIComponent(P):P}function p(P,O){return O.decode?r(P):P}function v(P){return Array.isArray(P)?P.sort():typeof P=="object"?v(Object.keys(P)).sort((O,L)=>Number(O)-Number(L)).map(O=>P[O]):P}function b(P){const O=P.indexOf("#");return O!==-1&&(P=P.slice(0,O)),P}function S(P){let O="";const L=P.indexOf("#");return L!==-1&&(O=P.slice(L)),O}function T(P){P=b(P);const O=P.indexOf("?");return O===-1?"":P.slice(O+1)}function B(P,O){return O.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):O.parseBooleans&&P!==null&&(P.toLowerCase()==="true"||P.toLowerCase()==="false")&&(P=P.toLowerCase()==="true"),P}function R(P,O){O=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},O),l(O.arrayFormatSeparator);const L=c(O),D=Object.create(null);if(typeof P!="string"||(P=P.trim().replace(/^[?#&]/,""),!P))return D;for(const q of P.split("&")){if(q==="")continue;let[M,H]=n(O.decode?q.replace(/\+/g," "):q,"=");H=H===void 0?null:["comma","separator","bracket-separator"].includes(O.arrayFormat)?H:p(H,O),L(p(M,O),H,D)}for(const q of Object.keys(D)){const M=D[q];if(typeof M=="object"&&M!==null)for(const H of Object.keys(M))M[H]=B(M[H],O);else D[q]=B(M,O)}return O.sort===!1?D:(O.sort===!0?Object.keys(D).sort():Object.keys(D).sort(O.sort)).reduce((q,M)=>{const H=D[M];return H&&typeof H=="object"&&!Array.isArray(H)?q[M]=v(H):q[M]=H,q},Object.create(null))}t.extract=T,t.parse=R,t.stringify=(P,O)=>{if(!P)return"";O=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},O),l(O.arrayFormatSeparator);const L=H=>O.skipNull&&s(P[H])||O.skipEmptyString&&P[H]==="",D=a(O),q={};for(const H of Object.keys(P))L(H)||(q[H]=P[H]);const M=Object.keys(q);return O.sort!==!1&&M.sort(O.sort),M.map(H=>{const te=P[H];return te===void 0?"":te===null?h(H,O):Array.isArray(te)?te.length===0&&O.arrayFormat==="bracket-separator"?h(H,O)+"[]":te.reduce(D(H),[]).join("&"):h(H,O)+"="+h(te,O)}).filter(H=>H.length>0).join("&")},t.parseUrl=(P,O)=>{O=Object.assign({decode:!0},O);const[L,D]=n(P,"#");return Object.assign({url:L.split("?")[0]||"",query:R(T(P),O)},O&&O.parseFragmentIdentifier&&D?{fragmentIdentifier:p(D,O)}:{})},t.stringifyUrl=(P,O)=>{O=Object.assign({encode:!0,strict:!0,[o]:!0},O);const L=b(P.url).split("?")[0]||"",D=t.extract(P.url),q=t.parse(D,{sort:!1}),M=Object.assign(q,P.query);let H=t.stringify(M,O);H&&(H=`?${H}`);let te=S(P.url);return P.fragmentIdentifier&&(te=`#${O[o]?h(P.fragmentIdentifier,O):P.fragmentIdentifier}`),`${L}${H}${te}`},t.pick=(P,O,L)=>{L=Object.assign({parseFragmentIdentifier:!0,[o]:!1},L);const{url:D,query:q,fragmentIdentifier:M}=t.parseUrl(P,L);return t.stringifyUrl({url:D,query:i(q,O),fragmentIdentifier:M},L)},t.exclude=(P,O,L)=>{const D=Array.isArray(O)?q=>!O.includes(q):(q,M)=>!O(q,M);return t.pick(P,D,L)}})(_g);var e9={},h3={},Nt={},NF={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,h=a&65535,p=c>>>16&65535,v=c&65535;return h*v+(l*v+h*p<<16>>>0)|0}t.mul=Math.imul||e;function r(a,c){return a+c|0}t.add=r;function n(a,c){return a-c|0}t.sub=n;function i(a,c){return a<<c|a>>>32-c}t.rotl=i;function s(a,c){return a<<32-c|a>>>c}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(NF);Object.defineProperty(Nt,"__esModule",{value:!0});var $F=NF;function q0e(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Nt.readInt16BE=q0e;function H0e(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Nt.readUint16BE=H0e;function W0e(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Nt.readInt16LE=W0e;function V0e(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Nt.readUint16LE=V0e;function DF(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Nt.writeUint16BE=DF;Nt.writeInt16BE=DF;function LF(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Nt.writeUint16LE=LF;Nt.writeInt16LE=LF;function Y8(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Nt.readInt32BE=Y8;function Z8(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Nt.readUint32BE=Z8;function X8(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Nt.readInt32LE=X8;function eE(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Nt.readUint32LE=eE;function ow(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Nt.writeUint32BE=ow;Nt.writeInt32BE=ow;function aw(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Nt.writeUint32LE=aw;Nt.writeInt32LE=aw;function K0e(t,e){e===void 0&&(e=0);var r=Y8(t,e),n=Y8(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Nt.readInt64BE=K0e;function G0e(t,e){e===void 0&&(e=0);var r=Z8(t,e),n=Z8(t,e+4);return r*4294967296+n}Nt.readUint64BE=G0e;function J0e(t,e){e===void 0&&(e=0);var r=X8(t,e),n=X8(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Nt.readInt64LE=J0e;function Q0e(t,e){e===void 0&&(e=0);var r=eE(t,e),n=eE(t,e+4);return n*4294967296+r}Nt.readUint64LE=Q0e;function BF(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),ow(t/4294967296>>>0,e,r),ow(t>>>0,e,r+4),e}Nt.writeUint64BE=BF;Nt.writeInt64BE=BF;function FF(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),aw(t>>>0,e,r),aw(t/4294967296>>>0,e,r+4),e}Nt.writeUint64LE=FF;Nt.writeInt64LE=FF;function Y0e(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Nt.readUintBE=Y0e;function Z0e(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Nt.readUintLE=Z0e;function X0e(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!$F.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Nt.writeUintBE=X0e;function epe(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!$F.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Nt.writeUintLE=epe;function tpe(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Nt.readFloat32BE=tpe;function rpe(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Nt.readFloat32LE=rpe;function npe(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Nt.readFloat64BE=npe;function ipe(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Nt.readFloat64LE=ipe;function spe(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Nt.writeFloat32BE=spe;function ope(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Nt.writeFloat32LE=ope;function ape(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Nt.writeFloat64BE=ape;function cpe(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Nt.writeFloat64LE=cpe;var js={};Object.defineProperty(js,"__esModule",{value:!0});function lpe(t){for(var e=0;e<t.length;e++)t[e]=0;return t}js.wipe=lpe;Object.defineProperty(h3,"__esModule",{value:!0});var vi=Nt,tE=js,upe=20;function fpe(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],p=r[19]<<24|r[18]<<16|r[17]<<8|r[16],v=r[23]<<24|r[22]<<16|r[21]<<8|r[20],b=r[27]<<24|r[26]<<16|r[25]<<8|r[24],S=r[31]<<24|r[30]<<16|r[29]<<8|r[28],T=e[3]<<24|e[2]<<16|e[1]<<8|e[0],B=e[7]<<24|e[6]<<16|e[5]<<8|e[4],R=e[11]<<24|e[10]<<16|e[9]<<8|e[8],P=e[15]<<24|e[14]<<16|e[13]<<8|e[12],O=n,L=i,D=s,q=o,M=a,H=c,te=l,oe=h,K=p,k=v,g=b,f=S,m=T,_=B,I=R,C=P,A=0;A<upe;A+=2)O=O+M|0,m^=O,m=m>>>16|m<<16,K=K+m|0,M^=K,M=M>>>20|M<<12,L=L+H|0,_^=L,_=_>>>16|_<<16,k=k+_|0,H^=k,H=H>>>20|H<<12,D=D+te|0,I^=D,I=I>>>16|I<<16,g=g+I|0,te^=g,te=te>>>20|te<<12,q=q+oe|0,C^=q,C=C>>>16|C<<16,f=f+C|0,oe^=f,oe=oe>>>20|oe<<12,D=D+te|0,I^=D,I=I>>>24|I<<8,g=g+I|0,te^=g,te=te>>>25|te<<7,q=q+oe|0,C^=q,C=C>>>24|C<<8,f=f+C|0,oe^=f,oe=oe>>>25|oe<<7,L=L+H|0,_^=L,_=_>>>24|_<<8,k=k+_|0,H^=k,H=H>>>25|H<<7,O=O+M|0,m^=O,m=m>>>24|m<<8,K=K+m|0,M^=K,M=M>>>25|M<<7,O=O+H|0,C^=O,C=C>>>16|C<<16,g=g+C|0,H^=g,H=H>>>20|H<<12,L=L+te|0,m^=L,m=m>>>16|m<<16,f=f+m|0,te^=f,te=te>>>20|te<<12,D=D+oe|0,_^=D,_=_>>>16|_<<16,K=K+_|0,oe^=K,oe=oe>>>20|oe<<12,q=q+M|0,I^=q,I=I>>>16|I<<16,k=k+I|0,M^=k,M=M>>>20|M<<12,D=D+oe|0,_^=D,_=_>>>24|_<<8,K=K+_|0,oe^=K,oe=oe>>>25|oe<<7,q=q+M|0,I^=q,I=I>>>24|I<<8,k=k+I|0,M^=k,M=M>>>25|M<<7,L=L+te|0,m^=L,m=m>>>24|m<<8,f=f+m|0,te^=f,te=te>>>25|te<<7,O=O+H|0,C^=O,C=C>>>24|C<<8,g=g+C|0,H^=g,H=H>>>25|H<<7;vi.writeUint32LE(O+n|0,t,0),vi.writeUint32LE(L+i|0,t,4),vi.writeUint32LE(D+s|0,t,8),vi.writeUint32LE(q+o|0,t,12),vi.writeUint32LE(M+a|0,t,16),vi.writeUint32LE(H+c|0,t,20),vi.writeUint32LE(te+l|0,t,24),vi.writeUint32LE(oe+h|0,t,28),vi.writeUint32LE(K+p|0,t,32),vi.writeUint32LE(k+v|0,t,36),vi.writeUint32LE(g+b|0,t,40),vi.writeUint32LE(f+S|0,t,44),vi.writeUint32LE(m+T|0,t,48),vi.writeUint32LE(_+B|0,t,52),vi.writeUint32LE(I+R|0,t,56),vi.writeUint32LE(C+P|0,t,60)}function jF(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){fpe(a,s,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^a[l-c];dpe(s,0,o)}return tE.wipe(a),i===0&&tE.wipe(s),n}h3.streamXOR=jF;function hpe(t,e,r,n){return n===void 0&&(n=0),tE.wipe(r),jF(t,e,r,r,n)}h3.stream=hpe;function dpe(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var UF={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});function ppe(t,e,r){return~(t-1)&e|t-1&r}Cu.select=ppe;function gpe(t,e){return(t|0)-(e|0)-1>>>31&1}Cu.lessOrEqual=gpe;function zF(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Cu.compare=zF;function mpe(t,e){return t.length===0||e.length===0?!1:zF(t,e)!==0}Cu.equal=mpe;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Cu,r=js;t.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var h=a[4]|a[5]<<8;this._r[2]=(l>>>10|h<<6)&7939;var p=a[6]|a[7]<<8;this._r[3]=(h>>>7|p<<9)&8191;var v=a[8]|a[9]<<8;this._r[4]=(p>>>4|v<<12)&255,this._r[5]=v>>>1&8190;var b=a[10]|a[11]<<8;this._r[6]=(v>>>14|b<<2)&8191;var S=a[12]|a[13]<<8;this._r[7]=(b>>>11|S<<5)&8065;var T=a[14]|a[15]<<8;this._r[8]=(S>>>8|T<<8)&8191,this._r[9]=T>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var h=this._fin?0:2048,p=this._h[0],v=this._h[1],b=this._h[2],S=this._h[3],T=this._h[4],B=this._h[5],R=this._h[6],P=this._h[7],O=this._h[8],L=this._h[9],D=this._r[0],q=this._r[1],M=this._r[2],H=this._r[3],te=this._r[4],oe=this._r[5],K=this._r[6],k=this._r[7],g=this._r[8],f=this._r[9];l>=16;){var m=a[c+0]|a[c+1]<<8;p+=m&8191;var _=a[c+2]|a[c+3]<<8;v+=(m>>>13|_<<3)&8191;var I=a[c+4]|a[c+5]<<8;b+=(_>>>10|I<<6)&8191;var C=a[c+6]|a[c+7]<<8;S+=(I>>>7|C<<9)&8191;var A=a[c+8]|a[c+9]<<8;T+=(C>>>4|A<<12)&8191,B+=A>>>1&8191;var w=a[c+10]|a[c+11]<<8;R+=(A>>>14|w<<2)&8191;var y=a[c+12]|a[c+13]<<8;P+=(w>>>11|y<<5)&8191;var E=a[c+14]|a[c+15]<<8;O+=(y>>>8|E<<8)&8191,L+=E>>>5|h;var V=0,ce=V;ce+=p*D,ce+=v*(5*f),ce+=b*(5*g),ce+=S*(5*k),ce+=T*(5*K),V=ce>>>13,ce&=8191,ce+=B*(5*oe),ce+=R*(5*te),ce+=P*(5*H),ce+=O*(5*M),ce+=L*(5*q),V+=ce>>>13,ce&=8191;var U=V;U+=p*q,U+=v*D,U+=b*(5*f),U+=S*(5*g),U+=T*(5*k),V=U>>>13,U&=8191,U+=B*(5*K),U+=R*(5*oe),U+=P*(5*te),U+=O*(5*H),U+=L*(5*M),V+=U>>>13,U&=8191;var Z=V;Z+=p*M,Z+=v*q,Z+=b*D,Z+=S*(5*f),Z+=T*(5*g),V=Z>>>13,Z&=8191,Z+=B*(5*k),Z+=R*(5*K),Z+=P*(5*oe),Z+=O*(5*te),Z+=L*(5*H),V+=Z>>>13,Z&=8191;var W=V;W+=p*H,W+=v*M,W+=b*q,W+=S*D,W+=T*(5*f),V=W>>>13,W&=8191,W+=B*(5*g),W+=R*(5*k),W+=P*(5*K),W+=O*(5*oe),W+=L*(5*te),V+=W>>>13,W&=8191;var Y=V;Y+=p*te,Y+=v*H,Y+=b*M,Y+=S*q,Y+=T*D,V=Y>>>13,Y&=8191,Y+=B*(5*f),Y+=R*(5*g),Y+=P*(5*k),Y+=O*(5*K),Y+=L*(5*oe),V+=Y>>>13,Y&=8191;var ee=V;ee+=p*oe,ee+=v*te,ee+=b*H,ee+=S*M,ee+=T*q,V=ee>>>13,ee&=8191,ee+=B*D,ee+=R*(5*f),ee+=P*(5*g),ee+=O*(5*k),ee+=L*(5*K),V+=ee>>>13,ee&=8191;var $=V;$+=p*K,$+=v*oe,$+=b*te,$+=S*H,$+=T*M,V=$>>>13,$&=8191,$+=B*q,$+=R*D,$+=P*(5*f),$+=O*(5*g),$+=L*(5*k),V+=$>>>13,$&=8191;var z=V;z+=p*k,z+=v*K,z+=b*oe,z+=S*te,z+=T*H,V=z>>>13,z&=8191,z+=B*M,z+=R*q,z+=P*D,z+=O*(5*f),z+=L*(5*g),V+=z>>>13,z&=8191;var J=V;J+=p*g,J+=v*k,J+=b*K,J+=S*oe,J+=T*te,V=J>>>13,J&=8191,J+=B*H,J+=R*M,J+=P*q,J+=O*D,J+=L*(5*f),V+=J>>>13,J&=8191;var ae=V;ae+=p*f,ae+=v*g,ae+=b*k,ae+=S*K,ae+=T*oe,V=ae>>>13,ae&=8191,ae+=B*te,ae+=R*H,ae+=P*M,ae+=O*q,ae+=L*D,V+=ae>>>13,ae&=8191,V=(V<<2)+V|0,V=V+ce|0,ce=V&8191,V=V>>>13,U+=V,p=ce,v=U,b=Z,S=W,T=Y,B=ee,R=$,P=z,O=J,L=ae,c+=16,l-=16}this._h[0]=p,this._h[1]=v,this._h[2]=b,this._h[3]=S,this._h[4]=T,this._h[5]=B,this._h[6]=R,this._h[7]=P,this._h[8]=O,this._h[9]=L},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),h,p,v,b;if(this._leftover){for(b=this._leftover,this._buffer[b++]=1;b<16;b++)this._buffer[b]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(h=this._h[1]>>>13,this._h[1]&=8191,b=2;b<10;b++)this._h[b]+=h,h=this._h[b]>>>13,this._h[b]&=8191;for(this._h[0]+=h*5,h=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=h,h=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=h,l[0]=this._h[0]+5,h=l[0]>>>13,l[0]&=8191,b=1;b<10;b++)l[b]=this._h[b]+h,h=l[b]>>>13,l[b]&=8191;for(l[9]-=8192,p=(h^1)-1,b=0;b<10;b++)l[b]&=p;for(p=~p,b=0;b<10;b++)this._h[b]=this._h[b]&p|l[b];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,v=this._h[0]+this._pad[0],this._h[0]=v&65535,b=1;b<8;b++)v=(this._h[b]+this._pad[b]|0)+(v>>>16)|0,this._h[b]=v&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,h;if(this._leftover){h=16-this._leftover,h>l&&(h=l);for(var p=0;p<h;p++)this._buffer[this._leftover+p]=a[c+p];if(l-=h,c+=h,this._leftover+=h,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(h=l-l%16,this._blocks(a,c,h),c+=h,l-=h),l){for(var p=0;p<l;p++)this._buffer[this._leftover+p]=a[c+p];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s})(UF);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=h3,r=UF,n=js,i=Nt,s=Cu;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,h,p,v){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var b=new Uint8Array(16);b.set(l,b.length-l.length);var S=new Uint8Array(32);e.stream(this._key,b,S,4);var T=h.length+this.tagLength,B;if(v){if(v.length!==T)throw new Error("ChaCha20Poly1305: incorrect destination length");B=v}else B=new Uint8Array(T);return e.streamXOR(this._key,b,h,B,4),this._authenticate(B.subarray(B.length-this.tagLength,B.length),S,B.subarray(0,B.length-this.tagLength),p),n.wipe(b),B},c.prototype.open=function(l,h,p,v){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(h.length<this.tagLength)return null;var b=new Uint8Array(16);b.set(l,b.length-l.length);var S=new Uint8Array(32);e.stream(this._key,b,S,4);var T=new Uint8Array(this.tagLength);if(this._authenticate(T,S,h.subarray(0,h.length-this.tagLength),p),!s.equal(T,h.subarray(h.length-this.tagLength,h.length)))return null;var B=h.length-this.tagLength,R;if(v){if(v.length!==B)throw new Error("ChaCha20Poly1305: incorrect destination length");R=v}else R=new Uint8Array(B);return e.streamXOR(this._key,b,h.subarray(0,h.length-this.tagLength),R,4),n.wipe(b),R},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,h,p,v){var b=new r.Poly1305(h);v&&(b.update(v),v.length%16>0&&b.update(o.subarray(v.length%16))),b.update(p),p.length%16>0&&b.update(o.subarray(p.length%16));var S=new Uint8Array(8);v&&i.writeUint64LE(v.length,S),b.update(S),i.writeUint64LE(p.length,S),b.update(S);for(var T=b.digest(),B=0;B<T.length;B++)l[B]=T[B];b.clean(),n.wipe(T),n.wipe(S)},c}();t.ChaCha20Poly1305=a})(e9);var qF={},_m={},t9={};Object.defineProperty(t9,"__esModule",{value:!0});function vpe(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}t9.isSerializableHash=vpe;Object.defineProperty(_m,"__esModule",{value:!0});var va=t9,ype=Cu,wpe=js,HF=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),va.isSerializableHash(this._inner)&&va.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wpe.wipe(n)}return t.prototype.reset=function(){if(!va.isSerializableHash(this._inner)||!va.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){va.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),va.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!va.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!va.isSerializableHash(this._inner)||!va.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!va.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();_m.HMAC=HF;function bpe(t,e,r){var n=new HF(t,e);n.update(r);var i=n.digest();return n.clean(),i}_m.hmac=bpe;_m.equal=ype.equal;Object.defineProperty(qF,"__esModule",{value:!0});var qR=_m,HR=js,_pe=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=qR.hmac(this._hash,n,r);this._hmac=new qR.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),HR.wipe(this._buffer),HR.wipe(this._counter),this._bufpos=0},t}(),Epe=qF.HKDF=_pe,Mu={},d3={},p3={};Object.defineProperty(p3,"__esModule",{value:!0});p3.BrowserRandomSource=void 0;const WR=65536;class Spe{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=WR)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,WR)));return r}}p3.BrowserRandomSource=Spe;function xpe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var g3={};Object.defineProperty(g3,"__esModule",{value:!0});g3.NodeRandomSource=void 0;const Ape=js;class Ipe{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof xpe<"u"){const e=N0;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,Ape.wipe)(r),n}}g3.NodeRandomSource=Ipe;Object.defineProperty(d3,"__esModule",{value:!0});d3.SystemRandomSource=void 0;const Cpe=p3,Mpe=g3;class Rpe{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Cpe.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Mpe.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}d3.SystemRandomSource=Rpe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=d3,r=Nt,n=js;t.defaultRandomSource=new e.SystemRandomSource;function i(l,h=t.defaultRandomSource){return h.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const h=i(4,l),p=(0,r.readUint32LE)(h);return(0,n.wipe)(h),p}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,h=o,p=t.defaultRandomSource){if(h.length<2)throw new Error("randomString charset is too short");if(h.length>256)throw new Error("randomString charset is too long");let v="";const b=h.length,S=256-256%b;for(;l>0;){const T=i(Math.ceil(l*256/S),p);for(let B=0;B<T.length&&l>0;B++){const R=T[B];R<S&&(v+=h.charAt(R%b),l--)}(0,n.wipe)(T)}return v}t.randomString=a;function c(l,h=o,p=t.defaultRandomSource){const v=Math.ceil(l/(Math.log(h.length)/Math.LN2));return a(v,h,p)}t.randomStringForEntropy=c})(Mu);var Em={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Nt,r=js;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var h=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[h++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(h=s(this._temp,this._state,c,h,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[h++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,h=this._bufferLength,p=l/536870912|0,v=l<<3,b=l%64<56?64:128;this._buffer[h]=128;for(var S=h+1;S<b-8;S++)this._buffer[S]=0;e.writeUint32BE(p,this._buffer,b-8),e.writeUint32BE(v,this._buffer,b-4),s(this._temp,this._state,this._buffer,0,b),this._finished=!0}for(var S=0;S<this.digestLength/4;S++)e.writeUint32BE(this._state[S],c,S*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,l,h,p){for(;p>=64;){for(var v=c[0],b=c[1],S=c[2],T=c[3],B=c[4],R=c[5],P=c[6],O=c[7],L=0;L<16;L++){var D=h+L*4;a[L]=e.readUint32BE(l,D)}for(var L=16;L<64;L++){var q=a[L-2],M=(q>>>17|q<<15)^(q>>>19|q<<13)^q>>>10;q=a[L-15];var H=(q>>>7|q<<25)^(q>>>18|q<<14)^q>>>3;a[L]=(M+a[L-7]|0)+(H+a[L-16]|0)}for(var L=0;L<64;L++){var M=(((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))+(B&R^~B&P)|0)+(O+(i[L]+a[L]|0)|0)|0,H=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&b^v&S^b&S)|0;O=P,P=R,R=B,B=T+M|0,T=S,S=b,b=v,v=M+H|0}c[0]+=v,c[1]+=b,c[2]+=S,c[3]+=T,c[4]+=B,c[5]+=R,c[6]+=P,c[7]+=O,h+=64,p-=64}return h}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(Em);var r9={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=Mu,r=js;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(L){const D=new Float64Array(16);if(L)for(let q=0;q<L.length;q++)D[q]=L[q];return D}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(L){let D=1;for(let q=0;q<16;q++){let M=L[q]+D+65535;D=Math.floor(M/65536),L[q]=M-D*65536}L[0]+=D-1+37*(D-1)}function a(L,D,q){const M=~(q-1);for(let H=0;H<16;H++){const te=M&(L[H]^D[H]);L[H]^=te,D[H]^=te}}function c(L,D){const q=n(),M=n();for(let H=0;H<16;H++)M[H]=D[H];o(M),o(M),o(M);for(let H=0;H<2;H++){q[0]=M[0]-65517;for(let oe=1;oe<15;oe++)q[oe]=M[oe]-65535-(q[oe-1]>>16&1),q[oe-1]&=65535;q[15]=M[15]-32767-(q[14]>>16&1);const te=q[15]>>16&1;q[14]&=65535,a(M,q,1-te)}for(let H=0;H<16;H++)L[2*H]=M[H]&255,L[2*H+1]=M[H]>>8}function l(L,D){for(let q=0;q<16;q++)L[q]=D[2*q]+(D[2*q+1]<<8);L[15]&=32767}function h(L,D,q){for(let M=0;M<16;M++)L[M]=D[M]+q[M]}function p(L,D,q){for(let M=0;M<16;M++)L[M]=D[M]-q[M]}function v(L,D,q){let M,H,te=0,oe=0,K=0,k=0,g=0,f=0,m=0,_=0,I=0,C=0,A=0,w=0,y=0,E=0,V=0,ce=0,U=0,Z=0,W=0,Y=0,ee=0,$=0,z=0,J=0,ae=0,fe=0,ye=0,be=0,Ee=0,je=0,Ue=0,Ne=q[0],Pe=q[1],Me=q[2],ke=q[3],$e=q[4],Ce=q[5],Oe=q[6],G=q[7],N=q[8],F=q[9],X=q[10],ie=q[11],ue=q[12],de=q[13],_e=q[14],Ie=q[15];M=D[0],te+=M*Ne,oe+=M*Pe,K+=M*Me,k+=M*ke,g+=M*$e,f+=M*Ce,m+=M*Oe,_+=M*G,I+=M*N,C+=M*F,A+=M*X,w+=M*ie,y+=M*ue,E+=M*de,V+=M*_e,ce+=M*Ie,M=D[1],oe+=M*Ne,K+=M*Pe,k+=M*Me,g+=M*ke,f+=M*$e,m+=M*Ce,_+=M*Oe,I+=M*G,C+=M*N,A+=M*F,w+=M*X,y+=M*ie,E+=M*ue,V+=M*de,ce+=M*_e,U+=M*Ie,M=D[2],K+=M*Ne,k+=M*Pe,g+=M*Me,f+=M*ke,m+=M*$e,_+=M*Ce,I+=M*Oe,C+=M*G,A+=M*N,w+=M*F,y+=M*X,E+=M*ie,V+=M*ue,ce+=M*de,U+=M*_e,Z+=M*Ie,M=D[3],k+=M*Ne,g+=M*Pe,f+=M*Me,m+=M*ke,_+=M*$e,I+=M*Ce,C+=M*Oe,A+=M*G,w+=M*N,y+=M*F,E+=M*X,V+=M*ie,ce+=M*ue,U+=M*de,Z+=M*_e,W+=M*Ie,M=D[4],g+=M*Ne,f+=M*Pe,m+=M*Me,_+=M*ke,I+=M*$e,C+=M*Ce,A+=M*Oe,w+=M*G,y+=M*N,E+=M*F,V+=M*X,ce+=M*ie,U+=M*ue,Z+=M*de,W+=M*_e,Y+=M*Ie,M=D[5],f+=M*Ne,m+=M*Pe,_+=M*Me,I+=M*ke,C+=M*$e,A+=M*Ce,w+=M*Oe,y+=M*G,E+=M*N,V+=M*F,ce+=M*X,U+=M*ie,Z+=M*ue,W+=M*de,Y+=M*_e,ee+=M*Ie,M=D[6],m+=M*Ne,_+=M*Pe,I+=M*Me,C+=M*ke,A+=M*$e,w+=M*Ce,y+=M*Oe,E+=M*G,V+=M*N,ce+=M*F,U+=M*X,Z+=M*ie,W+=M*ue,Y+=M*de,ee+=M*_e,$+=M*Ie,M=D[7],_+=M*Ne,I+=M*Pe,C+=M*Me,A+=M*ke,w+=M*$e,y+=M*Ce,E+=M*Oe,V+=M*G,ce+=M*N,U+=M*F,Z+=M*X,W+=M*ie,Y+=M*ue,ee+=M*de,$+=M*_e,z+=M*Ie,M=D[8],I+=M*Ne,C+=M*Pe,A+=M*Me,w+=M*ke,y+=M*$e,E+=M*Ce,V+=M*Oe,ce+=M*G,U+=M*N,Z+=M*F,W+=M*X,Y+=M*ie,ee+=M*ue,$+=M*de,z+=M*_e,J+=M*Ie,M=D[9],C+=M*Ne,A+=M*Pe,w+=M*Me,y+=M*ke,E+=M*$e,V+=M*Ce,ce+=M*Oe,U+=M*G,Z+=M*N,W+=M*F,Y+=M*X,ee+=M*ie,$+=M*ue,z+=M*de,J+=M*_e,ae+=M*Ie,M=D[10],A+=M*Ne,w+=M*Pe,y+=M*Me,E+=M*ke,V+=M*$e,ce+=M*Ce,U+=M*Oe,Z+=M*G,W+=M*N,Y+=M*F,ee+=M*X,$+=M*ie,z+=M*ue,J+=M*de,ae+=M*_e,fe+=M*Ie,M=D[11],w+=M*Ne,y+=M*Pe,E+=M*Me,V+=M*ke,ce+=M*$e,U+=M*Ce,Z+=M*Oe,W+=M*G,Y+=M*N,ee+=M*F,$+=M*X,z+=M*ie,J+=M*ue,ae+=M*de,fe+=M*_e,ye+=M*Ie,M=D[12],y+=M*Ne,E+=M*Pe,V+=M*Me,ce+=M*ke,U+=M*$e,Z+=M*Ce,W+=M*Oe,Y+=M*G,ee+=M*N,$+=M*F,z+=M*X,J+=M*ie,ae+=M*ue,fe+=M*de,ye+=M*_e,be+=M*Ie,M=D[13],E+=M*Ne,V+=M*Pe,ce+=M*Me,U+=M*ke,Z+=M*$e,W+=M*Ce,Y+=M*Oe,ee+=M*G,$+=M*N,z+=M*F,J+=M*X,ae+=M*ie,fe+=M*ue,ye+=M*de,be+=M*_e,Ee+=M*Ie,M=D[14],V+=M*Ne,ce+=M*Pe,U+=M*Me,Z+=M*ke,W+=M*$e,Y+=M*Ce,ee+=M*Oe,$+=M*G,z+=M*N,J+=M*F,ae+=M*X,fe+=M*ie,ye+=M*ue,be+=M*de,Ee+=M*_e,je+=M*Ie,M=D[15],ce+=M*Ne,U+=M*Pe,Z+=M*Me,W+=M*ke,Y+=M*$e,ee+=M*Ce,$+=M*Oe,z+=M*G,J+=M*N,ae+=M*F,fe+=M*X,ye+=M*ie,be+=M*ue,Ee+=M*de,je+=M*_e,Ue+=M*Ie,te+=38*U,oe+=38*Z,K+=38*W,k+=38*Y,g+=38*ee,f+=38*$,m+=38*z,_+=38*J,I+=38*ae,C+=38*fe,A+=38*ye,w+=38*be,y+=38*Ee,E+=38*je,V+=38*Ue,H=1,M=te+H+65535,H=Math.floor(M/65536),te=M-H*65536,M=oe+H+65535,H=Math.floor(M/65536),oe=M-H*65536,M=K+H+65535,H=Math.floor(M/65536),K=M-H*65536,M=k+H+65535,H=Math.floor(M/65536),k=M-H*65536,M=g+H+65535,H=Math.floor(M/65536),g=M-H*65536,M=f+H+65535,H=Math.floor(M/65536),f=M-H*65536,M=m+H+65535,H=Math.floor(M/65536),m=M-H*65536,M=_+H+65535,H=Math.floor(M/65536),_=M-H*65536,M=I+H+65535,H=Math.floor(M/65536),I=M-H*65536,M=C+H+65535,H=Math.floor(M/65536),C=M-H*65536,M=A+H+65535,H=Math.floor(M/65536),A=M-H*65536,M=w+H+65535,H=Math.floor(M/65536),w=M-H*65536,M=y+H+65535,H=Math.floor(M/65536),y=M-H*65536,M=E+H+65535,H=Math.floor(M/65536),E=M-H*65536,M=V+H+65535,H=Math.floor(M/65536),V=M-H*65536,M=ce+H+65535,H=Math.floor(M/65536),ce=M-H*65536,te+=H-1+37*(H-1),H=1,M=te+H+65535,H=Math.floor(M/65536),te=M-H*65536,M=oe+H+65535,H=Math.floor(M/65536),oe=M-H*65536,M=K+H+65535,H=Math.floor(M/65536),K=M-H*65536,M=k+H+65535,H=Math.floor(M/65536),k=M-H*65536,M=g+H+65535,H=Math.floor(M/65536),g=M-H*65536,M=f+H+65535,H=Math.floor(M/65536),f=M-H*65536,M=m+H+65535,H=Math.floor(M/65536),m=M-H*65536,M=_+H+65535,H=Math.floor(M/65536),_=M-H*65536,M=I+H+65535,H=Math.floor(M/65536),I=M-H*65536,M=C+H+65535,H=Math.floor(M/65536),C=M-H*65536,M=A+H+65535,H=Math.floor(M/65536),A=M-H*65536,M=w+H+65535,H=Math.floor(M/65536),w=M-H*65536,M=y+H+65535,H=Math.floor(M/65536),y=M-H*65536,M=E+H+65535,H=Math.floor(M/65536),E=M-H*65536,M=V+H+65535,H=Math.floor(M/65536),V=M-H*65536,M=ce+H+65535,H=Math.floor(M/65536),ce=M-H*65536,te+=H-1+37*(H-1),L[0]=te,L[1]=oe,L[2]=K,L[3]=k,L[4]=g,L[5]=f,L[6]=m,L[7]=_,L[8]=I,L[9]=C,L[10]=A,L[11]=w,L[12]=y,L[13]=E,L[14]=V,L[15]=ce}function b(L,D){v(L,D,D)}function S(L,D){const q=n();for(let M=0;M<16;M++)q[M]=D[M];for(let M=253;M>=0;M--)b(q,q),M!==2&&M!==4&&v(q,q,D);for(let M=0;M<16;M++)L[M]=q[M]}function T(L,D){const q=new Uint8Array(32),M=new Float64Array(80),H=n(),te=n(),oe=n(),K=n(),k=n(),g=n();for(let I=0;I<31;I++)q[I]=L[I];q[31]=L[31]&127|64,q[0]&=248,l(M,D);for(let I=0;I<16;I++)te[I]=M[I];H[0]=K[0]=1;for(let I=254;I>=0;--I){const C=q[I>>>3]>>>(I&7)&1;a(H,te,C),a(oe,K,C),h(k,H,oe),p(H,H,oe),h(oe,te,K),p(te,te,K),b(K,k),b(g,H),v(H,oe,H),v(oe,te,k),h(k,H,oe),p(H,H,oe),b(te,H),p(oe,K,g),v(H,oe,s),h(H,H,K),v(oe,oe,H),v(H,K,g),v(K,te,M),b(te,k),a(H,te,C),a(oe,K,C)}for(let I=0;I<16;I++)M[I+16]=H[I],M[I+32]=oe[I],M[I+48]=te[I],M[I+64]=K[I];const f=M.subarray(32),m=M.subarray(16);S(f,f),v(m,m,f);const _=new Uint8Array(32);return c(_,m),_}t.scalarMult=T;function B(L){return T(L,i)}t.scalarMultBase=B;function R(L){if(L.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const D=new Uint8Array(L);return{publicKey:B(D),secretKey:D}}t.generateKeyPairFromSeed=R;function P(L){const D=(0,e.randomBytes)(32,L),q=R(D);return(0,r.wipe)(D),q}t.generateKeyPair=P;function O(L,D,q=!1){if(L.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(D.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const M=T(L,D);if(q){let H=0;for(let te=0;te<M.length;te++)H|=M[te];if(H===0)throw new Error("X25519: invalid shared key")}return M}t.sharedKey=O})(r9);function WF(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function p2(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=WF(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Ppe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function p(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var T=0,B=0,R=0,P=S.length;R!==P&&S[R]===0;)R++,T++;for(var O=(P-R)*h+1>>>0,L=new Uint8Array(O);R!==P;){for(var D=S[R],q=0,M=O-1;(D!==0||q<B)&&M!==-1;M--,q++)D+=256*L[M]>>>0,L[M]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");B=q,R++}for(var H=O-B;H!==O&&L[H]===0;)H++;for(var te=c.repeat(T);H<O;++H)te+=t.charAt(L[H]);return te}function v(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var T=0;if(S[T]!==" "){for(var B=0,R=0;S[T]===c;)B++,T++;for(var P=(S.length-T)*l+1>>>0,O=new Uint8Array(P);S[T];){var L=r[S.charCodeAt(T)];if(L===255)return;for(var D=0,q=P-1;(L!==0||D<R)&&q!==-1;q--,D++)L+=a*O[q]>>>0,O[q]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");R=D,T++}if(S[T]!==" "){for(var M=P-R;M!==P&&O[M]===0;)M++;for(var H=new Uint8Array(B+(P-M)),te=B;M!==P;)H[te++]=O[M++];return H}}}function b(S){var T=v(S);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:v,decode:b}}var kpe=Ppe,Ope=kpe;const Tpe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Npe=t=>new TextEncoder().encode(t),$pe=t=>new TextDecoder().decode(t);class Dpe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Lpe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return VF(this,e)}}class Bpe{constructor(e){this.decoders=e}or(e){return VF(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const VF=(t,e)=>new Bpe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Fpe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Dpe(e,r,n),this.decoder=new Lpe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const m3=({name:t,prefix:e,encode:r,decode:n})=>new Fpe(t,e,r,n),Sm=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Ope(r,e);return m3({prefix:t,name:e,encode:n,decode:s=>Tpe(i(s))})},jpe=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|p,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Upe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},li=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>m3({prefix:e,name:t,encode(i){return Upe(i,n,r)},decode(i){return jpe(i,n,r,t)}}),zpe=m3({prefix:"\0",name:"identity",encode:t=>$pe(t),decode:t=>Npe(t)}),qpe=Object.freeze(Object.defineProperty({__proto__:null,identity:zpe},Symbol.toStringTag,{value:"Module"})),Hpe=li({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Wpe=Object.freeze(Object.defineProperty({__proto__:null,base2:Hpe},Symbol.toStringTag,{value:"Module"})),Vpe=li({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Kpe=Object.freeze(Object.defineProperty({__proto__:null,base8:Vpe},Symbol.toStringTag,{value:"Module"})),Gpe=Sm({prefix:"9",name:"base10",alphabet:"0123456789"}),Jpe=Object.freeze(Object.defineProperty({__proto__:null,base10:Gpe},Symbol.toStringTag,{value:"Module"})),Qpe=li({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ype=li({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Zpe=Object.freeze(Object.defineProperty({__proto__:null,base16:Qpe,base16upper:Ype},Symbol.toStringTag,{value:"Module"})),Xpe=li({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),e1e=li({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),t1e=li({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),r1e=li({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),n1e=li({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),i1e=li({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),s1e=li({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),o1e=li({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),a1e=li({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),c1e=Object.freeze(Object.defineProperty({__proto__:null,base32:Xpe,base32hex:n1e,base32hexpad:s1e,base32hexpadupper:o1e,base32hexupper:i1e,base32pad:t1e,base32padupper:r1e,base32upper:e1e,base32z:a1e},Symbol.toStringTag,{value:"Module"})),l1e=Sm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),u1e=Sm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),f1e=Object.freeze(Object.defineProperty({__proto__:null,base36:l1e,base36upper:u1e},Symbol.toStringTag,{value:"Module"})),h1e=Sm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),d1e=Sm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),p1e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:h1e,base58flickr:d1e},Symbol.toStringTag,{value:"Module"})),g1e=li({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),m1e=li({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),v1e=li({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),y1e=li({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),w1e=Object.freeze(Object.defineProperty({__proto__:null,base64:g1e,base64pad:m1e,base64url:v1e,base64urlpad:y1e},Symbol.toStringTag,{value:"Module"})),KF=Array.from(""),b1e=KF.reduce((t,e,r)=>(t[r]=e,t),[]),_1e=KF.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function E1e(t){return t.reduce((e,r)=>(e+=b1e[r],e),"")}function S1e(t){const e=[];for(const r of t){const n=_1e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const x1e=m3({prefix:"",name:"base256emoji",encode:E1e,decode:S1e}),A1e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:x1e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const VR={...qpe,...Wpe,...Kpe,...Jpe,...Zpe,...c1e,...f1e,...p1e,...w1e,...A1e};function GF(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const KR=GF("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),_5=GF("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=WF(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),JF={utf8:KR,"utf-8":KR,hex:VR.base16,latin1:_5,ascii:_5,binary:_5,...VR};function Wn(t,e="utf8"){const r=JF[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Kn(t,e="utf8"){const r=JF[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var QF={};const I1e="elliptic",C1e="6.6.1",M1e="EC cryptography",R1e="lib/elliptic.js",P1e=["lib"],k1e={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},O1e={type:"git",url:"git@github.com:indutny/elliptic"},T1e=["EC","Elliptic","curve","Cryptography"],N1e="Fedor Indutny <fedor@indutny.com>",$1e="MIT",D1e={url:"https://github.com/indutny/elliptic/issues"},L1e="https://github.com/indutny/elliptic",B1e={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},F1e={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},j1e={name:I1e,version:C1e,description:M1e,main:R1e,files:P1e,scripts:k1e,repository:O1e,keywords:T1e,author:N1e,license:$1e,bugs:D1e,homepage:L1e,devDependencies:B1e,dependencies:F1e};var Us={},n9={exports:{}};n9.exports;(function(t){(function(e,r){function n(K,k){if(!K)throw new Error(k||"Assertion failed")}function i(K,k){K.super_=k;var g=function(){};g.prototype=k.prototype,K.prototype=new g,K.prototype.constructor=K}function s(K,k,g){if(s.isBN(K))return K;this.negative=0,this.words=null,this.length=0,this.red=null,K!==null&&((k==="le"||k==="be")&&(g=k,k=10),this._init(K||0,k||10,g||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=N0.Buffer}catch{}s.isBN=function(k){return k instanceof s?!0:k!==null&&typeof k=="object"&&k.constructor.wordSize===s.wordSize&&Array.isArray(k.words)},s.max=function(k,g){return k.cmp(g)>0?k:g},s.min=function(k,g){return k.cmp(g)<0?k:g},s.prototype._init=function(k,g,f){if(typeof k=="number")return this._initNumber(k,g,f);if(typeof k=="object")return this._initArray(k,g,f);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),k=k.toString().replace(/\s+/g,"");var m=0;k[0]==="-"&&(m++,this.negative=1),m<k.length&&(g===16?this._parseHex(k,m,f):(this._parseBase(k,g,m),f==="le"&&this._initArray(this.toArray(),g,f)))},s.prototype._initNumber=function(k,g,f){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[k&67108863],this.length=1):k<4503599627370496?(this.words=[k&67108863,k/67108864&67108863],this.length=2):(n(k<9007199254740992),this.words=[k&67108863,k/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),g,f)},s.prototype._initArray=function(k,g,f){if(n(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var _,I,C=0;if(f==="be")for(m=k.length-1,_=0;m>=0;m-=3)I=k[m]|k[m-1]<<8|k[m-2]<<16,this.words[_]|=I<<C&67108863,this.words[_+1]=I>>>26-C&67108863,C+=24,C>=26&&(C-=26,_++);else if(f==="le")for(m=0,_=0;m<k.length;m+=3)I=k[m]|k[m+1]<<8|k[m+2]<<16,this.words[_]|=I<<C&67108863,this.words[_+1]=I>>>26-C&67108863,C+=24,C>=26&&(C-=26,_++);return this.strip()};function a(K,k){var g=K.charCodeAt(k);return g>=65&&g<=70?g-55:g>=97&&g<=102?g-87:g-48&15}function c(K,k,g){var f=a(K,g);return g-1>=k&&(f|=a(K,g-1)<<4),f}s.prototype._parseHex=function(k,g,f){this.length=Math.ceil((k.length-g)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var _=0,I=0,C;if(f==="be")for(m=k.length-1;m>=g;m-=2)C=c(k,g,m)<<_,this.words[I]|=C&67108863,_>=18?(_-=18,I+=1,this.words[I]|=C>>>26):_+=8;else{var A=k.length-g;for(m=A%2===0?g+1:g;m<k.length;m+=2)C=c(k,g,m)<<_,this.words[I]|=C&67108863,_>=18?(_-=18,I+=1,this.words[I]|=C>>>26):_+=8}this.strip()};function l(K,k,g,f){for(var m=0,_=Math.min(K.length,g),I=k;I<_;I++){var C=K.charCodeAt(I)-48;m*=f,C>=49?m+=C-49+10:C>=17?m+=C-17+10:m+=C}return m}s.prototype._parseBase=function(k,g,f){this.words=[0],this.length=1;for(var m=0,_=1;_<=67108863;_*=g)m++;m--,_=_/g|0;for(var I=k.length-f,C=I%m,A=Math.min(I,I-C)+f,w=0,y=f;y<A;y+=m)w=l(k,y,y+m,g),this.imuln(_),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(C!==0){var E=1;for(w=l(k,y,k.length,g),y=0;y<C;y++)E*=g;this.imuln(E),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this.strip()},s.prototype.copy=function(k){k.words=new Array(this.length);for(var g=0;g<this.length;g++)k.words[g]=this.words[g];k.length=this.length,k.negative=this.negative,k.red=this.red},s.prototype.clone=function(){var k=new s(null);return this.copy(k),k},s.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(k,g){k=k||10,g=g|0||1;var f;if(k===16||k==="hex"){f="";for(var m=0,_=0,I=0;I<this.length;I++){var C=this.words[I],A=((C<<m|_)&16777215).toString(16);_=C>>>24-m&16777215,m+=2,m>=26&&(m-=26,I--),_!==0||I!==this.length-1?f=h[6-A.length]+A+f:f=A+f}for(_!==0&&(f=_.toString(16)+f);f.length%g!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(k===(k|0)&&k>=2&&k<=36){var w=p[k],y=v[k];f="";var E=this.clone();for(E.negative=0;!E.isZero();){var V=E.modn(y).toString(k);E=E.idivn(y),E.isZero()?f=V+f:f=h[w-V.length]+V+f}for(this.isZero()&&(f="0"+f);f.length%g!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=this.words[1]*67108864:this.length===3&&this.words[2]===1?k+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(k,g){return n(typeof o<"u"),this.toArrayLike(o,k,g)},s.prototype.toArray=function(k,g){return this.toArrayLike(Array,k,g)},s.prototype.toArrayLike=function(k,g,f){var m=this.byteLength(),_=f||Math.max(1,m);n(m<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0"),this.strip();var I=g==="le",C=new k(_),A,w,y=this.clone();if(I){for(w=0;!y.isZero();w++)A=y.andln(255),y.iushrn(8),C[w]=A;for(;w<_;w++)C[w]=0}else{for(w=0;w<_-m;w++)C[w]=0;for(w=0;!y.isZero();w++)A=y.andln(255),y.iushrn(8),C[_-w-1]=A}return C},Math.clz32?s.prototype._countBits=function(k){return 32-Math.clz32(k)}:s.prototype._countBits=function(k){var g=k,f=0;return g>=4096&&(f+=13,g>>>=13),g>=64&&(f+=7,g>>>=7),g>=8&&(f+=4,g>>>=4),g>=2&&(f+=2,g>>>=2),f+g},s.prototype._zeroBits=function(k){if(k===0)return 26;var g=k,f=0;return g&8191||(f+=13,g>>>=13),g&127||(f+=7,g>>>=7),g&15||(f+=4,g>>>=4),g&3||(f+=2,g>>>=2),g&1||f++,f},s.prototype.bitLength=function(){var k=this.words[this.length-1],g=this._countBits(k);return(this.length-1)*26+g};function b(K){for(var k=new Array(K.bitLength()),g=0;g<k.length;g++){var f=g/26|0,m=g%26;k[g]=(K.words[f]&1<<m)>>>m}return k}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,g=0;g<this.length;g++){var f=this._zeroBits(this.words[g]);if(k+=f,f!==26)break}return k},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},s.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var g=0;g<k.length;g++)this.words[g]=this.words[g]|k.words[g];return this.strip()},s.prototype.ior=function(k){return n((this.negative|k.negative)===0),this.iuor(k)},s.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},s.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},s.prototype.iuand=function(k){var g;this.length>k.length?g=k:g=this;for(var f=0;f<g.length;f++)this.words[f]=this.words[f]&k.words[f];return this.length=g.length,this.strip()},s.prototype.iand=function(k){return n((this.negative|k.negative)===0),this.iuand(k)},s.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},s.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},s.prototype.iuxor=function(k){var g,f;this.length>k.length?(g=this,f=k):(g=k,f=this);for(var m=0;m<f.length;m++)this.words[m]=g.words[m]^f.words[m];if(this!==g)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=g.length,this.strip()},s.prototype.ixor=function(k){return n((this.negative|k.negative)===0),this.iuxor(k)},s.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},s.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},s.prototype.inotn=function(k){n(typeof k=="number"&&k>=0);var g=Math.ceil(k/26)|0,f=k%26;this._expand(g),f>0&&g--;for(var m=0;m<g;m++)this.words[m]=~this.words[m]&67108863;return f>0&&(this.words[m]=~this.words[m]&67108863>>26-f),this.strip()},s.prototype.notn=function(k){return this.clone().inotn(k)},s.prototype.setn=function(k,g){n(typeof k=="number"&&k>=0);var f=k/26|0,m=k%26;return this._expand(f+1),g?this.words[f]=this.words[f]|1<<m:this.words[f]=this.words[f]&~(1<<m),this.strip()},s.prototype.iadd=function(k){var g;if(this.negative!==0&&k.negative===0)return this.negative=0,g=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,g=this.isub(k),k.negative=1,g._normSign();var f,m;this.length>k.length?(f=this,m=k):(f=k,m=this);for(var _=0,I=0;I<m.length;I++)g=(f.words[I]|0)+(m.words[I]|0)+_,this.words[I]=g&67108863,_=g>>>26;for(;_!==0&&I<f.length;I++)g=(f.words[I]|0)+_,this.words[I]=g&67108863,_=g>>>26;if(this.length=f.length,_!==0)this.words[this.length]=_,this.length++;else if(f!==this)for(;I<f.length;I++)this.words[I]=f.words[I];return this},s.prototype.add=function(k){var g;return k.negative!==0&&this.negative===0?(k.negative=0,g=this.sub(k),k.negative^=1,g):k.negative===0&&this.negative!==0?(this.negative=0,g=k.sub(this),this.negative=1,g):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},s.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var g=this.iadd(k);return k.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var f=this.cmp(k);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,_;f>0?(m=this,_=k):(m=k,_=this);for(var I=0,C=0;C<_.length;C++)g=(m.words[C]|0)-(_.words[C]|0)+I,I=g>>26,this.words[C]=g&67108863;for(;I!==0&&C<m.length;C++)g=(m.words[C]|0)+I,I=g>>26,this.words[C]=g&67108863;if(I===0&&C<m.length&&m!==this)for(;C<m.length;C++)this.words[C]=m.words[C];return this.length=Math.max(this.length,C),m!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(k){return this.clone().isub(k)};function S(K,k,g){g.negative=k.negative^K.negative;var f=K.length+k.length|0;g.length=f,f=f-1|0;var m=K.words[0]|0,_=k.words[0]|0,I=m*_,C=I&67108863,A=I/67108864|0;g.words[0]=C;for(var w=1;w<f;w++){for(var y=A>>>26,E=A&67108863,V=Math.min(w,k.length-1),ce=Math.max(0,w-K.length+1);ce<=V;ce++){var U=w-ce|0;m=K.words[U]|0,_=k.words[ce]|0,I=m*_+E,y+=I/67108864|0,E=I&67108863}g.words[w]=E|0,A=y|0}return A!==0?g.words[w]=A|0:g.length--,g.strip()}var T=function(k,g,f){var m=k.words,_=g.words,I=f.words,C=0,A,w,y,E=m[0]|0,V=E&8191,ce=E>>>13,U=m[1]|0,Z=U&8191,W=U>>>13,Y=m[2]|0,ee=Y&8191,$=Y>>>13,z=m[3]|0,J=z&8191,ae=z>>>13,fe=m[4]|0,ye=fe&8191,be=fe>>>13,Ee=m[5]|0,je=Ee&8191,Ue=Ee>>>13,Ne=m[6]|0,Pe=Ne&8191,Me=Ne>>>13,ke=m[7]|0,$e=ke&8191,Ce=ke>>>13,Oe=m[8]|0,G=Oe&8191,N=Oe>>>13,F=m[9]|0,X=F&8191,ie=F>>>13,ue=_[0]|0,de=ue&8191,_e=ue>>>13,Ie=_[1]|0,De=Ie&8191,Fe=Ie>>>13,Be=_[2]|0,ct=Be&8191,gt=Be>>>13,mt=_[3]|0,yt=mt&8191,Je=mt>>>13,We=_[4]|0,Qe=We&8191,Ye=We>>>13,Ke=_[5]|0,Ve=Ke&8191,nt=Ke>>>13,it=_[6]|0,Ze=it&8191,st=it>>>13,Xe=_[7]|0,tt=Xe&8191,et=Xe>>>13,qe=_[8]|0,ot=qe&8191,at=qe>>>13,bt=_[9]|0,_t=bt&8191,Et=bt>>>13;f.negative=k.negative^g.negative,f.length=19,A=Math.imul(V,de),w=Math.imul(V,_e),w=w+Math.imul(ce,de)|0,y=Math.imul(ce,_e);var ft=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(ft>>>26)|0,ft&=67108863,A=Math.imul(Z,de),w=Math.imul(Z,_e),w=w+Math.imul(W,de)|0,y=Math.imul(W,_e),A=A+Math.imul(V,De)|0,w=w+Math.imul(V,Fe)|0,w=w+Math.imul(ce,De)|0,y=y+Math.imul(ce,Fe)|0;var $t=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+($t>>>26)|0,$t&=67108863,A=Math.imul(ee,de),w=Math.imul(ee,_e),w=w+Math.imul($,de)|0,y=Math.imul($,_e),A=A+Math.imul(Z,De)|0,w=w+Math.imul(Z,Fe)|0,w=w+Math.imul(W,De)|0,y=y+Math.imul(W,Fe)|0,A=A+Math.imul(V,ct)|0,w=w+Math.imul(V,gt)|0,w=w+Math.imul(ce,ct)|0,y=y+Math.imul(ce,gt)|0;var $r=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+($r>>>26)|0,$r&=67108863,A=Math.imul(J,de),w=Math.imul(J,_e),w=w+Math.imul(ae,de)|0,y=Math.imul(ae,_e),A=A+Math.imul(ee,De)|0,w=w+Math.imul(ee,Fe)|0,w=w+Math.imul($,De)|0,y=y+Math.imul($,Fe)|0,A=A+Math.imul(Z,ct)|0,w=w+Math.imul(Z,gt)|0,w=w+Math.imul(W,ct)|0,y=y+Math.imul(W,gt)|0,A=A+Math.imul(V,yt)|0,w=w+Math.imul(V,Je)|0,w=w+Math.imul(ce,yt)|0,y=y+Math.imul(ce,Je)|0;var Dr=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,A=Math.imul(ye,de),w=Math.imul(ye,_e),w=w+Math.imul(be,de)|0,y=Math.imul(be,_e),A=A+Math.imul(J,De)|0,w=w+Math.imul(J,Fe)|0,w=w+Math.imul(ae,De)|0,y=y+Math.imul(ae,Fe)|0,A=A+Math.imul(ee,ct)|0,w=w+Math.imul(ee,gt)|0,w=w+Math.imul($,ct)|0,y=y+Math.imul($,gt)|0,A=A+Math.imul(Z,yt)|0,w=w+Math.imul(Z,Je)|0,w=w+Math.imul(W,yt)|0,y=y+Math.imul(W,Je)|0,A=A+Math.imul(V,Qe)|0,w=w+Math.imul(V,Ye)|0,w=w+Math.imul(ce,Qe)|0,y=y+Math.imul(ce,Ye)|0;var Lr=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,A=Math.imul(je,de),w=Math.imul(je,_e),w=w+Math.imul(Ue,de)|0,y=Math.imul(Ue,_e),A=A+Math.imul(ye,De)|0,w=w+Math.imul(ye,Fe)|0,w=w+Math.imul(be,De)|0,y=y+Math.imul(be,Fe)|0,A=A+Math.imul(J,ct)|0,w=w+Math.imul(J,gt)|0,w=w+Math.imul(ae,ct)|0,y=y+Math.imul(ae,gt)|0,A=A+Math.imul(ee,yt)|0,w=w+Math.imul(ee,Je)|0,w=w+Math.imul($,yt)|0,y=y+Math.imul($,Je)|0,A=A+Math.imul(Z,Qe)|0,w=w+Math.imul(Z,Ye)|0,w=w+Math.imul(W,Qe)|0,y=y+Math.imul(W,Ye)|0,A=A+Math.imul(V,Ve)|0,w=w+Math.imul(V,nt)|0,w=w+Math.imul(ce,Ve)|0,y=y+Math.imul(ce,nt)|0;var Br=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(Br>>>26)|0,Br&=67108863,A=Math.imul(Pe,de),w=Math.imul(Pe,_e),w=w+Math.imul(Me,de)|0,y=Math.imul(Me,_e),A=A+Math.imul(je,De)|0,w=w+Math.imul(je,Fe)|0,w=w+Math.imul(Ue,De)|0,y=y+Math.imul(Ue,Fe)|0,A=A+Math.imul(ye,ct)|0,w=w+Math.imul(ye,gt)|0,w=w+Math.imul(be,ct)|0,y=y+Math.imul(be,gt)|0,A=A+Math.imul(J,yt)|0,w=w+Math.imul(J,Je)|0,w=w+Math.imul(ae,yt)|0,y=y+Math.imul(ae,Je)|0,A=A+Math.imul(ee,Qe)|0,w=w+Math.imul(ee,Ye)|0,w=w+Math.imul($,Qe)|0,y=y+Math.imul($,Ye)|0,A=A+Math.imul(Z,Ve)|0,w=w+Math.imul(Z,nt)|0,w=w+Math.imul(W,Ve)|0,y=y+Math.imul(W,nt)|0,A=A+Math.imul(V,Ze)|0,w=w+Math.imul(V,st)|0,w=w+Math.imul(ce,Ze)|0,y=y+Math.imul(ce,st)|0;var cr=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(cr>>>26)|0,cr&=67108863,A=Math.imul($e,de),w=Math.imul($e,_e),w=w+Math.imul(Ce,de)|0,y=Math.imul(Ce,_e),A=A+Math.imul(Pe,De)|0,w=w+Math.imul(Pe,Fe)|0,w=w+Math.imul(Me,De)|0,y=y+Math.imul(Me,Fe)|0,A=A+Math.imul(je,ct)|0,w=w+Math.imul(je,gt)|0,w=w+Math.imul(Ue,ct)|0,y=y+Math.imul(Ue,gt)|0,A=A+Math.imul(ye,yt)|0,w=w+Math.imul(ye,Je)|0,w=w+Math.imul(be,yt)|0,y=y+Math.imul(be,Je)|0,A=A+Math.imul(J,Qe)|0,w=w+Math.imul(J,Ye)|0,w=w+Math.imul(ae,Qe)|0,y=y+Math.imul(ae,Ye)|0,A=A+Math.imul(ee,Ve)|0,w=w+Math.imul(ee,nt)|0,w=w+Math.imul($,Ve)|0,y=y+Math.imul($,nt)|0,A=A+Math.imul(Z,Ze)|0,w=w+Math.imul(Z,st)|0,w=w+Math.imul(W,Ze)|0,y=y+Math.imul(W,st)|0,A=A+Math.imul(V,tt)|0,w=w+Math.imul(V,et)|0,w=w+Math.imul(ce,tt)|0,y=y+Math.imul(ce,et)|0;var Yr=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,A=Math.imul(G,de),w=Math.imul(G,_e),w=w+Math.imul(N,de)|0,y=Math.imul(N,_e),A=A+Math.imul($e,De)|0,w=w+Math.imul($e,Fe)|0,w=w+Math.imul(Ce,De)|0,y=y+Math.imul(Ce,Fe)|0,A=A+Math.imul(Pe,ct)|0,w=w+Math.imul(Pe,gt)|0,w=w+Math.imul(Me,ct)|0,y=y+Math.imul(Me,gt)|0,A=A+Math.imul(je,yt)|0,w=w+Math.imul(je,Je)|0,w=w+Math.imul(Ue,yt)|0,y=y+Math.imul(Ue,Je)|0,A=A+Math.imul(ye,Qe)|0,w=w+Math.imul(ye,Ye)|0,w=w+Math.imul(be,Qe)|0,y=y+Math.imul(be,Ye)|0,A=A+Math.imul(J,Ve)|0,w=w+Math.imul(J,nt)|0,w=w+Math.imul(ae,Ve)|0,y=y+Math.imul(ae,nt)|0,A=A+Math.imul(ee,Ze)|0,w=w+Math.imul(ee,st)|0,w=w+Math.imul($,Ze)|0,y=y+Math.imul($,st)|0,A=A+Math.imul(Z,tt)|0,w=w+Math.imul(Z,et)|0,w=w+Math.imul(W,tt)|0,y=y+Math.imul(W,et)|0,A=A+Math.imul(V,ot)|0,w=w+Math.imul(V,at)|0,w=w+Math.imul(ce,ot)|0,y=y+Math.imul(ce,at)|0;var xn=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(xn>>>26)|0,xn&=67108863,A=Math.imul(X,de),w=Math.imul(X,_e),w=w+Math.imul(ie,de)|0,y=Math.imul(ie,_e),A=A+Math.imul(G,De)|0,w=w+Math.imul(G,Fe)|0,w=w+Math.imul(N,De)|0,y=y+Math.imul(N,Fe)|0,A=A+Math.imul($e,ct)|0,w=w+Math.imul($e,gt)|0,w=w+Math.imul(Ce,ct)|0,y=y+Math.imul(Ce,gt)|0,A=A+Math.imul(Pe,yt)|0,w=w+Math.imul(Pe,Je)|0,w=w+Math.imul(Me,yt)|0,y=y+Math.imul(Me,Je)|0,A=A+Math.imul(je,Qe)|0,w=w+Math.imul(je,Ye)|0,w=w+Math.imul(Ue,Qe)|0,y=y+Math.imul(Ue,Ye)|0,A=A+Math.imul(ye,Ve)|0,w=w+Math.imul(ye,nt)|0,w=w+Math.imul(be,Ve)|0,y=y+Math.imul(be,nt)|0,A=A+Math.imul(J,Ze)|0,w=w+Math.imul(J,st)|0,w=w+Math.imul(ae,Ze)|0,y=y+Math.imul(ae,st)|0,A=A+Math.imul(ee,tt)|0,w=w+Math.imul(ee,et)|0,w=w+Math.imul($,tt)|0,y=y+Math.imul($,et)|0,A=A+Math.imul(Z,ot)|0,w=w+Math.imul(Z,at)|0,w=w+Math.imul(W,ot)|0,y=y+Math.imul(W,at)|0,A=A+Math.imul(V,_t)|0,w=w+Math.imul(V,Et)|0,w=w+Math.imul(ce,_t)|0,y=y+Math.imul(ce,Et)|0;var Zr=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,A=Math.imul(X,De),w=Math.imul(X,Fe),w=w+Math.imul(ie,De)|0,y=Math.imul(ie,Fe),A=A+Math.imul(G,ct)|0,w=w+Math.imul(G,gt)|0,w=w+Math.imul(N,ct)|0,y=y+Math.imul(N,gt)|0,A=A+Math.imul($e,yt)|0,w=w+Math.imul($e,Je)|0,w=w+Math.imul(Ce,yt)|0,y=y+Math.imul(Ce,Je)|0,A=A+Math.imul(Pe,Qe)|0,w=w+Math.imul(Pe,Ye)|0,w=w+Math.imul(Me,Qe)|0,y=y+Math.imul(Me,Ye)|0,A=A+Math.imul(je,Ve)|0,w=w+Math.imul(je,nt)|0,w=w+Math.imul(Ue,Ve)|0,y=y+Math.imul(Ue,nt)|0,A=A+Math.imul(ye,Ze)|0,w=w+Math.imul(ye,st)|0,w=w+Math.imul(be,Ze)|0,y=y+Math.imul(be,st)|0,A=A+Math.imul(J,tt)|0,w=w+Math.imul(J,et)|0,w=w+Math.imul(ae,tt)|0,y=y+Math.imul(ae,et)|0,A=A+Math.imul(ee,ot)|0,w=w+Math.imul(ee,at)|0,w=w+Math.imul($,ot)|0,y=y+Math.imul($,at)|0,A=A+Math.imul(Z,_t)|0,w=w+Math.imul(Z,Et)|0,w=w+Math.imul(W,_t)|0,y=y+Math.imul(W,Et)|0;var An=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(An>>>26)|0,An&=67108863,A=Math.imul(X,ct),w=Math.imul(X,gt),w=w+Math.imul(ie,ct)|0,y=Math.imul(ie,gt),A=A+Math.imul(G,yt)|0,w=w+Math.imul(G,Je)|0,w=w+Math.imul(N,yt)|0,y=y+Math.imul(N,Je)|0,A=A+Math.imul($e,Qe)|0,w=w+Math.imul($e,Ye)|0,w=w+Math.imul(Ce,Qe)|0,y=y+Math.imul(Ce,Ye)|0,A=A+Math.imul(Pe,Ve)|0,w=w+Math.imul(Pe,nt)|0,w=w+Math.imul(Me,Ve)|0,y=y+Math.imul(Me,nt)|0,A=A+Math.imul(je,Ze)|0,w=w+Math.imul(je,st)|0,w=w+Math.imul(Ue,Ze)|0,y=y+Math.imul(Ue,st)|0,A=A+Math.imul(ye,tt)|0,w=w+Math.imul(ye,et)|0,w=w+Math.imul(be,tt)|0,y=y+Math.imul(be,et)|0,A=A+Math.imul(J,ot)|0,w=w+Math.imul(J,at)|0,w=w+Math.imul(ae,ot)|0,y=y+Math.imul(ae,at)|0,A=A+Math.imul(ee,_t)|0,w=w+Math.imul(ee,Et)|0,w=w+Math.imul($,_t)|0,y=y+Math.imul($,Et)|0;var In=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(In>>>26)|0,In&=67108863,A=Math.imul(X,yt),w=Math.imul(X,Je),w=w+Math.imul(ie,yt)|0,y=Math.imul(ie,Je),A=A+Math.imul(G,Qe)|0,w=w+Math.imul(G,Ye)|0,w=w+Math.imul(N,Qe)|0,y=y+Math.imul(N,Ye)|0,A=A+Math.imul($e,Ve)|0,w=w+Math.imul($e,nt)|0,w=w+Math.imul(Ce,Ve)|0,y=y+Math.imul(Ce,nt)|0,A=A+Math.imul(Pe,Ze)|0,w=w+Math.imul(Pe,st)|0,w=w+Math.imul(Me,Ze)|0,y=y+Math.imul(Me,st)|0,A=A+Math.imul(je,tt)|0,w=w+Math.imul(je,et)|0,w=w+Math.imul(Ue,tt)|0,y=y+Math.imul(Ue,et)|0,A=A+Math.imul(ye,ot)|0,w=w+Math.imul(ye,at)|0,w=w+Math.imul(be,ot)|0,y=y+Math.imul(be,at)|0,A=A+Math.imul(J,_t)|0,w=w+Math.imul(J,Et)|0,w=w+Math.imul(ae,_t)|0,y=y+Math.imul(ae,Et)|0;var Xr=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,A=Math.imul(X,Qe),w=Math.imul(X,Ye),w=w+Math.imul(ie,Qe)|0,y=Math.imul(ie,Ye),A=A+Math.imul(G,Ve)|0,w=w+Math.imul(G,nt)|0,w=w+Math.imul(N,Ve)|0,y=y+Math.imul(N,nt)|0,A=A+Math.imul($e,Ze)|0,w=w+Math.imul($e,st)|0,w=w+Math.imul(Ce,Ze)|0,y=y+Math.imul(Ce,st)|0,A=A+Math.imul(Pe,tt)|0,w=w+Math.imul(Pe,et)|0,w=w+Math.imul(Me,tt)|0,y=y+Math.imul(Me,et)|0,A=A+Math.imul(je,ot)|0,w=w+Math.imul(je,at)|0,w=w+Math.imul(Ue,ot)|0,y=y+Math.imul(Ue,at)|0,A=A+Math.imul(ye,_t)|0,w=w+Math.imul(ye,Et)|0,w=w+Math.imul(be,_t)|0,y=y+Math.imul(be,Et)|0;var yn=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(yn>>>26)|0,yn&=67108863,A=Math.imul(X,Ve),w=Math.imul(X,nt),w=w+Math.imul(ie,Ve)|0,y=Math.imul(ie,nt),A=A+Math.imul(G,Ze)|0,w=w+Math.imul(G,st)|0,w=w+Math.imul(N,Ze)|0,y=y+Math.imul(N,st)|0,A=A+Math.imul($e,tt)|0,w=w+Math.imul($e,et)|0,w=w+Math.imul(Ce,tt)|0,y=y+Math.imul(Ce,et)|0,A=A+Math.imul(Pe,ot)|0,w=w+Math.imul(Pe,at)|0,w=w+Math.imul(Me,ot)|0,y=y+Math.imul(Me,at)|0,A=A+Math.imul(je,_t)|0,w=w+Math.imul(je,Et)|0,w=w+Math.imul(Ue,_t)|0,y=y+Math.imul(Ue,Et)|0;var wn=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(wn>>>26)|0,wn&=67108863,A=Math.imul(X,Ze),w=Math.imul(X,st),w=w+Math.imul(ie,Ze)|0,y=Math.imul(ie,st),A=A+Math.imul(G,tt)|0,w=w+Math.imul(G,et)|0,w=w+Math.imul(N,tt)|0,y=y+Math.imul(N,et)|0,A=A+Math.imul($e,ot)|0,w=w+Math.imul($e,at)|0,w=w+Math.imul(Ce,ot)|0,y=y+Math.imul(Ce,at)|0,A=A+Math.imul(Pe,_t)|0,w=w+Math.imul(Pe,Et)|0,w=w+Math.imul(Me,_t)|0,y=y+Math.imul(Me,Et)|0;var yr=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(yr>>>26)|0,yr&=67108863,A=Math.imul(X,tt),w=Math.imul(X,et),w=w+Math.imul(ie,tt)|0,y=Math.imul(ie,et),A=A+Math.imul(G,ot)|0,w=w+Math.imul(G,at)|0,w=w+Math.imul(N,ot)|0,y=y+Math.imul(N,at)|0,A=A+Math.imul($e,_t)|0,w=w+Math.imul($e,Et)|0,w=w+Math.imul(Ce,_t)|0,y=y+Math.imul(Ce,Et)|0;var xi=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(xi>>>26)|0,xi&=67108863,A=Math.imul(X,ot),w=Math.imul(X,at),w=w+Math.imul(ie,ot)|0,y=Math.imul(ie,at),A=A+Math.imul(G,_t)|0,w=w+Math.imul(G,Et)|0,w=w+Math.imul(N,_t)|0,y=y+Math.imul(N,Et)|0;var Ai=(C+A|0)+((w&8191)<<13)|0;C=(y+(w>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,A=Math.imul(X,_t),w=Math.imul(X,Et),w=w+Math.imul(ie,_t)|0,y=Math.imul(ie,Et);var Ii=(C+A|0)+((w&8191)<<13)|0;return C=(y+(w>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,I[0]=ft,I[1]=$t,I[2]=$r,I[3]=Dr,I[4]=Lr,I[5]=Br,I[6]=cr,I[7]=Yr,I[8]=xn,I[9]=Zr,I[10]=An,I[11]=In,I[12]=Xr,I[13]=yn,I[14]=wn,I[15]=yr,I[16]=xi,I[17]=Ai,I[18]=Ii,C!==0&&(I[19]=C,f.length++),f};Math.imul||(T=S);function B(K,k,g){g.negative=k.negative^K.negative,g.length=K.length+k.length;for(var f=0,m=0,_=0;_<g.length-1;_++){var I=m;m=0;for(var C=f&67108863,A=Math.min(_,k.length-1),w=Math.max(0,_-K.length+1);w<=A;w++){var y=_-w,E=K.words[y]|0,V=k.words[w]|0,ce=E*V,U=ce&67108863;I=I+(ce/67108864|0)|0,U=U+C|0,C=U&67108863,I=I+(U>>>26)|0,m+=I>>>26,I&=67108863}g.words[_]=C,f=I,I=m}return f!==0?g.words[_]=f:g.length--,g.strip()}function R(K,k,g){var f=new P;return f.mulp(K,k,g)}s.prototype.mulTo=function(k,g){var f,m=this.length+k.length;return this.length===10&&k.length===10?f=T(this,k,g):m<63?f=S(this,k,g):m<1024?f=B(this,k,g):f=R(this,k,g),f};function P(K,k){this.x=K,this.y=k}P.prototype.makeRBT=function(k){for(var g=new Array(k),f=s.prototype._countBits(k)-1,m=0;m<k;m++)g[m]=this.revBin(m,f,k);return g},P.prototype.revBin=function(k,g,f){if(k===0||k===f-1)return k;for(var m=0,_=0;_<g;_++)m|=(k&1)<<g-_-1,k>>=1;return m},P.prototype.permute=function(k,g,f,m,_,I){for(var C=0;C<I;C++)m[C]=g[k[C]],_[C]=f[k[C]]},P.prototype.transform=function(k,g,f,m,_,I){this.permute(I,k,g,f,m,_);for(var C=1;C<_;C<<=1)for(var A=C<<1,w=Math.cos(2*Math.PI/A),y=Math.sin(2*Math.PI/A),E=0;E<_;E+=A)for(var V=w,ce=y,U=0;U<C;U++){var Z=f[E+U],W=m[E+U],Y=f[E+U+C],ee=m[E+U+C],$=V*Y-ce*ee;ee=V*ee+ce*Y,Y=$,f[E+U]=Z+Y,m[E+U]=W+ee,f[E+U+C]=Z-Y,m[E+U+C]=W-ee,U!==A&&($=w*V-y*ce,ce=w*ce+y*V,V=$)}},P.prototype.guessLen13b=function(k,g){var f=Math.max(g,k)|1,m=f&1,_=0;for(f=f/2|0;f;f=f>>>1)_++;return 1<<_+1+m},P.prototype.conjugate=function(k,g,f){if(!(f<=1))for(var m=0;m<f/2;m++){var _=k[m];k[m]=k[f-m-1],k[f-m-1]=_,_=g[m],g[m]=-g[f-m-1],g[f-m-1]=-_}},P.prototype.normalize13b=function(k,g){for(var f=0,m=0;m<g/2;m++){var _=Math.round(k[2*m+1]/g)*8192+Math.round(k[2*m]/g)+f;k[m]=_&67108863,_<67108864?f=0:f=_/67108864|0}return k},P.prototype.convert13b=function(k,g,f,m){for(var _=0,I=0;I<g;I++)_=_+(k[I]|0),f[2*I]=_&8191,_=_>>>13,f[2*I+1]=_&8191,_=_>>>13;for(I=2*g;I<m;++I)f[I]=0;n(_===0),n((_&-8192)===0)},P.prototype.stub=function(k){for(var g=new Array(k),f=0;f<k;f++)g[f]=0;return g},P.prototype.mulp=function(k,g,f){var m=2*this.guessLen13b(k.length,g.length),_=this.makeRBT(m),I=this.stub(m),C=new Array(m),A=new Array(m),w=new Array(m),y=new Array(m),E=new Array(m),V=new Array(m),ce=f.words;ce.length=m,this.convert13b(k.words,k.length,C,m),this.convert13b(g.words,g.length,y,m),this.transform(C,I,A,w,m,_),this.transform(y,I,E,V,m,_);for(var U=0;U<m;U++){var Z=A[U]*E[U]-w[U]*V[U];w[U]=A[U]*V[U]+w[U]*E[U],A[U]=Z}return this.conjugate(A,w,m),this.transform(A,w,ce,I,m,_),this.conjugate(ce,I,m),this.normalize13b(ce,m),f.negative=k.negative^g.negative,f.length=k.length+g.length,f.strip()},s.prototype.mul=function(k){var g=new s(null);return g.words=new Array(this.length+k.length),this.mulTo(k,g)},s.prototype.mulf=function(k){var g=new s(null);return g.words=new Array(this.length+k.length),R(this,k,g)},s.prototype.imul=function(k){return this.clone().mulTo(k,this)},s.prototype.imuln=function(k){n(typeof k=="number"),n(k<67108864);for(var g=0,f=0;f<this.length;f++){var m=(this.words[f]|0)*k,_=(m&67108863)+(g&67108863);g>>=26,g+=m/67108864|0,g+=_>>>26,this.words[f]=_&67108863}return g!==0&&(this.words[f]=g,this.length++),this},s.prototype.muln=function(k){return this.clone().imuln(k)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(k){var g=b(k);if(g.length===0)return new s(1);for(var f=this,m=0;m<g.length&&g[m]===0;m++,f=f.sqr());if(++m<g.length)for(var _=f.sqr();m<g.length;m++,_=_.sqr())g[m]!==0&&(f=f.mul(_));return f},s.prototype.iushln=function(k){n(typeof k=="number"&&k>=0);var g=k%26,f=(k-g)/26,m=67108863>>>26-g<<26-g,_;if(g!==0){var I=0;for(_=0;_<this.length;_++){var C=this.words[_]&m,A=(this.words[_]|0)-C<<g;this.words[_]=A|I,I=C>>>26-g}I&&(this.words[_]=I,this.length++)}if(f!==0){for(_=this.length-1;_>=0;_--)this.words[_+f]=this.words[_];for(_=0;_<f;_++)this.words[_]=0;this.length+=f}return this.strip()},s.prototype.ishln=function(k){return n(this.negative===0),this.iushln(k)},s.prototype.iushrn=function(k,g,f){n(typeof k=="number"&&k>=0);var m;g?m=(g-g%26)/26:m=0;var _=k%26,I=Math.min((k-_)/26,this.length),C=67108863^67108863>>>_<<_,A=f;if(m-=I,m=Math.max(0,m),A){for(var w=0;w<I;w++)A.words[w]=this.words[w];A.length=I}if(I!==0)if(this.length>I)for(this.length-=I,w=0;w<this.length;w++)this.words[w]=this.words[w+I];else this.words[0]=0,this.length=1;var y=0;for(w=this.length-1;w>=0&&(y!==0||w>=m);w--){var E=this.words[w]|0;this.words[w]=y<<26-_|E>>>_,y=E&C}return A&&y!==0&&(A.words[A.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(k,g,f){return n(this.negative===0),this.iushrn(k,g,f)},s.prototype.shln=function(k){return this.clone().ishln(k)},s.prototype.ushln=function(k){return this.clone().iushln(k)},s.prototype.shrn=function(k){return this.clone().ishrn(k)},s.prototype.ushrn=function(k){return this.clone().iushrn(k)},s.prototype.testn=function(k){n(typeof k=="number"&&k>=0);var g=k%26,f=(k-g)/26,m=1<<g;if(this.length<=f)return!1;var _=this.words[f];return!!(_&m)},s.prototype.imaskn=function(k){n(typeof k=="number"&&k>=0);var g=k%26,f=(k-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(g!==0&&f++,this.length=Math.min(f,this.length),g!==0){var m=67108863^67108863>>>g<<g;this.words[this.length-1]&=m}return this.strip()},s.prototype.maskn=function(k){return this.clone().imaskn(k)},s.prototype.iaddn=function(k){return n(typeof k=="number"),n(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(this.words[0]|0)<k?(this.words[0]=k-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},s.prototype._iaddn=function(k){this.words[0]+=k;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(k){if(n(typeof k=="number"),n(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this.strip()},s.prototype.addn=function(k){return this.clone().iaddn(k)},s.prototype.subn=function(k){return this.clone().isubn(k)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(k,g,f){var m=k.length+f,_;this._expand(m);var I,C=0;for(_=0;_<k.length;_++){I=(this.words[_+f]|0)+C;var A=(k.words[_]|0)*g;I-=A&67108863,C=(I>>26)-(A/67108864|0),this.words[_+f]=I&67108863}for(;_<this.length-f;_++)I=(this.words[_+f]|0)+C,C=I>>26,this.words[_+f]=I&67108863;if(C===0)return this.strip();for(n(C===-1),C=0,_=0;_<this.length;_++)I=-(this.words[_]|0)+C,C=I>>26,this.words[_]=I&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(k,g){var f=this.length-k.length,m=this.clone(),_=k,I=_.words[_.length-1]|0,C=this._countBits(I);f=26-C,f!==0&&(_=_.ushln(f),m.iushln(f),I=_.words[_.length-1]|0);var A=m.length-_.length,w;if(g!=="mod"){w=new s(null),w.length=A+1,w.words=new Array(w.length);for(var y=0;y<w.length;y++)w.words[y]=0}var E=m.clone()._ishlnsubmul(_,1,A);E.negative===0&&(m=E,w&&(w.words[A]=1));for(var V=A-1;V>=0;V--){var ce=(m.words[_.length+V]|0)*67108864+(m.words[_.length+V-1]|0);for(ce=Math.min(ce/I|0,67108863),m._ishlnsubmul(_,ce,V);m.negative!==0;)ce--,m.negative=0,m._ishlnsubmul(_,1,V),m.isZero()||(m.negative^=1);w&&(w.words[V]=ce)}return w&&w.strip(),m.strip(),g!=="div"&&f!==0&&m.iushrn(f),{div:w||null,mod:m}},s.prototype.divmod=function(k,g,f){if(n(!k.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var m,_,I;return this.negative!==0&&k.negative===0?(I=this.neg().divmod(k,g),g!=="mod"&&(m=I.div.neg()),g!=="div"&&(_=I.mod.neg(),f&&_.negative!==0&&_.iadd(k)),{div:m,mod:_}):this.negative===0&&k.negative!==0?(I=this.divmod(k.neg(),g),g!=="mod"&&(m=I.div.neg()),{div:m,mod:I.mod}):this.negative&k.negative?(I=this.neg().divmod(k.neg(),g),g!=="div"&&(_=I.mod.neg(),f&&_.negative!==0&&_.isub(k)),{div:I.div,mod:_}):k.length>this.length||this.cmp(k)<0?{div:new s(0),mod:this}:k.length===1?g==="div"?{div:this.divn(k.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new s(this.modn(k.words[0]))}:this._wordDiv(k,g)},s.prototype.div=function(k){return this.divmod(k,"div",!1).div},s.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},s.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},s.prototype.divRound=function(k){var g=this.divmod(k);if(g.mod.isZero())return g.div;var f=g.div.negative!==0?g.mod.isub(k):g.mod,m=k.ushrn(1),_=k.andln(1),I=f.cmp(m);return I<0||_===1&&I===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modn=function(k){n(k<=67108863);for(var g=(1<<26)%k,f=0,m=this.length-1;m>=0;m--)f=(g*f+(this.words[m]|0))%k;return f},s.prototype.idivn=function(k){n(k<=67108863);for(var g=0,f=this.length-1;f>=0;f--){var m=(this.words[f]|0)+g*67108864;this.words[f]=m/k|0,g=m%k}return this.strip()},s.prototype.divn=function(k){return this.clone().idivn(k)},s.prototype.egcd=function(k){n(k.negative===0),n(!k.isZero());var g=this,f=k.clone();g.negative!==0?g=g.umod(k):g=g.clone();for(var m=new s(1),_=new s(0),I=new s(0),C=new s(1),A=0;g.isEven()&&f.isEven();)g.iushrn(1),f.iushrn(1),++A;for(var w=f.clone(),y=g.clone();!g.isZero();){for(var E=0,V=1;!(g.words[0]&V)&&E<26;++E,V<<=1);if(E>0)for(g.iushrn(E);E-- >0;)(m.isOdd()||_.isOdd())&&(m.iadd(w),_.isub(y)),m.iushrn(1),_.iushrn(1);for(var ce=0,U=1;!(f.words[0]&U)&&ce<26;++ce,U<<=1);if(ce>0)for(f.iushrn(ce);ce-- >0;)(I.isOdd()||C.isOdd())&&(I.iadd(w),C.isub(y)),I.iushrn(1),C.iushrn(1);g.cmp(f)>=0?(g.isub(f),m.isub(I),_.isub(C)):(f.isub(g),I.isub(m),C.isub(_))}return{a:I,b:C,gcd:f.iushln(A)}},s.prototype._invmp=function(k){n(k.negative===0),n(!k.isZero());var g=this,f=k.clone();g.negative!==0?g=g.umod(k):g=g.clone();for(var m=new s(1),_=new s(0),I=f.clone();g.cmpn(1)>0&&f.cmpn(1)>0;){for(var C=0,A=1;!(g.words[0]&A)&&C<26;++C,A<<=1);if(C>0)for(g.iushrn(C);C-- >0;)m.isOdd()&&m.iadd(I),m.iushrn(1);for(var w=0,y=1;!(f.words[0]&y)&&w<26;++w,y<<=1);if(w>0)for(f.iushrn(w);w-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);g.cmp(f)>=0?(g.isub(f),m.isub(_)):(f.isub(g),_.isub(m))}var E;return g.cmpn(1)===0?E=m:E=_,E.cmpn(0)<0&&E.iadd(k),E},s.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var g=this.clone(),f=k.clone();g.negative=0,f.negative=0;for(var m=0;g.isEven()&&f.isEven();m++)g.iushrn(1),f.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;f.isEven();)f.iushrn(1);var _=g.cmp(f);if(_<0){var I=g;g=f,f=I}else if(_===0||f.cmpn(1)===0)break;g.isub(f)}while(!0);return f.iushln(m)},s.prototype.invm=function(k){return this.egcd(k).a.umod(k)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(k){return this.words[0]&k},s.prototype.bincn=function(k){n(typeof k=="number");var g=k%26,f=(k-g)/26,m=1<<g;if(this.length<=f)return this._expand(f+1),this.words[f]|=m,this;for(var _=m,I=f;_!==0&&I<this.length;I++){var C=this.words[I]|0;C+=_,_=C>>>26,C&=67108863,this.words[I]=C}return _!==0&&(this.words[I]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(k){var g=k<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this.strip();var f;if(this.length>1)f=1;else{g&&(k=-k),n(k<=67108863,"Number is too big");var m=this.words[0]|0;f=m===k?0:m<k?-1:1}return this.negative!==0?-f|0:f},s.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var g=this.ucmp(k);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var g=0,f=this.length-1;f>=0;f--){var m=this.words[f]|0,_=k.words[f]|0;if(m!==_){m<_?g=-1:m>_&&(g=1);break}}return g},s.prototype.gtn=function(k){return this.cmpn(k)===1},s.prototype.gt=function(k){return this.cmp(k)===1},s.prototype.gten=function(k){return this.cmpn(k)>=0},s.prototype.gte=function(k){return this.cmp(k)>=0},s.prototype.ltn=function(k){return this.cmpn(k)===-1},s.prototype.lt=function(k){return this.cmp(k)===-1},s.prototype.lten=function(k){return this.cmpn(k)<=0},s.prototype.lte=function(k){return this.cmp(k)<=0},s.prototype.eqn=function(k){return this.cmpn(k)===0},s.prototype.eq=function(k){return this.cmp(k)===0},s.red=function(k){return new te(k)},s.prototype.toRed=function(k){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(k){return this.red=k,this},s.prototype.forceRed=function(k){return n(!this.red,"Already a number in reduction context"),this._forceRed(k)},s.prototype.redAdd=function(k){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},s.prototype.redIAdd=function(k){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},s.prototype.redSub=function(k){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},s.prototype.redISub=function(k){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},s.prototype.redShl=function(k){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},s.prototype.redMul=function(k){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},s.prototype.redIMul=function(k){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(k){return n(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var O={k256:null,p224:null,p192:null,p25519:null};function L(K,k){this.name=K,this.p=new s(k,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var k=new s(null);return k.words=new Array(Math.ceil(this.n/13)),k},L.prototype.ireduce=function(k){var g=k,f;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),f=g.bitLength();while(f>this.n);var m=f<this.n?-1:g.ucmp(this.p);return m===0?(g.words[0]=0,g.length=1):m>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},L.prototype.split=function(k,g){k.iushrn(this.n,0,g)},L.prototype.imulK=function(k){return k.imul(this.k)};function D(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,L),D.prototype.split=function(k,g){for(var f=4194303,m=Math.min(k.length,9),_=0;_<m;_++)g.words[_]=k.words[_];if(g.length=m,k.length<=9){k.words[0]=0,k.length=1;return}var I=k.words[9];for(g.words[g.length++]=I&f,_=10;_<k.length;_++){var C=k.words[_]|0;k.words[_-10]=(C&f)<<4|I>>>22,I=C}I>>>=22,k.words[_-10]=I,I===0&&k.length>10?k.length-=10:k.length-=9},D.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var g=0,f=0;f<k.length;f++){var m=k.words[f]|0;g+=m*977,k.words[f]=g&67108863,g=m*64+(g/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k};function q(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,L);function M(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(M,L);function H(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,L),H.prototype.imulK=function(k){for(var g=0,f=0;f<k.length;f++){var m=(k.words[f]|0)*19+g,_=m&67108863;m>>>=26,k.words[f]=_,g=m}return g!==0&&(k.words[k.length++]=g),k},s._prime=function(k){if(O[k])return O[k];var g;if(k==="k256")g=new D;else if(k==="p224")g=new q;else if(k==="p192")g=new M;else if(k==="p25519")g=new H;else throw new Error("Unknown prime "+k);return O[k]=g,g};function te(K){if(typeof K=="string"){var k=s._prime(K);this.m=k.p,this.prime=k}else n(K.gtn(1),"modulus must be greater than 1"),this.m=K,this.prime=null}te.prototype._verify1=function(k){n(k.negative===0,"red works only with positives"),n(k.red,"red works only with red numbers")},te.prototype._verify2=function(k,g){n((k.negative|g.negative)===0,"red works only with positives"),n(k.red&&k.red===g.red,"red works only with red numbers")},te.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):k.umod(this.m)._forceRed(this)},te.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},te.prototype.add=function(k,g){this._verify2(k,g);var f=k.add(g);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},te.prototype.iadd=function(k,g){this._verify2(k,g);var f=k.iadd(g);return f.cmp(this.m)>=0&&f.isub(this.m),f},te.prototype.sub=function(k,g){this._verify2(k,g);var f=k.sub(g);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},te.prototype.isub=function(k,g){this._verify2(k,g);var f=k.isub(g);return f.cmpn(0)<0&&f.iadd(this.m),f},te.prototype.shl=function(k,g){return this._verify1(k),this.imod(k.ushln(g))},te.prototype.imul=function(k,g){return this._verify2(k,g),this.imod(k.imul(g))},te.prototype.mul=function(k,g){return this._verify2(k,g),this.imod(k.mul(g))},te.prototype.isqr=function(k){return this.imul(k,k.clone())},te.prototype.sqr=function(k){return this.mul(k,k)},te.prototype.sqrt=function(k){if(k.isZero())return k.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var f=this.m.add(new s(1)).iushrn(2);return this.pow(k,f)}for(var m=this.m.subn(1),_=0;!m.isZero()&&m.andln(1)===0;)_++,m.iushrn(1);n(!m.isZero());var I=new s(1).toRed(this),C=I.redNeg(),A=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new s(2*w*w).toRed(this);this.pow(w,A).cmp(C)!==0;)w.redIAdd(C);for(var y=this.pow(w,m),E=this.pow(k,m.addn(1).iushrn(1)),V=this.pow(k,m),ce=_;V.cmp(I)!==0;){for(var U=V,Z=0;U.cmp(I)!==0;Z++)U=U.redSqr();n(Z<ce);var W=this.pow(y,new s(1).iushln(ce-Z-1));E=E.redMul(W),y=W.redSqr(),V=V.redMul(y),ce=Z}return E},te.prototype.invm=function(k){var g=k._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},te.prototype.pow=function(k,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return k.clone();var f=4,m=new Array(1<<f);m[0]=new s(1).toRed(this),m[1]=k;for(var _=2;_<m.length;_++)m[_]=this.mul(m[_-1],k);var I=m[0],C=0,A=0,w=g.bitLength()%26;for(w===0&&(w=26),_=g.length-1;_>=0;_--){for(var y=g.words[_],E=w-1;E>=0;E--){var V=y>>E&1;if(I!==m[0]&&(I=this.sqr(I)),V===0&&C===0){A=0;continue}C<<=1,C|=V,A++,!(A!==f&&(_!==0||E!==0))&&(I=this.mul(I,m[C]),A=0,C=0)}w=26}return I},te.prototype.convertTo=function(k){var g=k.umod(this.m);return g===k?g.clone():g},te.prototype.convertFrom=function(k){var g=k.clone();return g.red=null,g},s.mont=function(k){return new oe(k)};function oe(K){te.call(this,K),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(oe,te),oe.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},oe.prototype.convertFrom=function(k){var g=this.imod(k.mul(this.rinv));return g.red=null,g},oe.prototype.imul=function(k,g){if(k.isZero()||g.isZero())return k.words[0]=0,k.length=1,k;var f=k.imul(g),m=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=f.isub(m).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},oe.prototype.mul=function(k,g){if(k.isZero()||g.isZero())return new s(0)._forceRed(this);var f=k.mul(g),m=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=f.isub(m).iushrn(this.shift),I=_;return _.cmp(this.m)>=0?I=_.isub(this.m):_.cmpn(0)<0&&(I=_.iadd(this.m)),I._forceRed(this)},oe.prototype.invm=function(k){var g=this.imod(k._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,lt)})(n9);var sl=n9.exports,uh=YF;function YF(t,e){if(!t)throw new Error(e||"Assertion failed")}YF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var i9={};(function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=s[c]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var l=s.charCodeAt(c),h=l>>8,p=l&255;h?a.push(h,p):a.push(p)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(i9);(function(t){var e=t,r=sl,n=uh,i=i9;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(h,p,v){var b=new Array(Math.max(h.bitLength(),v)+1),S;for(S=0;S<b.length;S+=1)b[S]=0;var T=1<<p+1,B=h.clone();for(S=0;S<b.length;S++){var R,P=B.andln(T-1);B.isOdd()?(P>(T>>1)-1?R=(T>>1)-P:R=P,B.isubn(R)):R=0,b[S]=R,B.iushrn(1)}return b}e.getNAF=s;function o(h,p){var v=[[],[]];h=h.clone(),p=p.clone();for(var b=0,S=0,T;h.cmpn(-b)>0||p.cmpn(-S)>0;){var B=h.andln(3)+b&3,R=p.andln(3)+S&3;B===3&&(B=-1),R===3&&(R=-1);var P;B&1?(T=h.andln(7)+b&7,(T===3||T===5)&&R===2?P=-B:P=B):P=0,v[0].push(P);var O;R&1?(T=p.andln(7)+S&7,(T===3||T===5)&&B===2?O=-R:O=R):O=0,v[1].push(O),2*b===P+1&&(b=1-b),2*S===O+1&&(S=1-S),h.iushrn(1),p.iushrn(1)}return v}e.getJSF=o;function a(h,p,v){var b="_"+p;h.prototype[p]=function(){return this[b]!==void 0?this[b]:this[b]=v.call(this)}}e.cachedProperty=a;function c(h){return typeof h=="string"?e.toArray(h,"hex"):h}e.parseBytes=c;function l(h){return new r(h,"hex","le")}e.intFromLE=l})(Us);var s9={exports:{}},E5;s9.exports=function(e){return E5||(E5=new Yl(null)),E5.generate(e)};function Yl(t){this.rand=t}s9.exports.Rand=Yl;Yl.prototype.generate=function(e){return this._rand(e)};Yl.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Yl.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Yl.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Yl.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var GR=N0;if(typeof GR.randomBytes!="function")throw new Error("Not supported");Yl.prototype._rand=function(e){return GR.randomBytes(e)}}catch{}var ZF=s9.exports,o9={},Zu=sl,xm=Us,cw=xm.getNAF,U1e=xm.getJSF,lw=xm.assert;function Ru(t,e){this.type=t,this.p=new Zu(e.p,16),this.red=e.prime?Zu.red(e.prime):Zu.mont(this.p),this.zero=new Zu(0).toRed(this.red),this.one=new Zu(1).toRed(this.red),this.two=new Zu(2).toRed(this.red),this.n=e.n&&new Zu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var v3=Ru;Ru.prototype.point=function(){throw new Error("Not implemented")};Ru.prototype.validate=function(){throw new Error("Not implemented")};Ru.prototype._fixedNafMul=function(e,r){lw(e.precomputed);var n=e._getDoubles(),i=cw(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var h=this.jpoint(null,null,null),p=this.jpoint(null,null,null),v=s;v>0;v--){for(a=0;a<o.length;a++)c=o[a],c===v?p=p.mixedAdd(n.points[a]):c===-v&&(p=p.mixedAdd(n.points[a].neg()));h=h.add(p)}return h.toP()};Ru.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=cw(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var h=o[c];lw(h!==0),e.type==="affine"?h>0?a=a.mixedAdd(s[h-1>>1]):a=a.mixedAdd(s[-h-1>>1].neg()):h>0?a=a.add(s[h-1>>1]):a=a.add(s[-h-1>>1].neg())}return e.type==="affine"?a.toP():a};Ru.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,h,p,v;for(h=0;h<i;h++){v=r[h];var b=v._getNAFPoints(e);o[h]=b.wnd,a[h]=b.points}for(h=i-1;h>=1;h-=2){var S=h-1,T=h;if(o[S]!==1||o[T]!==1){c[S]=cw(n[S],o[S],this._bitLength),c[T]=cw(n[T],o[T],this._bitLength),l=Math.max(c[S].length,l),l=Math.max(c[T].length,l);continue}var B=[r[S],null,null,r[T]];r[S].y.cmp(r[T].y)===0?(B[1]=r[S].add(r[T]),B[2]=r[S].toJ().mixedAdd(r[T].neg())):r[S].y.cmp(r[T].y.redNeg())===0?(B[1]=r[S].toJ().mixedAdd(r[T]),B[2]=r[S].add(r[T].neg())):(B[1]=r[S].toJ().mixedAdd(r[T]),B[2]=r[S].toJ().mixedAdd(r[T].neg()));var R=[-3,-1,-5,-7,0,7,5,1,3],P=U1e(n[S],n[T]);for(l=Math.max(P[0].length,l),c[S]=new Array(l),c[T]=new Array(l),p=0;p<l;p++){var O=P[0][p]|0,L=P[1][p]|0;c[S][p]=R[(O+1)*3+(L+1)],c[T][p]=0,a[S]=B}}var D=this.jpoint(null,null,null),q=this._wnafT4;for(h=l;h>=0;h--){for(var M=0;h>=0;){var H=!0;for(p=0;p<i;p++)q[p]=c[p][h]|0,q[p]!==0&&(H=!1);if(!H)break;M++,h--}if(h>=0&&M++,D=D.dblp(M),h<0)break;for(p=0;p<i;p++){var te=q[p];te!==0&&(te>0?v=a[p][te-1>>1]:te<0&&(v=a[p][-te-1>>1].neg()),v.type==="affine"?D=D.mixedAdd(v):D=D.add(v))}}for(h=0;h<i;h++)a[h]=null;return s?D:D.toP()};function xo(t,e){this.curve=t,this.type=e,this.precomputed=null}Ru.BasePoint=xo;xo.prototype.eq=function(){throw new Error("Not implemented")};xo.prototype.validate=function(){return this.curve.validate(this)};Ru.prototype.decodePoint=function(e,r){e=xm.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?lw(e[e.length-1]%2===0):e[0]===7&&lw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};xo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};xo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};xo.prototype.encode=function(e,r){return xm.encode(this._encode(r),e)};xo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};xo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};xo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};xo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};xo.prototype._getBeta=function(){return null};xo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var z1e=Us,an=sl,a9=Wi,W0=v3,q1e=z1e.assert;function Ao(t){W0.call(this,"short",t),this.a=new an(t.a,16).toRed(this.red),this.b=new an(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}a9(Ao,W0);var H1e=Ao;Ao.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new an(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new an(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],q1e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new an(a.a,16),b:new an(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ao.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:an.mont(e),n=new an(2).toRed(r).redInvm(),i=n.redNeg(),s=new an(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Ao.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new an(1),o=new an(0),a=new an(0),c=new an(1),l,h,p,v,b,S,T,B=0,R,P;n.cmpn(0)!==0;){var O=i.div(n);R=i.sub(O.mul(n)),P=a.sub(O.mul(s));var L=c.sub(O.mul(o));if(!p&&R.cmp(r)<0)l=T.neg(),h=s,p=R.neg(),v=P;else if(p&&++B===2)break;T=R,i=n,n=R,a=s,s=P,c=o,o=L}b=R.neg(),S=P;var D=p.sqr().add(v.sqr()),q=b.sqr().add(S.sqr());return q.cmp(D)>=0&&(b=l,S=h),p.negative&&(p=p.neg(),v=v.neg()),b.negative&&(b=b.neg(),S=S.neg()),[{a:p,b:v},{a:b,b:S}]};Ao.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),h=o.mul(i.b),p=e.sub(a).sub(c),v=l.add(h).neg();return{k1:p,k2:v}};Ao.prototype.pointFromX=function(e,r){e=new an(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Ao.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Ao.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var h=this._wnafMulAdd(1,i,s,o*2,n),p=0;p<o*2;p++)i[p]=null,s[p]=null;return h};function Qn(t,e,r,n){W0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new an(e,16),this.y=new an(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a9(Qn,W0.BasePoint);Ao.prototype.point=function(e,r,n){return new Qn(this,e,r,n)};Ao.prototype.pointFromJSON=function(e,r){return Qn.fromJSON(this,e,r)};Qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qn.prototype.isInfinity=function(){return this.inf};Qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Qn.prototype.getX=function(){return this.x.fromRed()};Qn.prototype.getY=function(){return this.y.fromRed()};Qn.prototype.mul=function(e){return e=new an(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Qn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ui(t,e,r,n){W0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new an(0)):(this.x=new an(e,16),this.y=new an(r,16),this.z=new an(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a9(ui,W0.BasePoint);Ao.prototype.jpoint=function(e,r,n){return new ui(this,e,r,n)};ui.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ui.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ui.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),p=h.redMul(c),v=i.redMul(h),b=l.redSqr().redIAdd(p).redISub(v).redISub(v),S=l.redMul(v.redISub(b)).redISub(o.redMul(p)),T=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(b,S,T)};ui.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),p=n.redMul(l),v=c.redSqr().redIAdd(h).redISub(p).redISub(p),b=c.redMul(p.redISub(v)).redISub(s.redMul(h)),S=this.z.redMul(a);return this.curve.jpoint(v,b,S)};ui.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),h=a.redAdd(a);for(r=0;r<e;r++){var p=o.redSqr(),v=h.redSqr(),b=v.redSqr(),S=p.redAdd(p).redIAdd(p).redIAdd(i.redMul(l)),T=o.redMul(v),B=S.redSqr().redISub(T.redAdd(T)),R=T.redISub(B),P=S.redMul(R);P=P.redIAdd(P).redISub(b);var O=h.redMul(c);r+1<e&&(l=l.redMul(b)),o=B,c=O,h=P}return this.curve.jpoint(o,h.redMul(s),c)};ui.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ui.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=l,r=c.redMul(a.redISub(l)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),S=this.x.redAdd(v).redSqr().redISub(p).redISub(b);S=S.redIAdd(S);var T=p.redAdd(p).redIAdd(p),B=T.redSqr(),R=b.redIAdd(b);R=R.redIAdd(R),R=R.redIAdd(R),e=B.redISub(S).redISub(S),r=T.redMul(S.redISub(e)).redISub(R),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ui.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),r=c.redMul(a.redISub(l)).redISub(h),n=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),v=this.y.redSqr(),b=this.x.redMul(v),S=this.x.redSub(p).redMul(this.x.redAdd(p));S=S.redAdd(S).redIAdd(S);var T=b.redIAdd(b);T=T.redIAdd(T);var B=T.redAdd(T);e=S.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(v).redISub(p);var R=v.redSqr();R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R),r=S.redMul(T.redISub(e)).redISub(R)}return this.curve.jpoint(e,r,n)};ui.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var h=l.redMul(a),p=c.redSqr().redISub(h.redAdd(h)),v=h.redISub(p),b=a.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var S=c.redMul(v).redISub(b),T=n.redAdd(n).redMul(i);return this.curve.jpoint(p,S,T)};ui.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var h=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),p=r.redMul(h);p=p.redIAdd(p),p=p.redIAdd(p);var v=this.x.redMul(c).redISub(p);v=v.redIAdd(v),v=v.redIAdd(v);var b=this.y.redMul(h.redMul(l.redISub(h)).redISub(a.redMul(c)));b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var S=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(v,b,S)};ui.prototype.mul=function(e,r){return e=new an(e,r),this.curve._wnafMul(this,e)};ui.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ui.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ui.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ui.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var gd=sl,XF=Wi,y3=v3,W1e=Us;function V0(t){y3.call(this,"mont",t),this.a=new gd(t.a,16).toRed(this.red),this.b=new gd(t.b,16).toRed(this.red),this.i4=new gd(4).toRed(this.red).redInvm(),this.two=new gd(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}XF(V0,y3);var V1e=V0;V0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Jn(t,e,r){y3.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new gd(e,16),this.z=new gd(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}XF(Jn,y3.BasePoint);V0.prototype.decodePoint=function(e,r){return this.point(W1e.toArray(e,r),1)};V0.prototype.point=function(e,r){return new Jn(this,e,r)};V0.prototype.pointFromJSON=function(e){return Jn.fromJSON(this,e)};Jn.prototype.precompute=function(){};Jn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Jn.fromJSON=function(e,r){return new Jn(e,r[0],r[1]||e.one)};Jn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Jn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Jn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Jn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Jn.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),c=s.redMul(i),l=r.z.redMul(a.redAdd(c).redSqr()),h=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(l,h)};Jn.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Jn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Jn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Jn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Jn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Jn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var K1e=Us,zc=sl,ej=Wi,w3=v3,G1e=K1e.assert;function oc(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,w3.call(this,"edwards",t),this.a=new zc(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new zc(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new zc(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),G1e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}ej(oc,w3);var J1e=oc;oc.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};oc.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};oc.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};oc.prototype.pointFromX=function(e,r){e=new zc(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};oc.prototype.pointFromY=function(e,r){e=new zc(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};oc.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Rr(t,e,r,n,i){w3.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new zc(e,16),this.y=new zc(r,16),this.z=n?new zc(n,16):this.curve.one,this.t=i&&new zc(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ej(Rr,w3.BasePoint);oc.prototype.pointFromJSON=function(e){return Rr.fromJSON(this,e)};oc.prototype.point=function(e,r,n,i){return new Rr(this,e,r,n,i)};Rr.fromJSON=function(e,r){return new Rr(e,r[0],r[1],r[2])};Rr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Rr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Rr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),c=i.redSub(r),l=s.redMul(a),h=o.redMul(c),p=s.redMul(c),v=a.redMul(o);return this.curve.point(l,h,v,p)};Rr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,c,l;if(this.curve.twisted){a=this.curve._mulA(r);var h=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(h.redSub(this.curve.two)),s=h.redMul(a.redSub(n)),o=h.redSqr().redSub(h).redSub(h)):(c=this.z.redSqr(),l=h.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(l),s=h.redMul(a.redSub(n)),o=h.redMul(l))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(l),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(l);return this.curve.point(i,s,o)};Rr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Rr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),c=s.redAdd(i),l=n.redAdd(r),h=o.redMul(a),p=c.redMul(l),v=o.redMul(l),b=a.redMul(c);return this.curve.point(h,p,b,v)};Rr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),c=n.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),h=r.redMul(a).redMul(l),p,v;return this.curve.twisted?(p=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),v=a.redMul(c)):(p=r.redMul(c).redMul(s.redSub(i)),v=this.curve._mulC(a).redMul(c)),this.curve.point(h,p,v)};Rr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Rr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Rr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Rr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Rr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Rr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Rr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Rr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Rr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Rr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Rr.prototype.toP=Rr.prototype.normalize;Rr.prototype.mixedAdd=Rr.prototype.add;(function(t){var e=t;e.base=v3,e.short=H1e,e.mont=V1e,e.edwards=J1e})(o9);var b3={},_3={},Gt={},Q1e=uh,Y1e=Wi;Gt.inherits=Y1e;function Z1e(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function X1e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Z1e(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Gt.toArray=X1e;function ege(t){for(var e="",r=0;r<t.length;r++)e+=rj(t[r].toString(16));return e}Gt.toHex=ege;function tj(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Gt.htonl=tj;function tge(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=tj(i)),r+=nj(i.toString(16))}return r}Gt.toHex32=tge;function rj(t){return t.length===1?"0"+t:t}Gt.zero2=rj;function nj(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Gt.zero8=nj;function rge(t,e,r,n){var i=r-e;Q1e(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}Gt.join32=rge;function nge(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Gt.split32=nge;function ige(t,e){return t>>>e|t<<32-e}Gt.rotr32=ige;function sge(t,e){return t<<e|t>>>32-e}Gt.rotl32=sge;function oge(t,e){return t+e>>>0}Gt.sum32=oge;function age(t,e,r){return t+e+r>>>0}Gt.sum32_3=age;function cge(t,e,r,n){return t+e+r+n>>>0}Gt.sum32_4=cge;function lge(t,e,r,n,i){return t+e+r+n+i>>>0}Gt.sum32_5=lge;function uge(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Gt.sum64=uge;function fge(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Gt.sum64_hi=fge;function hge(t,e,r,n){var i=e+n;return i>>>0}Gt.sum64_lo=hge;function dge(t,e,r,n,i,s,o,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var h=t+r+i+o+c;return h>>>0}Gt.sum64_4_hi=dge;function pge(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}Gt.sum64_4_lo=pge;function gge(t,e,r,n,i,s,o,a,c,l){var h=0,p=e;p=p+n>>>0,h+=p<e?1:0,p=p+s>>>0,h+=p<s?1:0,p=p+a>>>0,h+=p<a?1:0,p=p+l>>>0,h+=p<l?1:0;var v=t+r+i+o+c+h;return v>>>0}Gt.sum64_5_hi=gge;function mge(t,e,r,n,i,s,o,a,c,l){var h=e+n+s+a+l;return h>>>0}Gt.sum64_5_lo=mge;function vge(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Gt.rotr64_hi=vge;function yge(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Gt.rotr64_lo=yge;function wge(t,e,r){return t>>>r}Gt.shr64_hi=wge;function bge(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Gt.shr64_lo=bge;var K0={},JR=Gt,_ge=uh;function E3(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}K0.BlockHash=E3;E3.prototype.update=function(e,r){if(e=JR.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=JR.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};E3.prototype.digest=function(e){return this.update(this._pad()),_ge(this.pending===null),this._digest(e)};E3.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var G0={},ac={},Ege=Gt,Ha=Ege.rotr32;function Sge(t,e,r,n){if(t===0)return ij(e,r,n);if(t===1||t===3)return oj(e,r,n);if(t===2)return sj(e,r,n)}ac.ft_1=Sge;function ij(t,e,r){return t&e^~t&r}ac.ch32=ij;function sj(t,e,r){return t&e^t&r^e&r}ac.maj32=sj;function oj(t,e,r){return t^e^r}ac.p32=oj;function xge(t){return Ha(t,2)^Ha(t,13)^Ha(t,22)}ac.s0_256=xge;function Age(t){return Ha(t,6)^Ha(t,11)^Ha(t,25)}ac.s1_256=Age;function Ige(t){return Ha(t,7)^Ha(t,18)^t>>>3}ac.g0_256=Ige;function Cge(t){return Ha(t,17)^Ha(t,19)^t>>>10}ac.g1_256=Cge;var f0=Gt,Mge=K0,Rge=ac,S5=f0.rotl32,Hp=f0.sum32,Pge=f0.sum32_5,kge=Rge.ft_1,aj=Mge.BlockHash,Oge=[1518500249,1859775393,2400959708,3395469782];function Xa(){if(!(this instanceof Xa))return new Xa;aj.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}f0.inherits(Xa,aj);var Tge=Xa;Xa.blockSize=512;Xa.outSize=160;Xa.hmacStrength=80;Xa.padLength=64;Xa.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=S5(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),p=Pge(S5(s,5),kge(h,o,a,c),l,n[i],Oge[h]);l=c,c=a,a=S5(o,30),o=s,s=p}this.h[0]=Hp(this.h[0],s),this.h[1]=Hp(this.h[1],o),this.h[2]=Hp(this.h[2],a),this.h[3]=Hp(this.h[3],c),this.h[4]=Hp(this.h[4],l)};Xa.prototype._digest=function(e){return e==="hex"?f0.toHex32(this.h,"big"):f0.split32(this.h,"big")};var h0=Gt,Nge=K0,J0=ac,$ge=uh,No=h0.sum32,Dge=h0.sum32_4,Lge=h0.sum32_5,Bge=J0.ch32,Fge=J0.maj32,jge=J0.s0_256,Uge=J0.s1_256,zge=J0.g0_256,qge=J0.g1_256,cj=Nge.BlockHash,Hge=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ec(){if(!(this instanceof ec))return new ec;cj.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Hge,this.W=new Array(64)}h0.inherits(ec,cj);var lj=ec;ec.blockSize=512;ec.outSize=256;ec.hmacStrength=192;ec.padLength=64;ec.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Dge(qge(n[i-2]),n[i-7],zge(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],h=this.h[5],p=this.h[6],v=this.h[7];for($ge(this.k.length===n.length),i=0;i<n.length;i++){var b=Lge(v,Uge(l),Bge(l,h,p),this.k[i],n[i]),S=No(jge(s),Fge(s,o,a));v=p,p=h,h=l,l=No(c,b),c=a,a=o,o=s,s=No(b,S)}this.h[0]=No(this.h[0],s),this.h[1]=No(this.h[1],o),this.h[2]=No(this.h[2],a),this.h[3]=No(this.h[3],c),this.h[4]=No(this.h[4],l),this.h[5]=No(this.h[5],h),this.h[6]=No(this.h[6],p),this.h[7]=No(this.h[7],v)};ec.prototype._digest=function(e){return e==="hex"?h0.toHex32(this.h,"big"):h0.split32(this.h,"big")};var rE=Gt,uj=lj;function Xc(){if(!(this instanceof Xc))return new Xc;uj.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}rE.inherits(Xc,uj);var Wge=Xc;Xc.blockSize=512;Xc.outSize=224;Xc.hmacStrength=192;Xc.padLength=64;Xc.prototype._digest=function(e){return e==="hex"?rE.toHex32(this.h.slice(0,7),"big"):rE.split32(this.h.slice(0,7),"big")};var fs=Gt,Vge=K0,Kge=uh,Wa=fs.rotr64_hi,Va=fs.rotr64_lo,fj=fs.shr64_hi,hj=fs.shr64_lo,xl=fs.sum64,x5=fs.sum64_hi,A5=fs.sum64_lo,Gge=fs.sum64_4_hi,Jge=fs.sum64_4_lo,Qge=fs.sum64_5_hi,Yge=fs.sum64_5_lo,dj=Vge.BlockHash,Zge=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ea(){if(!(this instanceof ea))return new ea;dj.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Zge,this.W=new Array(160)}fs.inherits(ea,dj);var pj=ea;ea.blockSize=1024;ea.outSize=512;ea.hmacStrength=192;ea.padLength=128;ea.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=lme(n[i-4],n[i-3]),o=ume(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],l=ame(n[i-30],n[i-29]),h=cme(n[i-30],n[i-29]),p=n[i-32],v=n[i-31];n[i]=Gge(s,o,a,c,l,h,p,v),n[i+1]=Jge(s,o,a,c,l,h,p,v)}};ea.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],h=this.h[6],p=this.h[7],v=this.h[8],b=this.h[9],S=this.h[10],T=this.h[11],B=this.h[12],R=this.h[13],P=this.h[14],O=this.h[15];Kge(this.k.length===n.length);for(var L=0;L<n.length;L+=2){var D=P,q=O,M=sme(v,b),H=ome(v,b),te=Xge(v,b,S,T,B),oe=eme(v,b,S,T,B,R),K=this.k[L],k=this.k[L+1],g=n[L],f=n[L+1],m=Qge(D,q,M,H,te,oe,K,k,g,f),_=Yge(D,q,M,H,te,oe,K,k,g,f);D=nme(i,s),q=ime(i,s),M=tme(i,s,o,a,c),H=rme(i,s,o,a,c,l);var I=x5(D,q,M,H),C=A5(D,q,M,H);P=B,O=R,B=S,R=T,S=v,T=b,v=x5(h,p,m,_),b=A5(p,p,m,_),h=c,p=l,c=o,l=a,o=i,a=s,i=x5(m,_,I,C),s=A5(m,_,I,C)}xl(this.h,0,i,s),xl(this.h,2,o,a),xl(this.h,4,c,l),xl(this.h,6,h,p),xl(this.h,8,v,b),xl(this.h,10,S,T),xl(this.h,12,B,R),xl(this.h,14,P,O)};ea.prototype._digest=function(e){return e==="hex"?fs.toHex32(this.h,"big"):fs.split32(this.h,"big")};function Xge(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function eme(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function tme(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function rme(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function nme(t,e){var r=Wa(t,e,28),n=Wa(e,t,2),i=Wa(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function ime(t,e){var r=Va(t,e,28),n=Va(e,t,2),i=Va(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function sme(t,e){var r=Wa(t,e,14),n=Wa(t,e,18),i=Wa(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function ome(t,e){var r=Va(t,e,14),n=Va(t,e,18),i=Va(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function ame(t,e){var r=Wa(t,e,1),n=Wa(t,e,8),i=fj(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function cme(t,e){var r=Va(t,e,1),n=Va(t,e,8),i=hj(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function lme(t,e){var r=Wa(t,e,19),n=Wa(e,t,29),i=fj(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function ume(t,e){var r=Va(t,e,19),n=Va(e,t,29),i=hj(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var nE=Gt,gj=pj;function el(){if(!(this instanceof el))return new el;gj.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}nE.inherits(el,gj);var fme=el;el.blockSize=1024;el.outSize=384;el.hmacStrength=192;el.padLength=128;el.prototype._digest=function(e){return e==="hex"?nE.toHex32(this.h.slice(0,12),"big"):nE.split32(this.h.slice(0,12),"big")};G0.sha1=Tge;G0.sha224=Wge;G0.sha256=lj;G0.sha384=fme;G0.sha512=pj;var mj={},Vf=Gt,hme=K0,Ry=Vf.rotl32,QR=Vf.sum32,Wp=Vf.sum32_3,YR=Vf.sum32_4,vj=hme.BlockHash;function tc(){if(!(this instanceof tc))return new tc;vj.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Vf.inherits(tc,vj);mj.ripemd160=tc;tc.blockSize=512;tc.outSize=160;tc.hmacStrength=192;tc.padLength=64;tc.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,l=i,h=s,p=o,v=a,b=0;b<80;b++){var S=QR(Ry(YR(n,ZR(b,i,s,o),e[gme[b]+r],dme(b)),vme[b]),a);n=a,a=o,o=Ry(s,10),s=i,i=S,S=QR(Ry(YR(c,ZR(79-b,l,h,p),e[mme[b]+r],pme(b)),yme[b]),v),c=v,v=p,p=Ry(h,10),h=l,l=S}S=Wp(this.h[1],s,p),this.h[1]=Wp(this.h[2],o,v),this.h[2]=Wp(this.h[3],a,c),this.h[3]=Wp(this.h[4],n,l),this.h[4]=Wp(this.h[0],i,h),this.h[0]=S};tc.prototype._digest=function(e){return e==="hex"?Vf.toHex32(this.h,"little"):Vf.split32(this.h,"little")};function ZR(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function dme(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function pme(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var gme=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mme=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],vme=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yme=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],wme=Gt,bme=uh;function d0(t,e,r){if(!(this instanceof d0))return new d0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(wme.toArray(e,r))}var _me=d0;d0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),bme(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};d0.prototype.update=function(e,r){return this.inner.update(e,r),this};d0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Gt,e.common=K0,e.sha=G0,e.ripemd=mj,e.hmac=_me,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(_3);var I5,XR;function Eme(){return XR||(XR=1,I5={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),I5}(function(t){var e=t,r=_3,n=o9,i=Us,s=i.assert;function o(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,h){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var p=new o(h);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:p}),p}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=Eme()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(b3);var Sme=_3,Nf=i9,yj=uh;function vu(t){if(!(this instanceof vu))return new vu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Nf.toArray(t.entropy,t.entropyEnc||"hex"),r=Nf.toArray(t.nonce,t.nonceEnc||"hex"),n=Nf.toArray(t.pers,t.persEnc||"hex");yj(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var xme=vu;vu.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};vu.prototype._hmac=function(){return new Sme.hmac(this.hash,this.K)};vu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};vu.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Nf.toArray(e,r),n=Nf.toArray(n,i),yj(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};vu.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Nf.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Nf.encode(o,r)};var Ame=sl,Ime=Us,iE=Ime.assert;function Ei(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Cme=Ei;Ei.fromPublic=function(e,r,n){return r instanceof Ei?r:new Ei(e,{pub:r,pubEnc:n})};Ei.fromPrivate=function(e,r,n){return r instanceof Ei?r:new Ei(e,{priv:r,privEnc:n})};Ei.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ei.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ei.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ei.prototype._importPrivate=function(e,r){this.priv=new Ame(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ei.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?iE(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&iE(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ei.prototype.derive=function(e){return e.validate()||iE(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ei.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ei.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Ei.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var uw=sl,c9=Us,Mme=c9.assert;function S3(t,e){if(t instanceof S3)return t;this._importDER(t,e)||(Mme(t.r&&t.s,"Signature without r or s"),this.r=new uw(t.r,16),this.s=new uw(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Rme=S3;function Pme(){this.place=0}function C5(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function eP(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}S3.prototype._importDER=function(e,r){e=c9.toArray(e,r);var n=new Pme;if(e[n.place++]!==48)return!1;var i=C5(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=C5(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=C5(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new uw(o),this.s=new uw(c),this.recoveryParam=null,!0};function M5(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}S3.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=eP(r),n=eP(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];M5(i,r.length),i=i.concat(r),i.push(2),M5(i,n.length);var s=i.concat(n),o=[48];return M5(o,s.length),o=o.concat(s),c9.encode(o,e)};var Jo=sl,wj=xme,kme=Us,R5=b3,Ome=ZF,pf=kme.assert,l9=Cme,x3=Rme;function Eo(t){if(!(this instanceof Eo))return new Eo(t);typeof t=="string"&&(pf(Object.prototype.hasOwnProperty.call(R5,t),"Unknown curve "+t),t=R5[t]),t instanceof R5.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Tme=Eo;Eo.prototype.keyPair=function(e){return new l9(this,e)};Eo.prototype.keyFromPrivate=function(e,r){return l9.fromPrivate(this,e,r)};Eo.prototype.keyFromPublic=function(e,r){return l9.fromPublic(this,e,r)};Eo.prototype.genKeyPair=function(e){e||(e={});for(var r=new wj({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Ome(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Jo(2));;){var s=new Jo(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Eo.prototype._truncateToN=function(e,r,n){var i;if(Jo.isBN(e)||typeof e=="number")e=new Jo(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Jo(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Jo(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Eo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Jo.isBN(e)){pf(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),pf(e.length>>>0===e.length);for(var s=0;s<e.length;s++)pf((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),pf(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);pf(new Jo(c).eq(e),"Can not sign message");for(var l=new wj({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new Jo(1)),p=0;;p++){var v=i.k?i.k(p):new Jo(l.generate(this.n.byteLength()));if(v=this._truncateToN(v,!0),!(v.cmpn(1)<=0||v.cmp(h)>=0)){var b=this.g.mul(v);if(!b.isInfinity()){var S=b.getX(),T=S.umod(this.n);if(T.cmpn(0)!==0){var B=v.invm(this.n).mul(T.mul(r.getPrivate()).iadd(e));if(B=B.umod(this.n),B.cmpn(0)!==0){var R=(b.getY().isOdd()?1:0)|(S.cmp(T)!==0?2:0);return i.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),R^=1),new x3({r:T,s:B,recoveryParam:R})}}}}}};Eo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new x3(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(o).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(l,n.getPublic(),h),p.isInfinity()?!1:p.eqXToP(o)):(p=this.g.mulAdd(l,n.getPublic(),h),p.isInfinity()?!1:p.getX().umod(this.n).cmp(o)===0)};Eo.prototype.recoverPubKey=function(t,e,r,n){pf((3&r)===r,"The recovery param is more than two bits"),e=new x3(e,n);var i=this.n,s=new Jo(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var h=e.r.invm(i),p=i.sub(s).mul(h).umod(i),v=a.mul(h).umod(i);return this.g.mulAdd(p,o,v)};Eo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new x3(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Am=Us,bj=Am.assert,tP=Am.parseBytes,Q0=Am.cachedProperty;function Gn(t,e){this.eddsa=t,this._secret=tP(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=tP(e.pub)}Gn.fromPublic=function(e,r){return r instanceof Gn?r:new Gn(e,{pub:r})};Gn.fromSecret=function(e,r){return r instanceof Gn?r:new Gn(e,{secret:r})};Gn.prototype.secret=function(){return this._secret};Q0(Gn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Q0(Gn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Q0(Gn,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Q0(Gn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Q0(Gn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Q0(Gn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Gn.prototype.sign=function(e){return bj(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Gn.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Gn.prototype.getSecret=function(e){return bj(this._secret,"KeyPair is public only"),Am.encode(this.secret(),e)};Gn.prototype.getPublic=function(e){return Am.encode(this.pubBytes(),e)};var Nme=Gn,$me=sl,A3=Us,rP=A3.assert,I3=A3.cachedProperty,Dme=A3.parseBytes;function fh(t,e){this.eddsa=t,typeof e!="object"&&(e=Dme(e)),Array.isArray(e)&&(rP(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),rP(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof $me&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}I3(fh,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});I3(fh,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});I3(fh,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});I3(fh,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});fh.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};fh.prototype.toHex=function(){return A3.encode(this.toBytes(),"hex").toUpperCase()};var Lme=fh,Bme=_3,Fme=b3,p0=Us,jme=p0.assert,_j=p0.parseBytes,Ej=Nme,nP=Lme;function hs(t){if(jme(t==="ed25519","only tested with ed25519 so far"),!(this instanceof hs))return new hs(t);t=Fme[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Bme.sha512}var Ume=hs;hs.prototype.sign=function(e,r){e=_j(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};hs.prototype.verify=function(e,r,n){if(e=_j(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};hs.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return p0.intFromLE(e.digest()).umod(this.curve.n)};hs.prototype.keyFromPublic=function(e){return Ej.fromPublic(this,e)};hs.prototype.keyFromSecret=function(e){return Ej.fromSecret(this,e)};hs.prototype.makeSignature=function(e){return e instanceof nP?e:new nP(this,e)};hs.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};hs.prototype.decodePoint=function(e){e=p0.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=p0.intFromLE(n);return this.curve.pointFromY(s,i)};hs.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};hs.prototype.decodeInt=function(e){return p0.intFromLE(e)};hs.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=j1e.version,e.utils=Us,e.rand=ZF,e.curve=o9,e.curves=b3,e.ec=Tme,e.eddsa=Ume})(QF);var u9={},Sj={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Nt,r=js;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var h=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[h++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(h=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,h,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[h++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,h=this._bufferLength,p=l/536870912|0,v=l<<3,b=l%128<112?128:256;this._buffer[h]=128;for(var S=h+1;S<b-8;S++)this._buffer[S]=0;e.writeUint32BE(p,this._buffer,b-8),e.writeUint32BE(v,this._buffer,b-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,b),this._finished=!0}for(var S=0;S<this.digestLength/8;S++)e.writeUint32BE(this._stateHi[S],c,S*8),e.writeUint32BE(this._stateLo[S],c,S*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,l,h,p,v,b){for(var S=l[0],T=l[1],B=l[2],R=l[3],P=l[4],O=l[5],L=l[6],D=l[7],q=h[0],M=h[1],H=h[2],te=h[3],oe=h[4],K=h[5],k=h[6],g=h[7],f,m,_,I,C,A,w,y;b>=128;){for(var E=0;E<16;E++){var V=8*E+v;a[E]=e.readUint32BE(p,V),c[E]=e.readUint32BE(p,V+4)}for(var E=0;E<80;E++){var ce=S,U=T,Z=B,W=R,Y=P,ee=O,$=L,z=D,J=q,ae=M,fe=H,ye=te,be=oe,Ee=K,je=k,Ue=g;if(f=D,m=g,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=(P>>>14|oe<<18)^(P>>>18|oe<<14)^(oe>>>9|P<<23),m=(oe>>>14|P<<18)^(oe>>>18|P<<14)^(P>>>9|oe<<23),C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,f=P&O^~P&L,m=oe&K^~oe&k,C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,f=i[E*2],m=i[E*2+1],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,f=a[E%16],m=c[E%16],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,_=w&65535|y<<16,I=C&65535|A<<16,f=_,m=I,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=(S>>>28|q<<4)^(q>>>2|S<<30)^(q>>>7|S<<25),m=(q>>>28|S<<4)^(S>>>2|q<<30)^(S>>>7|q<<25),C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,f=S&T^S&B^T&B,m=q&M^q&H^M&H,C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,z=w&65535|y<<16,Ue=C&65535|A<<16,f=W,m=ye,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=_,m=I,C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,W=w&65535|y<<16,ye=C&65535|A<<16,T=ce,B=U,R=Z,P=W,O=Y,L=ee,D=$,S=z,M=J,H=ae,te=fe,oe=ye,K=be,k=Ee,g=je,q=Ue,E%16===15)for(var V=0;V<16;V++)f=a[V],m=c[V],C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=a[(V+9)%16],m=c[(V+9)%16],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,_=a[(V+1)%16],I=c[(V+1)%16],f=(_>>>1|I<<31)^(_>>>8|I<<24)^_>>>7,m=(I>>>1|_<<31)^(I>>>8|_<<24)^(I>>>7|_<<25),C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,_=a[(V+14)%16],I=c[(V+14)%16],f=(_>>>19|I<<13)^(I>>>29|_<<3)^_>>>6,m=(I>>>19|_<<13)^(_>>>29|I<<3)^(I>>>6|_<<26),C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,a[V]=w&65535|y<<16,c[V]=C&65535|A<<16}f=S,m=q,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[0],m=h[0],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[0]=S=w&65535|y<<16,h[0]=q=C&65535|A<<16,f=T,m=M,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[1],m=h[1],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[1]=T=w&65535|y<<16,h[1]=M=C&65535|A<<16,f=B,m=H,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[2],m=h[2],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[2]=B=w&65535|y<<16,h[2]=H=C&65535|A<<16,f=R,m=te,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[3],m=h[3],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[3]=R=w&65535|y<<16,h[3]=te=C&65535|A<<16,f=P,m=oe,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[4],m=h[4],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[4]=P=w&65535|y<<16,h[4]=oe=C&65535|A<<16,f=O,m=K,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[5],m=h[5],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[5]=O=w&65535|y<<16,h[5]=K=C&65535|A<<16,f=L,m=k,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[6],m=h[6],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[6]=L=w&65535|y<<16,h[6]=k=C&65535|A<<16,f=D,m=g,C=m&65535,A=m>>>16,w=f&65535,y=f>>>16,f=l[7],m=h[7],C+=m&65535,A+=m>>>16,w+=f&65535,y+=f>>>16,A+=C>>>16,w+=A>>>16,y+=w>>>16,l[7]=D=w&65535|y<<16,h[7]=g=C&65535|A<<16,v+=128,b-=128}return v}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(Sj);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=Mu,r=Sj,n=js;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(W){const Y=new Float64Array(16);if(W)for(let ee=0;ee<W.length;ee++)Y[ee]=W[ee];return Y}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function b(W,Y){for(let ee=0;ee<16;ee++)W[ee]=Y[ee]|0}function S(W){let Y=1;for(let ee=0;ee<16;ee++){let $=W[ee]+Y+65535;Y=Math.floor($/65536),W[ee]=$-Y*65536}W[0]+=Y-1+37*(Y-1)}function T(W,Y,ee){const $=~(ee-1);for(let z=0;z<16;z++){const J=$&(W[z]^Y[z]);W[z]^=J,Y[z]^=J}}function B(W,Y){const ee=i(),$=i();for(let z=0;z<16;z++)$[z]=Y[z];S($),S($),S($);for(let z=0;z<2;z++){ee[0]=$[0]-65517;for(let ae=1;ae<15;ae++)ee[ae]=$[ae]-65535-(ee[ae-1]>>16&1),ee[ae-1]&=65535;ee[15]=$[15]-32767-(ee[14]>>16&1);const J=ee[15]>>16&1;ee[14]&=65535,T($,ee,1-J)}for(let z=0;z<16;z++)W[2*z]=$[z]&255,W[2*z+1]=$[z]>>8}function R(W,Y){let ee=0;for(let $=0;$<32;$++)ee|=W[$]^Y[$];return(1&ee-1>>>8)-1}function P(W,Y){const ee=new Uint8Array(32),$=new Uint8Array(32);return B(ee,W),B($,Y),R(ee,$)}function O(W){const Y=new Uint8Array(32);return B(Y,W),Y[0]&1}function L(W,Y){for(let ee=0;ee<16;ee++)W[ee]=Y[2*ee]+(Y[2*ee+1]<<8);W[15]&=32767}function D(W,Y,ee){for(let $=0;$<16;$++)W[$]=Y[$]+ee[$]}function q(W,Y,ee){for(let $=0;$<16;$++)W[$]=Y[$]-ee[$]}function M(W,Y,ee){let $,z,J=0,ae=0,fe=0,ye=0,be=0,Ee=0,je=0,Ue=0,Ne=0,Pe=0,Me=0,ke=0,$e=0,Ce=0,Oe=0,G=0,N=0,F=0,X=0,ie=0,ue=0,de=0,_e=0,Ie=0,De=0,Fe=0,Be=0,ct=0,gt=0,mt=0,yt=0,Je=ee[0],We=ee[1],Qe=ee[2],Ye=ee[3],Ke=ee[4],Ve=ee[5],nt=ee[6],it=ee[7],Ze=ee[8],st=ee[9],Xe=ee[10],tt=ee[11],et=ee[12],qe=ee[13],ot=ee[14],at=ee[15];$=Y[0],J+=$*Je,ae+=$*We,fe+=$*Qe,ye+=$*Ye,be+=$*Ke,Ee+=$*Ve,je+=$*nt,Ue+=$*it,Ne+=$*Ze,Pe+=$*st,Me+=$*Xe,ke+=$*tt,$e+=$*et,Ce+=$*qe,Oe+=$*ot,G+=$*at,$=Y[1],ae+=$*Je,fe+=$*We,ye+=$*Qe,be+=$*Ye,Ee+=$*Ke,je+=$*Ve,Ue+=$*nt,Ne+=$*it,Pe+=$*Ze,Me+=$*st,ke+=$*Xe,$e+=$*tt,Ce+=$*et,Oe+=$*qe,G+=$*ot,N+=$*at,$=Y[2],fe+=$*Je,ye+=$*We,be+=$*Qe,Ee+=$*Ye,je+=$*Ke,Ue+=$*Ve,Ne+=$*nt,Pe+=$*it,Me+=$*Ze,ke+=$*st,$e+=$*Xe,Ce+=$*tt,Oe+=$*et,G+=$*qe,N+=$*ot,F+=$*at,$=Y[3],ye+=$*Je,be+=$*We,Ee+=$*Qe,je+=$*Ye,Ue+=$*Ke,Ne+=$*Ve,Pe+=$*nt,Me+=$*it,ke+=$*Ze,$e+=$*st,Ce+=$*Xe,Oe+=$*tt,G+=$*et,N+=$*qe,F+=$*ot,X+=$*at,$=Y[4],be+=$*Je,Ee+=$*We,je+=$*Qe,Ue+=$*Ye,Ne+=$*Ke,Pe+=$*Ve,Me+=$*nt,ke+=$*it,$e+=$*Ze,Ce+=$*st,Oe+=$*Xe,G+=$*tt,N+=$*et,F+=$*qe,X+=$*ot,ie+=$*at,$=Y[5],Ee+=$*Je,je+=$*We,Ue+=$*Qe,Ne+=$*Ye,Pe+=$*Ke,Me+=$*Ve,ke+=$*nt,$e+=$*it,Ce+=$*Ze,Oe+=$*st,G+=$*Xe,N+=$*tt,F+=$*et,X+=$*qe,ie+=$*ot,ue+=$*at,$=Y[6],je+=$*Je,Ue+=$*We,Ne+=$*Qe,Pe+=$*Ye,Me+=$*Ke,ke+=$*Ve,$e+=$*nt,Ce+=$*it,Oe+=$*Ze,G+=$*st,N+=$*Xe,F+=$*tt,X+=$*et,ie+=$*qe,ue+=$*ot,de+=$*at,$=Y[7],Ue+=$*Je,Ne+=$*We,Pe+=$*Qe,Me+=$*Ye,ke+=$*Ke,$e+=$*Ve,Ce+=$*nt,Oe+=$*it,G+=$*Ze,N+=$*st,F+=$*Xe,X+=$*tt,ie+=$*et,ue+=$*qe,de+=$*ot,_e+=$*at,$=Y[8],Ne+=$*Je,Pe+=$*We,Me+=$*Qe,ke+=$*Ye,$e+=$*Ke,Ce+=$*Ve,Oe+=$*nt,G+=$*it,N+=$*Ze,F+=$*st,X+=$*Xe,ie+=$*tt,ue+=$*et,de+=$*qe,_e+=$*ot,Ie+=$*at,$=Y[9],Pe+=$*Je,Me+=$*We,ke+=$*Qe,$e+=$*Ye,Ce+=$*Ke,Oe+=$*Ve,G+=$*nt,N+=$*it,F+=$*Ze,X+=$*st,ie+=$*Xe,ue+=$*tt,de+=$*et,_e+=$*qe,Ie+=$*ot,De+=$*at,$=Y[10],Me+=$*Je,ke+=$*We,$e+=$*Qe,Ce+=$*Ye,Oe+=$*Ke,G+=$*Ve,N+=$*nt,F+=$*it,X+=$*Ze,ie+=$*st,ue+=$*Xe,de+=$*tt,_e+=$*et,Ie+=$*qe,De+=$*ot,Fe+=$*at,$=Y[11],ke+=$*Je,$e+=$*We,Ce+=$*Qe,Oe+=$*Ye,G+=$*Ke,N+=$*Ve,F+=$*nt,X+=$*it,ie+=$*Ze,ue+=$*st,de+=$*Xe,_e+=$*tt,Ie+=$*et,De+=$*qe,Fe+=$*ot,Be+=$*at,$=Y[12],$e+=$*Je,Ce+=$*We,Oe+=$*Qe,G+=$*Ye,N+=$*Ke,F+=$*Ve,X+=$*nt,ie+=$*it,ue+=$*Ze,de+=$*st,_e+=$*Xe,Ie+=$*tt,De+=$*et,Fe+=$*qe,Be+=$*ot,ct+=$*at,$=Y[13],Ce+=$*Je,Oe+=$*We,G+=$*Qe,N+=$*Ye,F+=$*Ke,X+=$*Ve,ie+=$*nt,ue+=$*it,de+=$*Ze,_e+=$*st,Ie+=$*Xe,De+=$*tt,Fe+=$*et,Be+=$*qe,ct+=$*ot,gt+=$*at,$=Y[14],Oe+=$*Je,G+=$*We,N+=$*Qe,F+=$*Ye,X+=$*Ke,ie+=$*Ve,ue+=$*nt,de+=$*it,_e+=$*Ze,Ie+=$*st,De+=$*Xe,Fe+=$*tt,Be+=$*et,ct+=$*qe,gt+=$*ot,mt+=$*at,$=Y[15],G+=$*Je,N+=$*We,F+=$*Qe,X+=$*Ye,ie+=$*Ke,ue+=$*Ve,de+=$*nt,_e+=$*it,Ie+=$*Ze,De+=$*st,Fe+=$*Xe,Be+=$*tt,ct+=$*et,gt+=$*qe,mt+=$*ot,yt+=$*at,J+=38*N,ae+=38*F,fe+=38*X,ye+=38*ie,be+=38*ue,Ee+=38*de,je+=38*_e,Ue+=38*Ie,Ne+=38*De,Pe+=38*Fe,Me+=38*Be,ke+=38*ct,$e+=38*gt,Ce+=38*mt,Oe+=38*yt,z=1,$=J+z+65535,z=Math.floor($/65536),J=$-z*65536,$=ae+z+65535,z=Math.floor($/65536),ae=$-z*65536,$=fe+z+65535,z=Math.floor($/65536),fe=$-z*65536,$=ye+z+65535,z=Math.floor($/65536),ye=$-z*65536,$=be+z+65535,z=Math.floor($/65536),be=$-z*65536,$=Ee+z+65535,z=Math.floor($/65536),Ee=$-z*65536,$=je+z+65535,z=Math.floor($/65536),je=$-z*65536,$=Ue+z+65535,z=Math.floor($/65536),Ue=$-z*65536,$=Ne+z+65535,z=Math.floor($/65536),Ne=$-z*65536,$=Pe+z+65535,z=Math.floor($/65536),Pe=$-z*65536,$=Me+z+65535,z=Math.floor($/65536),Me=$-z*65536,$=ke+z+65535,z=Math.floor($/65536),ke=$-z*65536,$=$e+z+65535,z=Math.floor($/65536),$e=$-z*65536,$=Ce+z+65535,z=Math.floor($/65536),Ce=$-z*65536,$=Oe+z+65535,z=Math.floor($/65536),Oe=$-z*65536,$=G+z+65535,z=Math.floor($/65536),G=$-z*65536,J+=z-1+37*(z-1),z=1,$=J+z+65535,z=Math.floor($/65536),J=$-z*65536,$=ae+z+65535,z=Math.floor($/65536),ae=$-z*65536,$=fe+z+65535,z=Math.floor($/65536),fe=$-z*65536,$=ye+z+65535,z=Math.floor($/65536),ye=$-z*65536,$=be+z+65535,z=Math.floor($/65536),be=$-z*65536,$=Ee+z+65535,z=Math.floor($/65536),Ee=$-z*65536,$=je+z+65535,z=Math.floor($/65536),je=$-z*65536,$=Ue+z+65535,z=Math.floor($/65536),Ue=$-z*65536,$=Ne+z+65535,z=Math.floor($/65536),Ne=$-z*65536,$=Pe+z+65535,z=Math.floor($/65536),Pe=$-z*65536,$=Me+z+65535,z=Math.floor($/65536),Me=$-z*65536,$=ke+z+65535,z=Math.floor($/65536),ke=$-z*65536,$=$e+z+65535,z=Math.floor($/65536),$e=$-z*65536,$=Ce+z+65535,z=Math.floor($/65536),Ce=$-z*65536,$=Oe+z+65535,z=Math.floor($/65536),Oe=$-z*65536,$=G+z+65535,z=Math.floor($/65536),G=$-z*65536,J+=z-1+37*(z-1),W[0]=J,W[1]=ae,W[2]=fe,W[3]=ye,W[4]=be,W[5]=Ee,W[6]=je,W[7]=Ue,W[8]=Ne,W[9]=Pe,W[10]=Me,W[11]=ke,W[12]=$e,W[13]=Ce,W[14]=Oe,W[15]=G}function H(W,Y){M(W,Y,Y)}function te(W,Y){const ee=i();let $;for($=0;$<16;$++)ee[$]=Y[$];for($=253;$>=0;$--)H(ee,ee),$!==2&&$!==4&&M(ee,ee,Y);for($=0;$<16;$++)W[$]=ee[$]}function oe(W,Y){const ee=i();let $;for($=0;$<16;$++)ee[$]=Y[$];for($=250;$>=0;$--)H(ee,ee),$!==1&&M(ee,ee,Y);for($=0;$<16;$++)W[$]=ee[$]}function K(W,Y){const ee=i(),$=i(),z=i(),J=i(),ae=i(),fe=i(),ye=i(),be=i(),Ee=i();q(ee,W[1],W[0]),q(Ee,Y[1],Y[0]),M(ee,ee,Ee),D($,W[0],W[1]),D(Ee,Y[0],Y[1]),M($,$,Ee),M(z,W[3],Y[3]),M(z,z,l),M(J,W[2],Y[2]),D(J,J,J),q(ae,$,ee),q(fe,J,z),D(ye,J,z),D(be,$,ee),M(W[0],ae,fe),M(W[1],be,ye),M(W[2],ye,fe),M(W[3],ae,be)}function k(W,Y,ee){for(let $=0;$<4;$++)T(W[$],Y[$],ee)}function g(W,Y){const ee=i(),$=i(),z=i();te(z,Y[2]),M(ee,Y[0],z),M($,Y[1],z),B(W,$),W[31]^=O(ee)<<7}function f(W,Y,ee){b(W[0],o),b(W[1],a),b(W[2],a),b(W[3],o);for(let $=255;$>=0;--$){const z=ee[$/8|0]>>($&7)&1;k(W,Y,z),K(Y,W),K(W,W),k(W,Y,z)}}function m(W,Y){const ee=[i(),i(),i(),i()];b(ee[0],h),b(ee[1],p),b(ee[2],a),M(ee[3],h,p),f(W,ee,Y)}function _(W){if(W.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const Y=(0,r.hash)(W);Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(32),$=[i(),i(),i(),i()];m($,Y),g(ee,$);const z=new Uint8Array(64);return z.set(W),z.set(ee,32),{publicKey:ee,secretKey:z}}t.generateKeyPairFromSeed=_;function I(W){const Y=(0,e.randomBytes)(32,W),ee=_(Y);return(0,n.wipe)(Y),ee}t.generateKeyPair=I;function C(W){if(W.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(W.subarray(32))}t.extractPublicKeyFromSecretKey=C;const A=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function w(W,Y){let ee,$,z,J;for($=63;$>=32;--$){for(ee=0,z=$-32,J=$-12;z<J;++z)Y[z]+=ee-16*Y[$]*A[z-($-32)],ee=Math.floor((Y[z]+128)/256),Y[z]-=ee*256;Y[z]+=ee,Y[$]=0}for(ee=0,z=0;z<32;z++)Y[z]+=ee-(Y[31]>>4)*A[z],ee=Y[z]>>8,Y[z]&=255;for(z=0;z<32;z++)Y[z]-=ee*A[z];for($=0;$<32;$++)Y[$+1]+=Y[$]>>8,W[$]=Y[$]&255}function y(W){const Y=new Float64Array(64);for(let ee=0;ee<64;ee++)Y[ee]=W[ee];for(let ee=0;ee<64;ee++)W[ee]=0;w(W,Y)}function E(W,Y){const ee=new Float64Array(64),$=[i(),i(),i(),i()],z=(0,r.hash)(W.subarray(0,32));z[0]&=248,z[31]&=127,z[31]|=64;const J=new Uint8Array(64);J.set(z.subarray(32),32);const ae=new r.SHA512;ae.update(J.subarray(32)),ae.update(Y);const fe=ae.digest();ae.clean(),y(fe),m($,fe),g(J,$),ae.reset(),ae.update(J.subarray(0,32)),ae.update(W.subarray(32)),ae.update(Y);const ye=ae.digest();y(ye);for(let be=0;be<32;be++)ee[be]=fe[be];for(let be=0;be<32;be++)for(let Ee=0;Ee<32;Ee++)ee[be+Ee]+=ye[be]*z[Ee];return w(J.subarray(32),ee),J}t.sign=E;function V(W,Y){const ee=i(),$=i(),z=i(),J=i(),ae=i(),fe=i(),ye=i();return b(W[2],a),L(W[1],Y),H(z,W[1]),M(J,z,c),q(z,z,W[2]),D(J,W[2],J),H(ae,J),H(fe,ae),M(ye,fe,ae),M(ee,ye,z),M(ee,ee,J),oe(ee,ee),M(ee,ee,z),M(ee,ee,J),M(ee,ee,J),M(W[0],ee,J),H($,W[0]),M($,$,J),P($,z)&&M(W[0],W[0],v),H($,W[0]),M($,$,J),P($,z)?-1:(O(W[0])===Y[31]>>7&&q(W[0],o,W[0]),M(W[3],W[0],W[1]),0)}function ce(W,Y,ee){const $=new Uint8Array(32),z=[i(),i(),i(),i()],J=[i(),i(),i(),i()];if(ee.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(V(J,W))return!1;const ae=new r.SHA512;ae.update(ee.subarray(0,32)),ae.update(W),ae.update(Y);const fe=ae.digest();return y(fe),f(z,J,fe),m(J,ee.subarray(32)),K(z,J),g($,z),!R(ee,$)}t.verify=ce;function U(W){let Y=[i(),i(),i(),i()];if(V(Y,W))throw new Error("Ed25519: invalid public key");let ee=i(),$=i(),z=Y[1];D(ee,a,z),q($,a,z),te($,$),M(ee,ee,$);let J=new Uint8Array(32);return B(J,ee),J}t.convertPublicKeyToX25519=U;function Z(W){const Y=(0,r.hash)(W.subarray(0,32));Y[0]&=248,Y[31]&=127,Y[31]|=64;const ee=new Uint8Array(Y.subarray(0,32));return(0,n.wipe)(Y),ee}t.convertSecretKeyToX25519=Z})(u9);const zme="EdDSA",qme="JWT",fw=".",C3="base64url",xj="utf8",Aj="utf8",Hme=":",Wme="did",Vme="key",iP="base58btc",Kme="z",Gme="K36",Jme=32,Qme=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),Yme=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Kf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Yme(t)}catch{return t}}function tl(t){return typeof t=="string"?t:Qme(t)||""}function sP(t){return Kf(Kn(Wn(t,C3),xj))}function hw(t){return Kn(Wn(tl(t),xj),C3)}function Ij(t){const e=Wn(Gme,iP),r=Kme+Kn(p2([e,t]),iP);return[Wme,Vme,r].join(Hme)}function Zme(t){return Kn(t,C3)}function Xme(t){return Wn(t,C3)}function eve(t){return Wn([hw(t.header),hw(t.payload)].join(fw),Aj)}function tve(t){return[hw(t.header),hw(t.payload),Zme(t.signature)].join(fw)}function sE(t){const e=t.split(fw),r=sP(e[0]),n=sP(e[1]),i=Xme(e[2]),s=Wn(e.slice(0,2).join(fw),Aj);return{header:r,payload:n,signature:i,data:s}}function oP(t=Mu.randomBytes(Jme)){return u9.generateKeyPairFromSeed(t)}async function rve(t,e,r,n,i=He.fromMiliseconds(Date.now())){const s={alg:zme,typ:qme},o=Ij(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=eve({header:s,payload:c}),h=u9.sign(n.secretKey,l);return tve({header:s,payload:c,signature:h})}const nve={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var ive={};const sve=":";function M1(t){const[e,r]=t.split(sve);return{namespace:e,reference:r}}function aP(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function Cj(t,e){return t.includes(":")?[t]:e.chains||[]}var ove=Object.defineProperty,cP=Object.getOwnPropertySymbols,ave=Object.prototype.hasOwnProperty,cve=Object.prototype.propertyIsEnumerable,lP=(t,e,r)=>e in t?ove(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uP=(t,e)=>{for(var r in e||(e={}))ave.call(e,r)&&lP(t,r,e[r]);if(cP)for(var r of cP(e))cve.call(e,r)&&lP(t,r,e[r]);return t};const lve="ReactNative",Os={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},uve="js";function dw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Y0(){return!f3()&&!!ZS()&&navigator.product===lve}function Im(){return!dw()&&!!ZS()&&!!f3()}function Cm(){return Y0()?Os.reactNative:dw()?Os.node:Im()?Os.browser:Os.unknown}function fve(){var t;try{return Y0()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function hve(t,e){let r=_g.parse(t);return r=uP(uP({},r),e),t=_g.stringify(r),t}function Mj(){return OF()||{name:"",description:"",url:"",icons:[""]}}function dve(){if(Cm()===Os.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=Vde();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function pve(){var t;const e=Cm();return e===Os.browser?[e,((t=kF())==null?void 0:t.host)||"unknown"].join(":"):e}function Rj(t,e,r){const n=dve(),i=pve();return[[t,e].join("-"),[uve,r].join("-"),n,i].join("/")}function gve({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const c=r.split("?"),l=Rj(t,e,n),h={auth:i,ua:l,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},p=hve(c[1]||"",h);return c[0]+"?"+p}function _f(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Pj(t){return Object.fromEntries(t.entries())}function kj(t){return new Map(Object.entries(t))}function cf(t=He.FIVE_MINUTES,e){const r=He.toMiliseconds(t||He.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function Pd(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function Oj(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function mve(t){return Oj("topic",t)}function vve(t){return Oj("id",t)}function Tj(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Pn(t,e){return He.fromMiliseconds(Date.now()+He.toMiliseconds(t))}function Pl(t){return Date.now()>=He.toMiliseconds(t)}function Ht(t,e){return`${t}${e?`:${e}`:""}`}function g2(t=[],e=[]){return[...new Set([...t,...e])]}async function yve({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=wve(s,t,e),a=Cm();if(a===Os.browser){if(!((n=f3())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}o.startsWith("https://")||o.startsWith("http://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,_ve()?"_blank":"_self","noreferrer noopener")}else a===Os.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function wve(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Eve(n,!0)}`}else i=`${i}/wc?${n}`;return i}async function bve(t,e){let r="";try{if(Im()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function fP(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function hP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function f9(){return typeof process<"u"&&ive.IS_VITEST==="true"}function _ve(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Eve(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function Nj(t){return Buffer.from(t,"base64").toString("utf-8")}var $j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sve(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Dj={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=$j:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],p=[4,1024,262144,67108864],v=[1,256,65536,16777216],b=[6,1536,393216,100663296],S=[0,8,16,24],T=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],B=[224,256,384,512],R=[128,256],P=["hex","buffer","arrayBuffer","array","digest"],O={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(U){return Object.prototype.toString.call(U)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(U){return typeof U=="object"&&U.buffer&&U.buffer.constructor===ArrayBuffer});for(var L=function(U,Z,W){return function(Y){return new E(U,Z,U).update(Y)[W]()}},D=function(U,Z,W){return function(Y,ee){return new E(U,Z,ee).update(Y)[W]()}},q=function(U,Z,W){return function(Y,ee,$,z){return f["cshake"+U].update(Y,ee,$,z)[W]()}},M=function(U,Z,W){return function(Y,ee,$,z){return f["kmac"+U].update(Y,ee,$,z)[W]()}},H=function(U,Z,W,Y){for(var ee=0;ee<P.length;++ee){var $=P[ee];U[$]=Z(W,Y,$)}return U},te=function(U,Z){var W=L(U,Z,"hex");return W.create=function(){return new E(U,Z,U)},W.update=function(Y){return W.create().update(Y)},H(W,L,U,Z)},oe=function(U,Z){var W=D(U,Z,"hex");return W.create=function(Y){return new E(U,Z,Y)},W.update=function(Y,ee){return W.create(ee).update(Y)},H(W,D,U,Z)},K=function(U,Z){var W=O[U],Y=q(U,Z,"hex");return Y.create=function(ee,$,z){return!$&&!z?f["shake"+U].create(ee):new E(U,Z,ee).bytepad([$,z],W)},Y.update=function(ee,$,z,J){return Y.create($,z,J).update(ee)},H(Y,q,U,Z)},k=function(U,Z){var W=O[U],Y=M(U,Z,"hex");return Y.create=function(ee,$,z){return new V(U,Z,$).bytepad(["KMAC",z],W).bytepad([ee],W)},Y.update=function(ee,$,z,J){return Y.create(ee,z,J).update($)},H(Y,M,U,Z)},g=[{name:"keccak",padding:v,bits:B,createMethod:te},{name:"sha3",padding:b,bits:B,createMethod:te},{name:"shake",padding:h,bits:R,createMethod:oe},{name:"cshake",padding:p,bits:R,createMethod:K},{name:"kmac",padding:p,bits:R,createMethod:k}],f={},m=[],_=0;_<g.length;++_)for(var I=g[_],C=I.bits,A=0;A<C.length;++A){var w=I.name+"_"+C[A];if(m.push(w),f[w]=I.createMethod(C[A],I.padding),I.name!=="sha3"){var y=I.name+C[A];m.push(y),f[y]=f[w]}}function E(U,Z,W){this.blocks=[],this.s=[],this.padding=Z,this.outputBits=W,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(U<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=W>>5,this.extraBytes=(W&31)>>3;for(var Y=0;Y<50;++Y)this.s[Y]=0}E.prototype.update=function(U){if(this.finalized)throw new Error(r);var Z,W=typeof U;if(W!=="string"){if(W==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);Z=!0}for(var Y=this.blocks,ee=this.byteCount,$=U.length,z=this.blockCount,J=0,ae=this.s,fe,ye;J<$;){if(this.reset)for(this.reset=!1,Y[0]=this.block,fe=1;fe<z+1;++fe)Y[fe]=0;if(Z)for(fe=this.start;J<$&&fe<ee;++J)Y[fe>>2]|=U[J]<<S[fe++&3];else for(fe=this.start;J<$&&fe<ee;++J)ye=U.charCodeAt(J),ye<128?Y[fe>>2]|=ye<<S[fe++&3]:ye<2048?(Y[fe>>2]|=(192|ye>>6)<<S[fe++&3],Y[fe>>2]|=(128|ye&63)<<S[fe++&3]):ye<55296||ye>=57344?(Y[fe>>2]|=(224|ye>>12)<<S[fe++&3],Y[fe>>2]|=(128|ye>>6&63)<<S[fe++&3],Y[fe>>2]|=(128|ye&63)<<S[fe++&3]):(ye=65536+((ye&1023)<<10|U.charCodeAt(++J)&1023),Y[fe>>2]|=(240|ye>>18)<<S[fe++&3],Y[fe>>2]|=(128|ye>>12&63)<<S[fe++&3],Y[fe>>2]|=(128|ye>>6&63)<<S[fe++&3],Y[fe>>2]|=(128|ye&63)<<S[fe++&3]);if(this.lastByteIndex=fe,fe>=ee){for(this.start=fe-ee,this.block=Y[z],fe=0;fe<z;++fe)ae[fe]^=Y[fe];ce(ae),this.reset=!0}else this.start=fe}return this},E.prototype.encode=function(U,Z){var W=U&255,Y=1,ee=[W];for(U=U>>8,W=U&255;W>0;)ee.unshift(W),U=U>>8,W=U&255,++Y;return Z?ee.push(Y):ee.unshift(Y),this.update(ee),ee.length},E.prototype.encodeString=function(U){var Z,W=typeof U;if(W!=="string"){if(W==="object"){if(U===null)throw new Error(e);if(c&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!c||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);Z=!0}var Y=0,ee=U.length;if(Z)Y=ee;else for(var $=0;$<U.length;++$){var z=U.charCodeAt($);z<128?Y+=1:z<2048?Y+=2:z<55296||z>=57344?Y+=3:(z=65536+((z&1023)<<10|U.charCodeAt(++$)&1023),Y+=4)}return Y+=this.encode(Y*8),this.update(U),Y},E.prototype.bytepad=function(U,Z){for(var W=this.encode(Z),Y=0;Y<U.length;++Y)W+=this.encodeString(U[Y]);var ee=Z-W%Z,$=[];return $.length=ee,this.update($),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var U=this.blocks,Z=this.lastByteIndex,W=this.blockCount,Y=this.s;if(U[Z>>2]|=this.padding[Z&3],this.lastByteIndex===this.byteCount)for(U[0]=U[W],Z=1;Z<W+1;++Z)U[Z]=0;for(U[W-1]|=2147483648,Z=0;Z<W;++Z)Y[Z]^=U[Z];ce(Y)}},E.prototype.toString=E.prototype.hex=function(){this.finalize();for(var U=this.blockCount,Z=this.s,W=this.outputBlocks,Y=this.extraBytes,ee=0,$=0,z="",J;$<W;){for(ee=0;ee<U&&$<W;++ee,++$)J=Z[ee],z+=l[J>>4&15]+l[J&15]+l[J>>12&15]+l[J>>8&15]+l[J>>20&15]+l[J>>16&15]+l[J>>28&15]+l[J>>24&15];$%U===0&&(ce(Z),ee=0)}return Y&&(J=Z[ee],z+=l[J>>4&15]+l[J&15],Y>1&&(z+=l[J>>12&15]+l[J>>8&15]),Y>2&&(z+=l[J>>20&15]+l[J>>16&15])),z},E.prototype.arrayBuffer=function(){this.finalize();var U=this.blockCount,Z=this.s,W=this.outputBlocks,Y=this.extraBytes,ee=0,$=0,z=this.outputBits>>3,J;Y?J=new ArrayBuffer(W+1<<2):J=new ArrayBuffer(z);for(var ae=new Uint32Array(J);$<W;){for(ee=0;ee<U&&$<W;++ee,++$)ae[$]=Z[ee];$%U===0&&ce(Z)}return Y&&(ae[ee]=Z[ee],J=J.slice(0,z)),J},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.digest=E.prototype.array=function(){this.finalize();for(var U=this.blockCount,Z=this.s,W=this.outputBlocks,Y=this.extraBytes,ee=0,$=0,z=[],J,ae;$<W;){for(ee=0;ee<U&&$<W;++ee,++$)J=$<<2,ae=Z[ee],z[J]=ae&255,z[J+1]=ae>>8&255,z[J+2]=ae>>16&255,z[J+3]=ae>>24&255;$%U===0&&ce(Z)}return Y&&(J=$<<2,ae=Z[ee],z[J]=ae&255,Y>1&&(z[J+1]=ae>>8&255),Y>2&&(z[J+2]=ae>>16&255)),z};function V(U,Z,W){E.call(this,U,Z,W)}V.prototype=new E,V.prototype.finalize=function(){return this.encode(this.outputBits,!0),E.prototype.finalize.call(this)};var ce=function(U){var Z,W,Y,ee,$,z,J,ae,fe,ye,be,Ee,je,Ue,Ne,Pe,Me,ke,$e,Ce,Oe,G,N,F,X,ie,ue,de,_e,Ie,De,Fe,Be,ct,gt,mt,yt,Je,We,Qe,Ye,Ke,Ve,nt,it,Ze,st,Xe,tt,et,qe,ot,at,bt,_t,Et,ft,$t,$r,Dr,Lr,Br,cr;for(Y=0;Y<48;Y+=2)ee=U[0]^U[10]^U[20]^U[30]^U[40],$=U[1]^U[11]^U[21]^U[31]^U[41],z=U[2]^U[12]^U[22]^U[32]^U[42],J=U[3]^U[13]^U[23]^U[33]^U[43],ae=U[4]^U[14]^U[24]^U[34]^U[44],fe=U[5]^U[15]^U[25]^U[35]^U[45],ye=U[6]^U[16]^U[26]^U[36]^U[46],be=U[7]^U[17]^U[27]^U[37]^U[47],Ee=U[8]^U[18]^U[28]^U[38]^U[48],je=U[9]^U[19]^U[29]^U[39]^U[49],Z=Ee^(z<<1|J>>>31),W=je^(J<<1|z>>>31),U[0]^=Z,U[1]^=W,U[10]^=Z,U[11]^=W,U[20]^=Z,U[21]^=W,U[30]^=Z,U[31]^=W,U[40]^=Z,U[41]^=W,Z=ee^(ae<<1|fe>>>31),W=$^(fe<<1|ae>>>31),U[2]^=Z,U[3]^=W,U[12]^=Z,U[13]^=W,U[22]^=Z,U[23]^=W,U[32]^=Z,U[33]^=W,U[42]^=Z,U[43]^=W,Z=z^(ye<<1|be>>>31),W=J^(be<<1|ye>>>31),U[4]^=Z,U[5]^=W,U[14]^=Z,U[15]^=W,U[24]^=Z,U[25]^=W,U[34]^=Z,U[35]^=W,U[44]^=Z,U[45]^=W,Z=ae^(Ee<<1|je>>>31),W=fe^(je<<1|Ee>>>31),U[6]^=Z,U[7]^=W,U[16]^=Z,U[17]^=W,U[26]^=Z,U[27]^=W,U[36]^=Z,U[37]^=W,U[46]^=Z,U[47]^=W,Z=ye^(ee<<1|$>>>31),W=be^($<<1|ee>>>31),U[8]^=Z,U[9]^=W,U[18]^=Z,U[19]^=W,U[28]^=Z,U[29]^=W,U[38]^=Z,U[39]^=W,U[48]^=Z,U[49]^=W,Ue=U[0],Ne=U[1],Ze=U[11]<<4|U[10]>>>28,st=U[10]<<4|U[11]>>>28,de=U[20]<<3|U[21]>>>29,_e=U[21]<<3|U[20]>>>29,Dr=U[31]<<9|U[30]>>>23,Lr=U[30]<<9|U[31]>>>23,Ke=U[40]<<18|U[41]>>>14,Ve=U[41]<<18|U[40]>>>14,ct=U[2]<<1|U[3]>>>31,gt=U[3]<<1|U[2]>>>31,Pe=U[13]<<12|U[12]>>>20,Me=U[12]<<12|U[13]>>>20,Xe=U[22]<<10|U[23]>>>22,tt=U[23]<<10|U[22]>>>22,Ie=U[33]<<13|U[32]>>>19,De=U[32]<<13|U[33]>>>19,Br=U[42]<<2|U[43]>>>30,cr=U[43]<<2|U[42]>>>30,bt=U[5]<<30|U[4]>>>2,_t=U[4]<<30|U[5]>>>2,mt=U[14]<<6|U[15]>>>26,yt=U[15]<<6|U[14]>>>26,ke=U[25]<<11|U[24]>>>21,$e=U[24]<<11|U[25]>>>21,et=U[34]<<15|U[35]>>>17,qe=U[35]<<15|U[34]>>>17,Fe=U[45]<<29|U[44]>>>3,Be=U[44]<<29|U[45]>>>3,F=U[6]<<28|U[7]>>>4,X=U[7]<<28|U[6]>>>4,Et=U[17]<<23|U[16]>>>9,ft=U[16]<<23|U[17]>>>9,Je=U[26]<<25|U[27]>>>7,We=U[27]<<25|U[26]>>>7,Ce=U[36]<<21|U[37]>>>11,Oe=U[37]<<21|U[36]>>>11,ot=U[47]<<24|U[46]>>>8,at=U[46]<<24|U[47]>>>8,nt=U[8]<<27|U[9]>>>5,it=U[9]<<27|U[8]>>>5,ie=U[18]<<20|U[19]>>>12,ue=U[19]<<20|U[18]>>>12,$t=U[29]<<7|U[28]>>>25,$r=U[28]<<7|U[29]>>>25,Qe=U[38]<<8|U[39]>>>24,Ye=U[39]<<8|U[38]>>>24,G=U[48]<<14|U[49]>>>18,N=U[49]<<14|U[48]>>>18,U[0]=Ue^~Pe&ke,U[1]=Ne^~Me&$e,U[10]=F^~ie&de,U[11]=X^~ue&_e,U[20]=ct^~mt&Je,U[21]=gt^~yt&We,U[30]=nt^~Ze&Xe,U[31]=it^~st&tt,U[40]=bt^~Et&$t,U[41]=_t^~ft&$r,U[2]=Pe^~ke&Ce,U[3]=Me^~$e&Oe,U[12]=ie^~de&Ie,U[13]=ue^~_e&De,U[22]=mt^~Je&Qe,U[23]=yt^~We&Ye,U[32]=Ze^~Xe&et,U[33]=st^~tt&qe,U[42]=Et^~$t&Dr,U[43]=ft^~$r&Lr,U[4]=ke^~Ce&G,U[5]=$e^~Oe&N,U[14]=de^~Ie&Fe,U[15]=_e^~De&Be,U[24]=Je^~Qe&Ke,U[25]=We^~Ye&Ve,U[34]=Xe^~et&ot,U[35]=tt^~qe&at,U[44]=$t^~Dr&Br,U[45]=$r^~Lr&cr,U[6]=Ce^~G&Ue,U[7]=Oe^~N&Ne,U[16]=Ie^~Fe&F,U[17]=De^~Be&X,U[26]=Qe^~Ke&ct,U[27]=Ye^~Ve&gt,U[36]=et^~ot&nt,U[37]=qe^~at&it,U[46]=Dr^~Br&bt,U[47]=Lr^~cr&_t,U[8]=G^~Ue&Pe,U[9]=N^~Ne&Me,U[18]=Fe^~F&ie,U[19]=Be^~X&ue,U[28]=Ke^~ct&mt,U[29]=Ve^~gt&yt,U[38]=ot^~nt&Ze,U[39]=at^~it&st,U[48]=Br^~bt&Et,U[49]=cr^~_t&ft,U[0]^=T[Y],U[1]^=T[Y+1]};if(a)t.exports=f;else for(_=0;_<m.length;++_)i[m[_]]=f[m[_]]})()})(Dj);var xve=Dj.exports;const Ave="logger/5.7.0";let dP=!1,pP=!1;const m2={debug:1,default:2,info:2,warning:3,error:4,off:5};let gP=m2.default,P5=null;function Ive(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const mP=Ive();var oE;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(oE||(oE={}));var Ho;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ho||(Ho={}));const vP="0123456789abcdef";let si=class Rn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();m2[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(gP>m2[n])&&console.log.apply(console,r)}debug(...e){this._log(Rn.levels.DEBUG,e)}info(...e){this._log(Rn.levels.INFO,e)}warn(...e){this._log(Rn.levels.WARNING,e)}makeError(e,r,n){if(pP)return this.makeError("censored error",r,{});r||(r=Rn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let h="";for(let p=0;p<l.length;p++)h+=vP[l[p]>>4],h+=vP[l[p]&15];i.push(c+"=Uint8Array(0x"+h+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ho.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ho.CALL_EXCEPTION:case Ho.INSUFFICIENT_FUNDS:case Ho.MISSING_NEW:case Ho.NONCE_EXPIRED:case Ho.REPLACEMENT_UNDERPRICED:case Ho.TRANSACTION_REPLACED:case Ho.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Rn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){mP&&this.throwError("platform missing String.prototype.normalize",Rn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:mP})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Rn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Rn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Rn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return P5||(P5=new Rn(Ave)),P5}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),dP){if(!e)return;this.globalLogger().throwError("error censorship permanent",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}pP=!!e,dP=!!r}static setLogLevel(e){const r=m2[e.toLowerCase()];if(r==null){Rn.globalLogger().warn("invalid log level - "+e);return}gP=r}static from(e){return new Rn(e)}};si.errors=Ho,si.levels=oE;const Cve="bytes/5.7.0",dn=new si(Cve);function Lj(t){return!!t.toHexString}function kd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return kd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Mve(t){return Ns(t)&&!(t.length%2)||Z0(t)}function yP(t){return typeof t=="number"&&t==t&&t%1===0}function Z0(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!yP(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!yP(r)||r<0||r>=256)return!1}return!0}function on(t,e){if(e||(e={}),typeof t=="number"){dn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),kd(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Lj(t)&&(t=t.toHexString()),Ns(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":dn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return kd(new Uint8Array(n))}return Z0(t)?kd(new Uint8Array(t)):dn.throwArgumentError("invalid arrayify value","value",t)}function Rve(t){const e=t.map(i=>on(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),kd(n)}function Pve(t,e){t=on(t),t.length>e&&dn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),kd(r)}function Ns(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const k5="0123456789abcdef";function ns(t,e){if(e||(e={}),typeof t=="number"){dn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=k5[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Lj(t))return t.toHexString();if(Ns(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":dn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Z0(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=k5[(i&240)>>4]+k5[i&15]}return r}return dn.throwArgumentError("invalid hexlify value","value",t)}function kve(t){if(typeof t!="string")t=ns(t);else if(!Ns(t)||t.length%2)return null;return(t.length-2)/2}function wP(t,e,r){return typeof t!="string"?t=ns(t):(!Ns(t)||t.length%2)&&dn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ka(t,e){for(typeof t!="string"?t=ns(t):Ns(t)||dn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&dn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Bj(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Mve(t)){let r=on(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ns(r.slice(0,32)),e.s=ns(r.slice(32,64))):r.length===65?(e.r=ns(r.slice(0,32)),e.s=ns(r.slice(32,64)),e.v=r[64]):dn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:dn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ns(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Pve(on(e._vs),32);e._vs=ns(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&dn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ns(i);e.s==null?e.s=o:e.s!==o&&dn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?dn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&dn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ns(e.r)?dn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Ka(e.r,32),e.s==null||!Ns(e.s)?dn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Ka(e.s,32);const r=on(e.s);r[0]>=128&&dn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ns(r);e._vs&&(Ns(e._vs)||dn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ka(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&dn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function h9(t){return"0x"+xve.keccak_256(on(t))}var Fj={exports:{}},Ove={},Tve=Object.freeze({__proto__:null,default:Ove}),Nve=Sve(Tve);(function(t){(function(e,r){function n(g,f){if(!g)throw new Error(f||"Assertion failed")}function i(g,f){g.super_=f;var m=function(){};m.prototype=f.prototype,g.prototype=new m,g.prototype.constructor=g}function s(g,f,m){if(s.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((f==="le"||f==="be")&&(m=f,f=10),this._init(g||0,f||10,m||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Nve.Buffer}catch{}s.isBN=function(g){return g instanceof s?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===s.wordSize&&Array.isArray(g.words)},s.max=function(g,f){return g.cmp(f)>0?g:f},s.min=function(g,f){return g.cmp(f)<0?g:f},s.prototype._init=function(g,f,m){if(typeof g=="number")return this._initNumber(g,f,m);if(typeof g=="object")return this._initArray(g,f,m);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),g=g.toString().replace(/\s+/g,"");var _=0;g[0]==="-"&&(_++,this.negative=1),_<g.length&&(f===16?this._parseHex(g,_,m):(this._parseBase(g,f,_),m==="le"&&this._initArray(this.toArray(),f,m)))},s.prototype._initNumber=function(g,f,m){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(n(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),f,m)},s.prototype._initArray=function(g,f,m){if(n(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var I,C,A=0;if(m==="be")for(_=g.length-1,I=0;_>=0;_-=3)C=g[_]|g[_-1]<<8|g[_-2]<<16,this.words[I]|=C<<A&67108863,this.words[I+1]=C>>>26-A&67108863,A+=24,A>=26&&(A-=26,I++);else if(m==="le")for(_=0,I=0;_<g.length;_+=3)C=g[_]|g[_+1]<<8|g[_+2]<<16,this.words[I]|=C<<A&67108863,this.words[I+1]=C>>>26-A&67108863,A+=24,A>=26&&(A-=26,I++);return this._strip()};function a(g,f){var m=g.charCodeAt(f);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+g)}function c(g,f,m){var _=a(g,m);return m-1>=f&&(_|=a(g,m-1)<<4),_}s.prototype._parseHex=function(g,f,m){this.length=Math.ceil((g.length-f)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var I=0,C=0,A;if(m==="be")for(_=g.length-1;_>=f;_-=2)A=c(g,f,_)<<I,this.words[C]|=A&67108863,I>=18?(I-=18,C+=1,this.words[C]|=A>>>26):I+=8;else{var w=g.length-f;for(_=w%2===0?f+1:f;_<g.length;_+=2)A=c(g,f,_)<<I,this.words[C]|=A&67108863,I>=18?(I-=18,C+=1,this.words[C]|=A>>>26):I+=8}this._strip()};function l(g,f,m,_){for(var I=0,C=0,A=Math.min(g.length,m),w=f;w<A;w++){var y=g.charCodeAt(w)-48;I*=_,y>=49?C=y-49+10:y>=17?C=y-17+10:C=y,n(y>=0&&C<_,"Invalid character"),I+=C}return I}s.prototype._parseBase=function(g,f,m){this.words=[0],this.length=1;for(var _=0,I=1;I<=67108863;I*=f)_++;_--,I=I/f|0;for(var C=g.length-m,A=C%_,w=Math.min(C,C-A)+m,y=0,E=m;E<w;E+=_)y=l(g,E,E+_,f),this.imuln(I),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(A!==0){var V=1;for(y=l(g,E,g.length,f),E=0;E<A;E++)V*=f;this.imuln(V),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},s.prototype.copy=function(g){g.words=new Array(this.length);for(var f=0;f<this.length;f++)g.words[f]=this.words[f];g.length=this.length,g.negative=this.negative,g.red=this.red};function h(g,f){g.words=f.words,g.length=f.length,g.negative=f.negative,g.red=f.red}if(s.prototype._move=function(g){h(g,this)},s.prototype.clone=function(){var g=new s(null);return this.copy(g),g},s.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{s.prototype.inspect=p}else s.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(g,f){g=g||10,f=f|0||1;var m;if(g===16||g==="hex"){m="";for(var _=0,I=0,C=0;C<this.length;C++){var A=this.words[C],w=((A<<_|I)&16777215).toString(16);I=A>>>24-_&16777215,_+=2,_>=26&&(_-=26,C--),I!==0||C!==this.length-1?m=v[6-w.length]+w+m:m=w+m}for(I!==0&&(m=I.toString(16)+m);m.length%f!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(g===(g|0)&&g>=2&&g<=36){var y=b[g],E=S[g];m="";var V=this.clone();for(V.negative=0;!V.isZero();){var ce=V.modrn(E).toString(g);V=V.idivn(E),V.isZero()?m=ce+m:m=v[y-ce.length]+ce+m}for(this.isZero()&&(m="0"+m);m.length%f!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(g,f){return this.toArrayLike(o,g,f)}),s.prototype.toArray=function(g,f){return this.toArrayLike(Array,g,f)};var T=function(g,f){return g.allocUnsafe?g.allocUnsafe(f):new g(f)};s.prototype.toArrayLike=function(g,f,m){this._strip();var _=this.byteLength(),I=m||Math.max(1,_);n(_<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var C=T(g,I),A=f==="le"?"LE":"BE";return this["_toArrayLike"+A](C,_),C},s.prototype._toArrayLikeLE=function(g,f){for(var m=0,_=0,I=0,C=0;I<this.length;I++){var A=this.words[I]<<C|_;g[m++]=A&255,m<g.length&&(g[m++]=A>>8&255),m<g.length&&(g[m++]=A>>16&255),C===6?(m<g.length&&(g[m++]=A>>24&255),_=0,C=0):(_=A>>>24,C+=2)}if(m<g.length)for(g[m++]=_;m<g.length;)g[m++]=0},s.prototype._toArrayLikeBE=function(g,f){for(var m=g.length-1,_=0,I=0,C=0;I<this.length;I++){var A=this.words[I]<<C|_;g[m--]=A&255,m>=0&&(g[m--]=A>>8&255),m>=0&&(g[m--]=A>>16&255),C===6?(m>=0&&(g[m--]=A>>24&255),_=0,C=0):(_=A>>>24,C+=2)}if(m>=0)for(g[m--]=_;m>=0;)g[m--]=0},Math.clz32?s.prototype._countBits=function(g){return 32-Math.clz32(g)}:s.prototype._countBits=function(g){var f=g,m=0;return f>=4096&&(m+=13,f>>>=13),f>=64&&(m+=7,f>>>=7),f>=8&&(m+=4,f>>>=4),f>=2&&(m+=2,f>>>=2),m+f},s.prototype._zeroBits=function(g){if(g===0)return 26;var f=g,m=0;return f&8191||(m+=13,f>>>=13),f&127||(m+=7,f>>>=7),f&15||(m+=4,f>>>=4),f&3||(m+=2,f>>>=2),f&1||m++,m},s.prototype.bitLength=function(){var g=this.words[this.length-1],f=this._countBits(g);return(this.length-1)*26+f};function B(g){for(var f=new Array(g.bitLength()),m=0;m<f.length;m++){var _=m/26|0,I=m%26;f[m]=g.words[_]>>>I&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,f=0;f<this.length;f++){var m=this._zeroBits(this.words[f]);if(g+=m,m!==26)break}return g},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},s.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var f=0;f<g.length;f++)this.words[f]=this.words[f]|g.words[f];return this._strip()},s.prototype.ior=function(g){return n((this.negative|g.negative)===0),this.iuor(g)},s.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},s.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},s.prototype.iuand=function(g){var f;this.length>g.length?f=g:f=this;for(var m=0;m<f.length;m++)this.words[m]=this.words[m]&g.words[m];return this.length=f.length,this._strip()},s.prototype.iand=function(g){return n((this.negative|g.negative)===0),this.iuand(g)},s.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},s.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},s.prototype.iuxor=function(g){var f,m;this.length>g.length?(f=this,m=g):(f=g,m=this);for(var _=0;_<m.length;_++)this.words[_]=f.words[_]^m.words[_];if(this!==f)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=f.length,this._strip()},s.prototype.ixor=function(g){return n((this.negative|g.negative)===0),this.iuxor(g)},s.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},s.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},s.prototype.inotn=function(g){n(typeof g=="number"&&g>=0);var f=Math.ceil(g/26)|0,m=g%26;this._expand(f),m>0&&f--;for(var _=0;_<f;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this._strip()},s.prototype.notn=function(g){return this.clone().inotn(g)},s.prototype.setn=function(g,f){n(typeof g=="number"&&g>=0);var m=g/26|0,_=g%26;return this._expand(m+1),f?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this._strip()},s.prototype.iadd=function(g){var f;if(this.negative!==0&&g.negative===0)return this.negative=0,f=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,f=this.isub(g),g.negative=1,f._normSign();var m,_;this.length>g.length?(m=this,_=g):(m=g,_=this);for(var I=0,C=0;C<_.length;C++)f=(m.words[C]|0)+(_.words[C]|0)+I,this.words[C]=f&67108863,I=f>>>26;for(;I!==0&&C<m.length;C++)f=(m.words[C]|0)+I,this.words[C]=f&67108863,I=f>>>26;if(this.length=m.length,I!==0)this.words[this.length]=I,this.length++;else if(m!==this)for(;C<m.length;C++)this.words[C]=m.words[C];return this},s.prototype.add=function(g){var f;return g.negative!==0&&this.negative===0?(g.negative=0,f=this.sub(g),g.negative^=1,f):g.negative===0&&this.negative!==0?(this.negative=0,f=g.sub(this),this.negative=1,f):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},s.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var f=this.iadd(g);return g.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var m=this.cmp(g);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,I;m>0?(_=this,I=g):(_=g,I=this);for(var C=0,A=0;A<I.length;A++)f=(_.words[A]|0)-(I.words[A]|0)+C,C=f>>26,this.words[A]=f&67108863;for(;C!==0&&A<_.length;A++)f=(_.words[A]|0)+C,C=f>>26,this.words[A]=f&67108863;if(C===0&&A<_.length&&_!==this)for(;A<_.length;A++)this.words[A]=_.words[A];return this.length=Math.max(this.length,A),_!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(g){return this.clone().isub(g)};function R(g,f,m){m.negative=f.negative^g.negative;var _=g.length+f.length|0;m.length=_,_=_-1|0;var I=g.words[0]|0,C=f.words[0]|0,A=I*C,w=A&67108863,y=A/67108864|0;m.words[0]=w;for(var E=1;E<_;E++){for(var V=y>>>26,ce=y&67108863,U=Math.min(E,f.length-1),Z=Math.max(0,E-g.length+1);Z<=U;Z++){var W=E-Z|0;I=g.words[W]|0,C=f.words[Z]|0,A=I*C+ce,V+=A/67108864|0,ce=A&67108863}m.words[E]=ce|0,y=V|0}return y!==0?m.words[E]=y|0:m.length--,m._strip()}var P=function(g,f,m){var _=g.words,I=f.words,C=m.words,A=0,w,y,E,V=_[0]|0,ce=V&8191,U=V>>>13,Z=_[1]|0,W=Z&8191,Y=Z>>>13,ee=_[2]|0,$=ee&8191,z=ee>>>13,J=_[3]|0,ae=J&8191,fe=J>>>13,ye=_[4]|0,be=ye&8191,Ee=ye>>>13,je=_[5]|0,Ue=je&8191,Ne=je>>>13,Pe=_[6]|0,Me=Pe&8191,ke=Pe>>>13,$e=_[7]|0,Ce=$e&8191,Oe=$e>>>13,G=_[8]|0,N=G&8191,F=G>>>13,X=_[9]|0,ie=X&8191,ue=X>>>13,de=I[0]|0,_e=de&8191,Ie=de>>>13,De=I[1]|0,Fe=De&8191,Be=De>>>13,ct=I[2]|0,gt=ct&8191,mt=ct>>>13,yt=I[3]|0,Je=yt&8191,We=yt>>>13,Qe=I[4]|0,Ye=Qe&8191,Ke=Qe>>>13,Ve=I[5]|0,nt=Ve&8191,it=Ve>>>13,Ze=I[6]|0,st=Ze&8191,Xe=Ze>>>13,tt=I[7]|0,et=tt&8191,qe=tt>>>13,ot=I[8]|0,at=ot&8191,bt=ot>>>13,_t=I[9]|0,Et=_t&8191,ft=_t>>>13;m.negative=g.negative^f.negative,m.length=19,w=Math.imul(ce,_e),y=Math.imul(ce,Ie),y=y+Math.imul(U,_e)|0,E=Math.imul(U,Ie);var $t=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+($t>>>26)|0,$t&=67108863,w=Math.imul(W,_e),y=Math.imul(W,Ie),y=y+Math.imul(Y,_e)|0,E=Math.imul(Y,Ie),w=w+Math.imul(ce,Fe)|0,y=y+Math.imul(ce,Be)|0,y=y+Math.imul(U,Fe)|0,E=E+Math.imul(U,Be)|0;var $r=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+($r>>>26)|0,$r&=67108863,w=Math.imul($,_e),y=Math.imul($,Ie),y=y+Math.imul(z,_e)|0,E=Math.imul(z,Ie),w=w+Math.imul(W,Fe)|0,y=y+Math.imul(W,Be)|0,y=y+Math.imul(Y,Fe)|0,E=E+Math.imul(Y,Be)|0,w=w+Math.imul(ce,gt)|0,y=y+Math.imul(ce,mt)|0,y=y+Math.imul(U,gt)|0,E=E+Math.imul(U,mt)|0;var Dr=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,w=Math.imul(ae,_e),y=Math.imul(ae,Ie),y=y+Math.imul(fe,_e)|0,E=Math.imul(fe,Ie),w=w+Math.imul($,Fe)|0,y=y+Math.imul($,Be)|0,y=y+Math.imul(z,Fe)|0,E=E+Math.imul(z,Be)|0,w=w+Math.imul(W,gt)|0,y=y+Math.imul(W,mt)|0,y=y+Math.imul(Y,gt)|0,E=E+Math.imul(Y,mt)|0,w=w+Math.imul(ce,Je)|0,y=y+Math.imul(ce,We)|0,y=y+Math.imul(U,Je)|0,E=E+Math.imul(U,We)|0;var Lr=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,w=Math.imul(be,_e),y=Math.imul(be,Ie),y=y+Math.imul(Ee,_e)|0,E=Math.imul(Ee,Ie),w=w+Math.imul(ae,Fe)|0,y=y+Math.imul(ae,Be)|0,y=y+Math.imul(fe,Fe)|0,E=E+Math.imul(fe,Be)|0,w=w+Math.imul($,gt)|0,y=y+Math.imul($,mt)|0,y=y+Math.imul(z,gt)|0,E=E+Math.imul(z,mt)|0,w=w+Math.imul(W,Je)|0,y=y+Math.imul(W,We)|0,y=y+Math.imul(Y,Je)|0,E=E+Math.imul(Y,We)|0,w=w+Math.imul(ce,Ye)|0,y=y+Math.imul(ce,Ke)|0,y=y+Math.imul(U,Ye)|0,E=E+Math.imul(U,Ke)|0;var Br=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Br>>>26)|0,Br&=67108863,w=Math.imul(Ue,_e),y=Math.imul(Ue,Ie),y=y+Math.imul(Ne,_e)|0,E=Math.imul(Ne,Ie),w=w+Math.imul(be,Fe)|0,y=y+Math.imul(be,Be)|0,y=y+Math.imul(Ee,Fe)|0,E=E+Math.imul(Ee,Be)|0,w=w+Math.imul(ae,gt)|0,y=y+Math.imul(ae,mt)|0,y=y+Math.imul(fe,gt)|0,E=E+Math.imul(fe,mt)|0,w=w+Math.imul($,Je)|0,y=y+Math.imul($,We)|0,y=y+Math.imul(z,Je)|0,E=E+Math.imul(z,We)|0,w=w+Math.imul(W,Ye)|0,y=y+Math.imul(W,Ke)|0,y=y+Math.imul(Y,Ye)|0,E=E+Math.imul(Y,Ke)|0,w=w+Math.imul(ce,nt)|0,y=y+Math.imul(ce,it)|0,y=y+Math.imul(U,nt)|0,E=E+Math.imul(U,it)|0;var cr=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(cr>>>26)|0,cr&=67108863,w=Math.imul(Me,_e),y=Math.imul(Me,Ie),y=y+Math.imul(ke,_e)|0,E=Math.imul(ke,Ie),w=w+Math.imul(Ue,Fe)|0,y=y+Math.imul(Ue,Be)|0,y=y+Math.imul(Ne,Fe)|0,E=E+Math.imul(Ne,Be)|0,w=w+Math.imul(be,gt)|0,y=y+Math.imul(be,mt)|0,y=y+Math.imul(Ee,gt)|0,E=E+Math.imul(Ee,mt)|0,w=w+Math.imul(ae,Je)|0,y=y+Math.imul(ae,We)|0,y=y+Math.imul(fe,Je)|0,E=E+Math.imul(fe,We)|0,w=w+Math.imul($,Ye)|0,y=y+Math.imul($,Ke)|0,y=y+Math.imul(z,Ye)|0,E=E+Math.imul(z,Ke)|0,w=w+Math.imul(W,nt)|0,y=y+Math.imul(W,it)|0,y=y+Math.imul(Y,nt)|0,E=E+Math.imul(Y,it)|0,w=w+Math.imul(ce,st)|0,y=y+Math.imul(ce,Xe)|0,y=y+Math.imul(U,st)|0,E=E+Math.imul(U,Xe)|0;var Yr=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,w=Math.imul(Ce,_e),y=Math.imul(Ce,Ie),y=y+Math.imul(Oe,_e)|0,E=Math.imul(Oe,Ie),w=w+Math.imul(Me,Fe)|0,y=y+Math.imul(Me,Be)|0,y=y+Math.imul(ke,Fe)|0,E=E+Math.imul(ke,Be)|0,w=w+Math.imul(Ue,gt)|0,y=y+Math.imul(Ue,mt)|0,y=y+Math.imul(Ne,gt)|0,E=E+Math.imul(Ne,mt)|0,w=w+Math.imul(be,Je)|0,y=y+Math.imul(be,We)|0,y=y+Math.imul(Ee,Je)|0,E=E+Math.imul(Ee,We)|0,w=w+Math.imul(ae,Ye)|0,y=y+Math.imul(ae,Ke)|0,y=y+Math.imul(fe,Ye)|0,E=E+Math.imul(fe,Ke)|0,w=w+Math.imul($,nt)|0,y=y+Math.imul($,it)|0,y=y+Math.imul(z,nt)|0,E=E+Math.imul(z,it)|0,w=w+Math.imul(W,st)|0,y=y+Math.imul(W,Xe)|0,y=y+Math.imul(Y,st)|0,E=E+Math.imul(Y,Xe)|0,w=w+Math.imul(ce,et)|0,y=y+Math.imul(ce,qe)|0,y=y+Math.imul(U,et)|0,E=E+Math.imul(U,qe)|0;var xn=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(xn>>>26)|0,xn&=67108863,w=Math.imul(N,_e),y=Math.imul(N,Ie),y=y+Math.imul(F,_e)|0,E=Math.imul(F,Ie),w=w+Math.imul(Ce,Fe)|0,y=y+Math.imul(Ce,Be)|0,y=y+Math.imul(Oe,Fe)|0,E=E+Math.imul(Oe,Be)|0,w=w+Math.imul(Me,gt)|0,y=y+Math.imul(Me,mt)|0,y=y+Math.imul(ke,gt)|0,E=E+Math.imul(ke,mt)|0,w=w+Math.imul(Ue,Je)|0,y=y+Math.imul(Ue,We)|0,y=y+Math.imul(Ne,Je)|0,E=E+Math.imul(Ne,We)|0,w=w+Math.imul(be,Ye)|0,y=y+Math.imul(be,Ke)|0,y=y+Math.imul(Ee,Ye)|0,E=E+Math.imul(Ee,Ke)|0,w=w+Math.imul(ae,nt)|0,y=y+Math.imul(ae,it)|0,y=y+Math.imul(fe,nt)|0,E=E+Math.imul(fe,it)|0,w=w+Math.imul($,st)|0,y=y+Math.imul($,Xe)|0,y=y+Math.imul(z,st)|0,E=E+Math.imul(z,Xe)|0,w=w+Math.imul(W,et)|0,y=y+Math.imul(W,qe)|0,y=y+Math.imul(Y,et)|0,E=E+Math.imul(Y,qe)|0,w=w+Math.imul(ce,at)|0,y=y+Math.imul(ce,bt)|0,y=y+Math.imul(U,at)|0,E=E+Math.imul(U,bt)|0;var Zr=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,w=Math.imul(ie,_e),y=Math.imul(ie,Ie),y=y+Math.imul(ue,_e)|0,E=Math.imul(ue,Ie),w=w+Math.imul(N,Fe)|0,y=y+Math.imul(N,Be)|0,y=y+Math.imul(F,Fe)|0,E=E+Math.imul(F,Be)|0,w=w+Math.imul(Ce,gt)|0,y=y+Math.imul(Ce,mt)|0,y=y+Math.imul(Oe,gt)|0,E=E+Math.imul(Oe,mt)|0,w=w+Math.imul(Me,Je)|0,y=y+Math.imul(Me,We)|0,y=y+Math.imul(ke,Je)|0,E=E+Math.imul(ke,We)|0,w=w+Math.imul(Ue,Ye)|0,y=y+Math.imul(Ue,Ke)|0,y=y+Math.imul(Ne,Ye)|0,E=E+Math.imul(Ne,Ke)|0,w=w+Math.imul(be,nt)|0,y=y+Math.imul(be,it)|0,y=y+Math.imul(Ee,nt)|0,E=E+Math.imul(Ee,it)|0,w=w+Math.imul(ae,st)|0,y=y+Math.imul(ae,Xe)|0,y=y+Math.imul(fe,st)|0,E=E+Math.imul(fe,Xe)|0,w=w+Math.imul($,et)|0,y=y+Math.imul($,qe)|0,y=y+Math.imul(z,et)|0,E=E+Math.imul(z,qe)|0,w=w+Math.imul(W,at)|0,y=y+Math.imul(W,bt)|0,y=y+Math.imul(Y,at)|0,E=E+Math.imul(Y,bt)|0,w=w+Math.imul(ce,Et)|0,y=y+Math.imul(ce,ft)|0,y=y+Math.imul(U,Et)|0,E=E+Math.imul(U,ft)|0;var An=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(An>>>26)|0,An&=67108863,w=Math.imul(ie,Fe),y=Math.imul(ie,Be),y=y+Math.imul(ue,Fe)|0,E=Math.imul(ue,Be),w=w+Math.imul(N,gt)|0,y=y+Math.imul(N,mt)|0,y=y+Math.imul(F,gt)|0,E=E+Math.imul(F,mt)|0,w=w+Math.imul(Ce,Je)|0,y=y+Math.imul(Ce,We)|0,y=y+Math.imul(Oe,Je)|0,E=E+Math.imul(Oe,We)|0,w=w+Math.imul(Me,Ye)|0,y=y+Math.imul(Me,Ke)|0,y=y+Math.imul(ke,Ye)|0,E=E+Math.imul(ke,Ke)|0,w=w+Math.imul(Ue,nt)|0,y=y+Math.imul(Ue,it)|0,y=y+Math.imul(Ne,nt)|0,E=E+Math.imul(Ne,it)|0,w=w+Math.imul(be,st)|0,y=y+Math.imul(be,Xe)|0,y=y+Math.imul(Ee,st)|0,E=E+Math.imul(Ee,Xe)|0,w=w+Math.imul(ae,et)|0,y=y+Math.imul(ae,qe)|0,y=y+Math.imul(fe,et)|0,E=E+Math.imul(fe,qe)|0,w=w+Math.imul($,at)|0,y=y+Math.imul($,bt)|0,y=y+Math.imul(z,at)|0,E=E+Math.imul(z,bt)|0,w=w+Math.imul(W,Et)|0,y=y+Math.imul(W,ft)|0,y=y+Math.imul(Y,Et)|0,E=E+Math.imul(Y,ft)|0;var In=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(In>>>26)|0,In&=67108863,w=Math.imul(ie,gt),y=Math.imul(ie,mt),y=y+Math.imul(ue,gt)|0,E=Math.imul(ue,mt),w=w+Math.imul(N,Je)|0,y=y+Math.imul(N,We)|0,y=y+Math.imul(F,Je)|0,E=E+Math.imul(F,We)|0,w=w+Math.imul(Ce,Ye)|0,y=y+Math.imul(Ce,Ke)|0,y=y+Math.imul(Oe,Ye)|0,E=E+Math.imul(Oe,Ke)|0,w=w+Math.imul(Me,nt)|0,y=y+Math.imul(Me,it)|0,y=y+Math.imul(ke,nt)|0,E=E+Math.imul(ke,it)|0,w=w+Math.imul(Ue,st)|0,y=y+Math.imul(Ue,Xe)|0,y=y+Math.imul(Ne,st)|0,E=E+Math.imul(Ne,Xe)|0,w=w+Math.imul(be,et)|0,y=y+Math.imul(be,qe)|0,y=y+Math.imul(Ee,et)|0,E=E+Math.imul(Ee,qe)|0,w=w+Math.imul(ae,at)|0,y=y+Math.imul(ae,bt)|0,y=y+Math.imul(fe,at)|0,E=E+Math.imul(fe,bt)|0,w=w+Math.imul($,Et)|0,y=y+Math.imul($,ft)|0,y=y+Math.imul(z,Et)|0,E=E+Math.imul(z,ft)|0;var Xr=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,w=Math.imul(ie,Je),y=Math.imul(ie,We),y=y+Math.imul(ue,Je)|0,E=Math.imul(ue,We),w=w+Math.imul(N,Ye)|0,y=y+Math.imul(N,Ke)|0,y=y+Math.imul(F,Ye)|0,E=E+Math.imul(F,Ke)|0,w=w+Math.imul(Ce,nt)|0,y=y+Math.imul(Ce,it)|0,y=y+Math.imul(Oe,nt)|0,E=E+Math.imul(Oe,it)|0,w=w+Math.imul(Me,st)|0,y=y+Math.imul(Me,Xe)|0,y=y+Math.imul(ke,st)|0,E=E+Math.imul(ke,Xe)|0,w=w+Math.imul(Ue,et)|0,y=y+Math.imul(Ue,qe)|0,y=y+Math.imul(Ne,et)|0,E=E+Math.imul(Ne,qe)|0,w=w+Math.imul(be,at)|0,y=y+Math.imul(be,bt)|0,y=y+Math.imul(Ee,at)|0,E=E+Math.imul(Ee,bt)|0,w=w+Math.imul(ae,Et)|0,y=y+Math.imul(ae,ft)|0,y=y+Math.imul(fe,Et)|0,E=E+Math.imul(fe,ft)|0;var yn=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(yn>>>26)|0,yn&=67108863,w=Math.imul(ie,Ye),y=Math.imul(ie,Ke),y=y+Math.imul(ue,Ye)|0,E=Math.imul(ue,Ke),w=w+Math.imul(N,nt)|0,y=y+Math.imul(N,it)|0,y=y+Math.imul(F,nt)|0,E=E+Math.imul(F,it)|0,w=w+Math.imul(Ce,st)|0,y=y+Math.imul(Ce,Xe)|0,y=y+Math.imul(Oe,st)|0,E=E+Math.imul(Oe,Xe)|0,w=w+Math.imul(Me,et)|0,y=y+Math.imul(Me,qe)|0,y=y+Math.imul(ke,et)|0,E=E+Math.imul(ke,qe)|0,w=w+Math.imul(Ue,at)|0,y=y+Math.imul(Ue,bt)|0,y=y+Math.imul(Ne,at)|0,E=E+Math.imul(Ne,bt)|0,w=w+Math.imul(be,Et)|0,y=y+Math.imul(be,ft)|0,y=y+Math.imul(Ee,Et)|0,E=E+Math.imul(Ee,ft)|0;var wn=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(wn>>>26)|0,wn&=67108863,w=Math.imul(ie,nt),y=Math.imul(ie,it),y=y+Math.imul(ue,nt)|0,E=Math.imul(ue,it),w=w+Math.imul(N,st)|0,y=y+Math.imul(N,Xe)|0,y=y+Math.imul(F,st)|0,E=E+Math.imul(F,Xe)|0,w=w+Math.imul(Ce,et)|0,y=y+Math.imul(Ce,qe)|0,y=y+Math.imul(Oe,et)|0,E=E+Math.imul(Oe,qe)|0,w=w+Math.imul(Me,at)|0,y=y+Math.imul(Me,bt)|0,y=y+Math.imul(ke,at)|0,E=E+Math.imul(ke,bt)|0,w=w+Math.imul(Ue,Et)|0,y=y+Math.imul(Ue,ft)|0,y=y+Math.imul(Ne,Et)|0,E=E+Math.imul(Ne,ft)|0;var yr=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(ie,st),y=Math.imul(ie,Xe),y=y+Math.imul(ue,st)|0,E=Math.imul(ue,Xe),w=w+Math.imul(N,et)|0,y=y+Math.imul(N,qe)|0,y=y+Math.imul(F,et)|0,E=E+Math.imul(F,qe)|0,w=w+Math.imul(Ce,at)|0,y=y+Math.imul(Ce,bt)|0,y=y+Math.imul(Oe,at)|0,E=E+Math.imul(Oe,bt)|0,w=w+Math.imul(Me,Et)|0,y=y+Math.imul(Me,ft)|0,y=y+Math.imul(ke,Et)|0,E=E+Math.imul(ke,ft)|0;var xi=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(xi>>>26)|0,xi&=67108863,w=Math.imul(ie,et),y=Math.imul(ie,qe),y=y+Math.imul(ue,et)|0,E=Math.imul(ue,qe),w=w+Math.imul(N,at)|0,y=y+Math.imul(N,bt)|0,y=y+Math.imul(F,at)|0,E=E+Math.imul(F,bt)|0,w=w+Math.imul(Ce,Et)|0,y=y+Math.imul(Ce,ft)|0,y=y+Math.imul(Oe,Et)|0,E=E+Math.imul(Oe,ft)|0;var Ai=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,w=Math.imul(ie,at),y=Math.imul(ie,bt),y=y+Math.imul(ue,at)|0,E=Math.imul(ue,bt),w=w+Math.imul(N,Et)|0,y=y+Math.imul(N,ft)|0,y=y+Math.imul(F,Et)|0,E=E+Math.imul(F,ft)|0;var Ii=(A+w|0)+((y&8191)<<13)|0;A=(E+(y>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,w=Math.imul(ie,Et),y=Math.imul(ie,ft),y=y+Math.imul(ue,Et)|0,E=Math.imul(ue,ft);var Io=(A+w|0)+((y&8191)<<13)|0;return A=(E+(y>>>13)|0)+(Io>>>26)|0,Io&=67108863,C[0]=$t,C[1]=$r,C[2]=Dr,C[3]=Lr,C[4]=Br,C[5]=cr,C[6]=Yr,C[7]=xn,C[8]=Zr,C[9]=An,C[10]=In,C[11]=Xr,C[12]=yn,C[13]=wn,C[14]=yr,C[15]=xi,C[16]=Ai,C[17]=Ii,C[18]=Io,A!==0&&(C[19]=A,m.length++),m};Math.imul||(P=R);function O(g,f,m){m.negative=f.negative^g.negative,m.length=g.length+f.length;for(var _=0,I=0,C=0;C<m.length-1;C++){var A=I;I=0;for(var w=_&67108863,y=Math.min(C,f.length-1),E=Math.max(0,C-g.length+1);E<=y;E++){var V=C-E,ce=g.words[V]|0,U=f.words[E]|0,Z=ce*U,W=Z&67108863;A=A+(Z/67108864|0)|0,W=W+w|0,w=W&67108863,A=A+(W>>>26)|0,I+=A>>>26,A&=67108863}m.words[C]=w,_=A,A=I}return _!==0?m.words[C]=_:m.length--,m._strip()}function L(g,f,m){return O(g,f,m)}s.prototype.mulTo=function(g,f){var m,_=this.length+g.length;return this.length===10&&g.length===10?m=P(this,g,f):_<63?m=R(this,g,f):_<1024?m=O(this,g,f):m=L(this,g,f),m},s.prototype.mul=function(g){var f=new s(null);return f.words=new Array(this.length+g.length),this.mulTo(g,f)},s.prototype.mulf=function(g){var f=new s(null);return f.words=new Array(this.length+g.length),L(this,g,f)},s.prototype.imul=function(g){return this.clone().mulTo(g,this)},s.prototype.imuln=function(g){var f=g<0;f&&(g=-g),n(typeof g=="number"),n(g<67108864);for(var m=0,_=0;_<this.length;_++){var I=(this.words[_]|0)*g,C=(I&67108863)+(m&67108863);m>>=26,m+=I/67108864|0,m+=C>>>26,this.words[_]=C&67108863}return m!==0&&(this.words[_]=m,this.length++),f?this.ineg():this},s.prototype.muln=function(g){return this.clone().imuln(g)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(g){var f=B(g);if(f.length===0)return new s(1);for(var m=this,_=0;_<f.length&&f[_]===0;_++,m=m.sqr());if(++_<f.length)for(var I=m.sqr();_<f.length;_++,I=I.sqr())f[_]!==0&&(m=m.mul(I));return m},s.prototype.iushln=function(g){n(typeof g=="number"&&g>=0);var f=g%26,m=(g-f)/26,_=67108863>>>26-f<<26-f,I;if(f!==0){var C=0;for(I=0;I<this.length;I++){var A=this.words[I]&_,w=(this.words[I]|0)-A<<f;this.words[I]=w|C,C=A>>>26-f}C&&(this.words[I]=C,this.length++)}if(m!==0){for(I=this.length-1;I>=0;I--)this.words[I+m]=this.words[I];for(I=0;I<m;I++)this.words[I]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(g){return n(this.negative===0),this.iushln(g)},s.prototype.iushrn=function(g,f,m){n(typeof g=="number"&&g>=0);var _;f?_=(f-f%26)/26:_=0;var I=g%26,C=Math.min((g-I)/26,this.length),A=67108863^67108863>>>I<<I,w=m;if(_-=C,_=Math.max(0,_),w){for(var y=0;y<C;y++)w.words[y]=this.words[y];w.length=C}if(C!==0)if(this.length>C)for(this.length-=C,y=0;y<this.length;y++)this.words[y]=this.words[y+C];else this.words[0]=0,this.length=1;var E=0;for(y=this.length-1;y>=0&&(E!==0||y>=_);y--){var V=this.words[y]|0;this.words[y]=E<<26-I|V>>>I,E=V&A}return w&&E!==0&&(w.words[w.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(g,f,m){return n(this.negative===0),this.iushrn(g,f,m)},s.prototype.shln=function(g){return this.clone().ishln(g)},s.prototype.ushln=function(g){return this.clone().iushln(g)},s.prototype.shrn=function(g){return this.clone().ishrn(g)},s.prototype.ushrn=function(g){return this.clone().iushrn(g)},s.prototype.testn=function(g){n(typeof g=="number"&&g>=0);var f=g%26,m=(g-f)/26,_=1<<f;if(this.length<=m)return!1;var I=this.words[m];return!!(I&_)},s.prototype.imaskn=function(g){n(typeof g=="number"&&g>=0);var f=g%26,m=(g-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(f!==0&&m++,this.length=Math.min(m,this.length),f!==0){var _=67108863^67108863>>>f<<f;this.words[this.length-1]&=_}return this._strip()},s.prototype.maskn=function(g){return this.clone().imaskn(g)},s.prototype.iaddn=function(g){return n(typeof g=="number"),n(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},s.prototype._iaddn=function(g){this.words[0]+=g;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},s.prototype.isubn=function(g){if(n(typeof g=="number"),n(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this._strip()},s.prototype.addn=function(g){return this.clone().iaddn(g)},s.prototype.subn=function(g){return this.clone().isubn(g)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(g,f,m){var _=g.length+m,I;this._expand(_);var C,A=0;for(I=0;I<g.length;I++){C=(this.words[I+m]|0)+A;var w=(g.words[I]|0)*f;C-=w&67108863,A=(C>>26)-(w/67108864|0),this.words[I+m]=C&67108863}for(;I<this.length-m;I++)C=(this.words[I+m]|0)+A,A=C>>26,this.words[I+m]=C&67108863;if(A===0)return this._strip();for(n(A===-1),A=0,I=0;I<this.length;I++)C=-(this.words[I]|0)+A,A=C>>26,this.words[I]=C&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(g,f){var m=this.length-g.length,_=this.clone(),I=g,C=I.words[I.length-1]|0,A=this._countBits(C);m=26-A,m!==0&&(I=I.ushln(m),_.iushln(m),C=I.words[I.length-1]|0);var w=_.length-I.length,y;if(f!=="mod"){y=new s(null),y.length=w+1,y.words=new Array(y.length);for(var E=0;E<y.length;E++)y.words[E]=0}var V=_.clone()._ishlnsubmul(I,1,w);V.negative===0&&(_=V,y&&(y.words[w]=1));for(var ce=w-1;ce>=0;ce--){var U=(_.words[I.length+ce]|0)*67108864+(_.words[I.length+ce-1]|0);for(U=Math.min(U/C|0,67108863),_._ishlnsubmul(I,U,ce);_.negative!==0;)U--,_.negative=0,_._ishlnsubmul(I,1,ce),_.isZero()||(_.negative^=1);y&&(y.words[ce]=U)}return y&&y._strip(),_._strip(),f!=="div"&&m!==0&&_.iushrn(m),{div:y||null,mod:_}},s.prototype.divmod=function(g,f,m){if(n(!g.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var _,I,C;return this.negative!==0&&g.negative===0?(C=this.neg().divmod(g,f),f!=="mod"&&(_=C.div.neg()),f!=="div"&&(I=C.mod.neg(),m&&I.negative!==0&&I.iadd(g)),{div:_,mod:I}):this.negative===0&&g.negative!==0?(C=this.divmod(g.neg(),f),f!=="mod"&&(_=C.div.neg()),{div:_,mod:C.mod}):this.negative&g.negative?(C=this.neg().divmod(g.neg(),f),f!=="div"&&(I=C.mod.neg(),m&&I.negative!==0&&I.isub(g)),{div:C.div,mod:I}):g.length>this.length||this.cmp(g)<0?{div:new s(0),mod:this}:g.length===1?f==="div"?{div:this.divn(g.words[0]),mod:null}:f==="mod"?{div:null,mod:new s(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new s(this.modrn(g.words[0]))}:this._wordDiv(g,f)},s.prototype.div=function(g){return this.divmod(g,"div",!1).div},s.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},s.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},s.prototype.divRound=function(g){var f=this.divmod(g);if(f.mod.isZero())return f.div;var m=f.div.negative!==0?f.mod.isub(g):f.mod,_=g.ushrn(1),I=g.andln(1),C=m.cmp(_);return C<0||I===1&&C===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},s.prototype.modrn=function(g){var f=g<0;f&&(g=-g),n(g<=67108863);for(var m=(1<<26)%g,_=0,I=this.length-1;I>=0;I--)_=(m*_+(this.words[I]|0))%g;return f?-_:_},s.prototype.modn=function(g){return this.modrn(g)},s.prototype.idivn=function(g){var f=g<0;f&&(g=-g),n(g<=67108863);for(var m=0,_=this.length-1;_>=0;_--){var I=(this.words[_]|0)+m*67108864;this.words[_]=I/g|0,m=I%g}return this._strip(),f?this.ineg():this},s.prototype.divn=function(g){return this.clone().idivn(g)},s.prototype.egcd=function(g){n(g.negative===0),n(!g.isZero());var f=this,m=g.clone();f.negative!==0?f=f.umod(g):f=f.clone();for(var _=new s(1),I=new s(0),C=new s(0),A=new s(1),w=0;f.isEven()&&m.isEven();)f.iushrn(1),m.iushrn(1),++w;for(var y=m.clone(),E=f.clone();!f.isZero();){for(var V=0,ce=1;!(f.words[0]&ce)&&V<26;++V,ce<<=1);if(V>0)for(f.iushrn(V);V-- >0;)(_.isOdd()||I.isOdd())&&(_.iadd(y),I.isub(E)),_.iushrn(1),I.iushrn(1);for(var U=0,Z=1;!(m.words[0]&Z)&&U<26;++U,Z<<=1);if(U>0)for(m.iushrn(U);U-- >0;)(C.isOdd()||A.isOdd())&&(C.iadd(y),A.isub(E)),C.iushrn(1),A.iushrn(1);f.cmp(m)>=0?(f.isub(m),_.isub(C),I.isub(A)):(m.isub(f),C.isub(_),A.isub(I))}return{a:C,b:A,gcd:m.iushln(w)}},s.prototype._invmp=function(g){n(g.negative===0),n(!g.isZero());var f=this,m=g.clone();f.negative!==0?f=f.umod(g):f=f.clone();for(var _=new s(1),I=new s(0),C=m.clone();f.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,w=1;!(f.words[0]&w)&&A<26;++A,w<<=1);if(A>0)for(f.iushrn(A);A-- >0;)_.isOdd()&&_.iadd(C),_.iushrn(1);for(var y=0,E=1;!(m.words[0]&E)&&y<26;++y,E<<=1);if(y>0)for(m.iushrn(y);y-- >0;)I.isOdd()&&I.iadd(C),I.iushrn(1);f.cmp(m)>=0?(f.isub(m),_.isub(I)):(m.isub(f),I.isub(_))}var V;return f.cmpn(1)===0?V=_:V=I,V.cmpn(0)<0&&V.iadd(g),V},s.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var f=this.clone(),m=g.clone();f.negative=0,m.negative=0;for(var _=0;f.isEven()&&m.isEven();_++)f.iushrn(1),m.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;m.isEven();)m.iushrn(1);var I=f.cmp(m);if(I<0){var C=f;f=m,m=C}else if(I===0||m.cmpn(1)===0)break;f.isub(m)}while(!0);return m.iushln(_)},s.prototype.invm=function(g){return this.egcd(g).a.umod(g)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(g){return this.words[0]&g},s.prototype.bincn=function(g){n(typeof g=="number");var f=g%26,m=(g-f)/26,_=1<<f;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var I=_,C=m;I!==0&&C<this.length;C++){var A=this.words[C]|0;A+=I,I=A>>>26,A&=67108863,this.words[C]=A}return I!==0&&(this.words[C]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(g){var f=g<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this._strip();var m;if(this.length>1)m=1;else{f&&(g=-g),n(g<=67108863,"Number is too big");var _=this.words[0]|0;m=_===g?0:_<g?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var f=this.ucmp(g);return this.negative!==0?-f|0:f},s.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var f=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,I=g.words[m]|0;if(_!==I){_<I?f=-1:_>I&&(f=1);break}}return f},s.prototype.gtn=function(g){return this.cmpn(g)===1},s.prototype.gt=function(g){return this.cmp(g)===1},s.prototype.gten=function(g){return this.cmpn(g)>=0},s.prototype.gte=function(g){return this.cmp(g)>=0},s.prototype.ltn=function(g){return this.cmpn(g)===-1},s.prototype.lt=function(g){return this.cmp(g)===-1},s.prototype.lten=function(g){return this.cmpn(g)<=0},s.prototype.lte=function(g){return this.cmp(g)<=0},s.prototype.eqn=function(g){return this.cmpn(g)===0},s.prototype.eq=function(g){return this.cmp(g)===0},s.red=function(g){return new K(g)},s.prototype.toRed=function(g){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(g){return this.red=g,this},s.prototype.forceRed=function(g){return n(!this.red,"Already a number in reduction context"),this._forceRed(g)},s.prototype.redAdd=function(g){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},s.prototype.redIAdd=function(g){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},s.prototype.redSub=function(g){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},s.prototype.redISub=function(g){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},s.prototype.redShl=function(g){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},s.prototype.redMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},s.prototype.redIMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(g){return n(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var D={k256:null,p224:null,p192:null,p25519:null};function q(g,f){this.name=g,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var g=new s(null);return g.words=new Array(Math.ceil(this.n/13)),g},q.prototype.ireduce=function(g){var f=g,m;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),m=f.bitLength();while(m>this.n);var _=m<this.n?-1:f.ucmp(this.p);return _===0?(f.words[0]=0,f.length=1):_>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},q.prototype.split=function(g,f){g.iushrn(this.n,0,f)},q.prototype.imulK=function(g){return g.imul(this.k)};function M(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(M,q),M.prototype.split=function(g,f){for(var m=4194303,_=Math.min(g.length,9),I=0;I<_;I++)f.words[I]=g.words[I];if(f.length=_,g.length<=9){g.words[0]=0,g.length=1;return}var C=g.words[9];for(f.words[f.length++]=C&m,I=10;I<g.length;I++){var A=g.words[I]|0;g.words[I-10]=(A&m)<<4|C>>>22,C=A}C>>>=22,g.words[I-10]=C,C===0&&g.length>10?g.length-=10:g.length-=9},M.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var f=0,m=0;m<g.length;m++){var _=g.words[m]|0;f+=_*977,g.words[m]=f&67108863,f=_*64+(f/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function H(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,q);function te(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(te,q);function oe(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(oe,q),oe.prototype.imulK=function(g){for(var f=0,m=0;m<g.length;m++){var _=(g.words[m]|0)*19+f,I=_&67108863;_>>>=26,g.words[m]=I,f=_}return f!==0&&(g.words[g.length++]=f),g},s._prime=function(g){if(D[g])return D[g];var f;if(g==="k256")f=new M;else if(g==="p224")f=new H;else if(g==="p192")f=new te;else if(g==="p25519")f=new oe;else throw new Error("Unknown prime "+g);return D[g]=f,f};function K(g){if(typeof g=="string"){var f=s._prime(g);this.m=f.p,this.prime=f}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}K.prototype._verify1=function(g){n(g.negative===0,"red works only with positives"),n(g.red,"red works only with red numbers")},K.prototype._verify2=function(g,f){n((g.negative|f.negative)===0,"red works only with positives"),n(g.red&&g.red===f.red,"red works only with red numbers")},K.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(h(g,g.umod(this.m)._forceRed(this)),g)},K.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},K.prototype.add=function(g,f){this._verify2(g,f);var m=g.add(f);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},K.prototype.iadd=function(g,f){this._verify2(g,f);var m=g.iadd(f);return m.cmp(this.m)>=0&&m.isub(this.m),m},K.prototype.sub=function(g,f){this._verify2(g,f);var m=g.sub(f);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},K.prototype.isub=function(g,f){this._verify2(g,f);var m=g.isub(f);return m.cmpn(0)<0&&m.iadd(this.m),m},K.prototype.shl=function(g,f){return this._verify1(g),this.imod(g.ushln(f))},K.prototype.imul=function(g,f){return this._verify2(g,f),this.imod(g.imul(f))},K.prototype.mul=function(g,f){return this._verify2(g,f),this.imod(g.mul(f))},K.prototype.isqr=function(g){return this.imul(g,g.clone())},K.prototype.sqr=function(g){return this.mul(g,g)},K.prototype.sqrt=function(g){if(g.isZero())return g.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(g,m)}for(var _=this.m.subn(1),I=0;!_.isZero()&&_.andln(1)===0;)I++,_.iushrn(1);n(!_.isZero());var C=new s(1).toRed(this),A=C.redNeg(),w=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new s(2*y*y).toRed(this);this.pow(y,w).cmp(A)!==0;)y.redIAdd(A);for(var E=this.pow(y,_),V=this.pow(g,_.addn(1).iushrn(1)),ce=this.pow(g,_),U=I;ce.cmp(C)!==0;){for(var Z=ce,W=0;Z.cmp(C)!==0;W++)Z=Z.redSqr();n(W<U);var Y=this.pow(E,new s(1).iushln(U-W-1));V=V.redMul(Y),E=Y.redSqr(),ce=ce.redMul(E),U=W}return V},K.prototype.invm=function(g){var f=g._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},K.prototype.pow=function(g,f){if(f.isZero())return new s(1).toRed(this);if(f.cmpn(1)===0)return g.clone();var m=4,_=new Array(1<<m);_[0]=new s(1).toRed(this),_[1]=g;for(var I=2;I<_.length;I++)_[I]=this.mul(_[I-1],g);var C=_[0],A=0,w=0,y=f.bitLength()%26;for(y===0&&(y=26),I=f.length-1;I>=0;I--){for(var E=f.words[I],V=y-1;V>=0;V--){var ce=E>>V&1;if(C!==_[0]&&(C=this.sqr(C)),ce===0&&A===0){w=0;continue}A<<=1,A|=ce,w++,!(w!==m&&(I!==0||V!==0))&&(C=this.mul(C,_[A]),w=0,A=0)}y=26}return C},K.prototype.convertTo=function(g){var f=g.umod(this.m);return f===g?f.clone():f},K.prototype.convertFrom=function(g){var f=g.clone();return f.red=null,f},s.mont=function(g){return new k(g)};function k(g){K.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(k,K),k.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},k.prototype.convertFrom=function(g){var f=this.imod(g.mul(this.rinv));return f.red=null,f},k.prototype.imul=function(g,f){if(g.isZero()||f.isZero())return g.words[0]=0,g.length=1,g;var m=g.imul(f),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=m.isub(_).iushrn(this.shift),C=I;return I.cmp(this.m)>=0?C=I.isub(this.m):I.cmpn(0)<0&&(C=I.iadd(this.m)),C._forceRed(this)},k.prototype.mul=function(g,f){if(g.isZero()||f.isZero())return new s(0)._forceRed(this);var m=g.mul(f),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=m.isub(_).iushrn(this.shift),C=I;return I.cmp(this.m)>=0?C=I.isub(this.m):I.cmpn(0)<0&&(C=I.iadd(this.m)),C._forceRed(this)},k.prototype.invm=function(g){var f=this.imod(g._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,$j)})(Fj);var Tt=Fj.exports;const jj="bignumber/5.7.0";var pw=Tt.BN;const Pc=new si(jj),O5={},bP=9007199254740991;function $ve(t){return t!=null&&(zi.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Ns(t)||typeof t=="bigint"||Z0(t))}let _P=!1,zi=class Uo{constructor(e,r){e!==O5&&Pc.throwError("cannot call constructor directly; use BigNumber.from",si.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Xi(Kt(this).fromTwos(e))}toTwos(e){return Xi(Kt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Uo.from(this._hex.substring(1)):this}add(e){return Xi(Kt(this).add(Kt(e)))}sub(e){return Xi(Kt(this).sub(Kt(e)))}div(e){return Uo.from(e).isZero()&&to("division-by-zero","div"),Xi(Kt(this).div(Kt(e)))}mul(e){return Xi(Kt(this).mul(Kt(e)))}mod(e){const r=Kt(e);return r.isNeg()&&to("division-by-zero","mod"),Xi(Kt(this).umod(r))}pow(e){const r=Kt(e);return r.isNeg()&&to("negative-power","pow"),Xi(Kt(this).pow(r))}and(e){const r=Kt(e);return(this.isNegative()||r.isNeg())&&to("unbound-bitwise-result","and"),Xi(Kt(this).and(r))}or(e){const r=Kt(e);return(this.isNegative()||r.isNeg())&&to("unbound-bitwise-result","or"),Xi(Kt(this).or(r))}xor(e){const r=Kt(e);return(this.isNegative()||r.isNeg())&&to("unbound-bitwise-result","xor"),Xi(Kt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&to("negative-width","mask"),Xi(Kt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&to("negative-width","shl"),Xi(Kt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&to("negative-width","shr"),Xi(Kt(this).shrn(e))}eq(e){return Kt(this).eq(Kt(e))}lt(e){return Kt(this).lt(Kt(e))}lte(e){return Kt(this).lte(Kt(e))}gt(e){return Kt(this).gt(Kt(e))}gte(e){return Kt(this).gte(Kt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Kt(this).isZero()}toNumber(){try{return Kt(this).toNumber()}catch{to("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Pc.throwError("this platform does not support BigInt",si.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_P||(_P=!0,Pc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Pc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",si.errors.UNEXPECTED_ARGUMENT,{}):Pc.throwError("BigNumber.toString does not accept parameters",si.errors.UNEXPECTED_ARGUMENT,{})),Kt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Uo)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Uo(O5,Eg(e)):e.match(/^-?[0-9]+$/)?new Uo(O5,Eg(new pw(e))):Pc.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&to("underflow","BigNumber.from",e),(e>=bP||e<=-bP)&&to("overflow","BigNumber.from",e),Uo.from(String(e));const r=e;if(typeof r=="bigint")return Uo.from(r.toString());if(Z0(r))return Uo.from(ns(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Uo.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ns(n)||n[0]==="-"&&Ns(n.substring(1))))return Uo.from(n)}return Pc.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Eg(t){if(typeof t!="string")return Eg(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Pc.throwArgumentError("invalid hex","value",t),t=Eg(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Xi(t){return zi.from(Eg(t))}function Kt(t){const e=zi.from(t).toHexString();return e[0]==="-"?new pw("-"+e.substring(3),16):new pw(e.substring(2),16)}function to(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Pc.throwError(t,si.errors.NUMERIC_FAULT,n)}function Dve(t){return new pw(t,36).toString(16)}const Bi=new si(jj),R1={},Uj=zi.from(0),zj=zi.from(-1);function qj(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Bi.throwError(t,si.errors.NUMERIC_FAULT,i)}let P1="0";for(;P1.length<256;)P1+=P1;function d9(t){if(typeof t!="number")try{t=zi.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+P1.substring(0,t):Bi.throwArgumentError("invalid decimal size","decimals",t)}function T5(t,e){e==null&&(e=0);const r=d9(e);t=zi.from(t);const n=t.lt(Uj);n&&(t=t.mul(zj));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function Ec(t,e){e==null&&(e=0);const r=d9(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Bi.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Bi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Bi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&qj("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=zi.from(s),c=zi.from(o);let l=a.mul(r).add(c);return n&&(l=l.mul(zj)),l}let N5=class aE{constructor(e,r,n,i){e!==R1&&Bi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",si.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=d9(i),Object.freeze(this)}static from(e){if(e instanceof aE)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Bi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Bi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Bi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Bi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new aE(R1,r,n,i)}},Hj=class ki{constructor(e,r,n,i){e!==R1&&Bi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",si.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Bi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Ec(this._value,this.format.decimals),n=Ec(e._value,e.format.decimals);return ki.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Ec(this._value,this.format.decimals),n=Ec(e._value,e.format.decimals);return ki.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Ec(this._value,this.format.decimals),n=Ec(e._value,e.format.decimals);return ki.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Ec(this._value,this.format.decimals),n=Ec(e._value,e.format.decimals);return ki.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=ki.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(EP.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=ki.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(EP.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Bi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=ki.from("1"+P1.substring(0,e),this.format),i=Lve.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Bi.throwArgumentError("invalid byte width","width",e);const r=zi.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Ka(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ki.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!$ve(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),ki.fromString(T5(e,r),N5.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=N5.from(r),i=Ec(e,n.decimals);!n.signed&&i.lt(Uj)&&qj("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Ka(s,n.width/8));const o=T5(i,n.decimals);return new ki(R1,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=N5.from(r);if(on(e).length>n.width/8)throw new Error("overflow");let i=zi.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=T5(i,n.decimals);return new ki(R1,s,o,n)}static from(e,r){if(typeof e=="string")return ki.fromString(e,r);if(Z0(e))return ki.fromBytes(e,r);try{return ki.fromValue(e,0,r)}catch(n){if(n.code!==si.errors.INVALID_ARGUMENT)throw n}return Bi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}};const EP=Hj.from(1),Lve=Hj.from("0.5"),Bve="strings/5.7.0",Fve=new si(Bve);var gw;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(gw||(gw={}));var SP;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(SP||(SP={}));function $5(t,e=gw.current){e!=gw.current&&(Fve.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return on(r)}function jve(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function D5(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function xP(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}xP("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),D5("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),D5("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),D5("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",jve),xP("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Uve(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return on(e)}function Wj(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function zve(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function qve(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let D=1;D<n;D++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function h(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const p=31,v=Math.pow(2,p),b=v>>>1,S=b>>1,T=v-1;let B=0;for(let D=0;D<p;D++)B=B<<1|h();let R=[],P=0,O=v;for(;;){let D=Math.floor(((B-P+1)*i-1)/O),q=0,M=n;for(;M-q>1;){let oe=q+M>>>1;D<s[oe]?M=oe:q=oe}if(q==0)break;R.push(q);let H=P+Math.floor(O*s[q]/i),te=P+Math.floor(O*s[q+1]/i)-1;for(;!((H^te)&b);)B=B<<1&T|h(),H=H<<1&T,te=te<<1&T|1;for(;H&~te&S;)B=B&b|B<<1&T>>>1|h(),H=H<<1^b,te=(te^b)<<1|b|1;P=H,O=1+te-H}let L=n-4;return R.map(D=>{switch(D-L){case 3:return L+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return L+256+(t[a++]<<8|t[a++]);case 1:return L+t[a++];default:return D-1}})}function Hve(t){let e=0;return()=>t[e++]}function Wve(t){return Hve(qve(t))}function Vve(t){return t&1?~t>>1:t>>1}function Kve(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function AP(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Gve(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Vve(e());return r}function mw(t,e){let r=AP(t(),t),n=t(),i=AP(n,t),s=Kve(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function Jve(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Yve(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Zve(r,t))}return zve(Wj(e))}function Qve(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Vj(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Gve(t,r).forEach((s,o)=>n[o].push(s));return n}function Yve(t,e){let r=1+e(),n=e(),i=Qve(e),s=Vj(i.length,1+t,e);return Wj(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((h,p)=>{let v=p*n;return[c+p*r,l.map(b=>b+v)]})}))}function Zve(t,e){let r=1+e();return Vj(r,1+t,e).map(n=>[n[0],n.slice(1)])}function Xve(t){let e=mw(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=mw(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,h)=>h.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function eye(){return Wve(Uve("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Py=eye();new Set(mw(Py)),new Set(mw(Py)),Jve(Py),Xve(Py);const tye=new Uint8Array(32);tye.fill(0);const rye=`Ethereum Signed Message:
`;function Kj(t){return typeof t=="string"&&(t=$5(t)),h9(Rve([$5(rye),$5(String(t.length)),t]))}const nye="address/5.7.0",c1=new si(nye);function IP(t){Ns(t,20)||c1.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=on(h9(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const iye=9007199254740991;function sye(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const p9={};for(let t=0;t<10;t++)p9[String(t)]=String(t);for(let t=0;t<26;t++)p9[String.fromCharCode(65+t)]=String(10+t);const CP=Math.floor(sye(iye));function oye(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>p9[n]).join("");for(;e.length>=CP;){let n=e.substring(0,CP);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function aye(t){let e=null;if(typeof t!="string"&&c1.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=IP(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&c1.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==oye(t)&&c1.throwArgumentError("bad icap checksum","address",t),e=Dve(t.substring(4));e.length<40;)e="0"+e;e=IP("0x"+e)}else c1.throwArgumentError("invalid address","address",t);return e}function Vp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const cye=new Uint8Array(32);cye.fill(0),zi.from(-1);const lye=zi.from(0),uye=zi.from(1);zi.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ka(uye.toHexString(),32),Ka(lye.toHexString(),32);var Ia={},Jt={},Mm=Gj;function Gj(t,e){if(!t)throw new Error(e||"Assertion failed")}Gj.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var cE={exports:{}};typeof Object.create=="function"?cE.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:cE.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var fye=Mm,hye=cE.exports;Jt.inherits=hye;function dye(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function pye(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):dye(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Jt.toArray=pye;function gye(t){for(var e="",r=0;r<t.length;r++)e+=Qj(t[r].toString(16));return e}Jt.toHex=gye;function Jj(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Jt.htonl=Jj;function mye(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=Jj(i)),r+=Yj(i.toString(16))}return r}Jt.toHex32=mye;function Qj(t){return t.length===1?"0"+t:t}Jt.zero2=Qj;function Yj(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Jt.zero8=Yj;function vye(t,e,r,n){var i=r-e;fye(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}Jt.join32=vye;function yye(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Jt.split32=yye;function wye(t,e){return t>>>e|t<<32-e}Jt.rotr32=wye;function bye(t,e){return t<<e|t>>>32-e}Jt.rotl32=bye;function _ye(t,e){return t+e>>>0}Jt.sum32=_ye;function Eye(t,e,r){return t+e+r>>>0}Jt.sum32_3=Eye;function Sye(t,e,r,n){return t+e+r+n>>>0}Jt.sum32_4=Sye;function xye(t,e,r,n,i){return t+e+r+n+i>>>0}Jt.sum32_5=xye;function Aye(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Jt.sum64=Aye;function Iye(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Jt.sum64_hi=Iye;function Cye(t,e,r,n){var i=e+n;return i>>>0}Jt.sum64_lo=Cye;function Mye(t,e,r,n,i,s,o,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var h=t+r+i+o+c;return h>>>0}Jt.sum64_4_hi=Mye;function Rye(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}Jt.sum64_4_lo=Rye;function Pye(t,e,r,n,i,s,o,a,c,l){var h=0,p=e;p=p+n>>>0,h+=p<e?1:0,p=p+s>>>0,h+=p<s?1:0,p=p+a>>>0,h+=p<a?1:0,p=p+l>>>0,h+=p<l?1:0;var v=t+r+i+o+c+h;return v>>>0}Jt.sum64_5_hi=Pye;function kye(t,e,r,n,i,s,o,a,c,l){var h=e+n+s+a+l;return h>>>0}Jt.sum64_5_lo=kye;function Oye(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Jt.rotr64_hi=Oye;function Tye(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Jt.rotr64_lo=Tye;function Nye(t,e,r){return t>>>r}Jt.shr64_hi=Nye;function $ye(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Jt.shr64_lo=$ye;var X0={},MP=Jt,Dye=Mm;function ky(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}X0.BlockHash=ky,ky.prototype.update=function(t,e){if(t=MP.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var r=t.length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=MP.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},ky.prototype.digest=function(t){return this.update(this._pad()),Dye(this.pending===null),this._digest(t)},ky.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=t&255}else for(n[i++]=t&255,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var Yh={},cc={},Lye=Jt,Ga=Lye.rotr32;function Bye(t,e,r,n){if(t===0)return Zj(e,r,n);if(t===1||t===3)return eU(e,r,n);if(t===2)return Xj(e,r,n)}cc.ft_1=Bye;function Zj(t,e,r){return t&e^~t&r}cc.ch32=Zj;function Xj(t,e,r){return t&e^t&r^e&r}cc.maj32=Xj;function eU(t,e,r){return t^e^r}cc.p32=eU;function Fye(t){return Ga(t,2)^Ga(t,13)^Ga(t,22)}cc.s0_256=Fye;function jye(t){return Ga(t,6)^Ga(t,11)^Ga(t,25)}cc.s1_256=jye;function Uye(t){return Ga(t,7)^Ga(t,18)^t>>>3}cc.g0_256=Uye;function zye(t){return Ga(t,17)^Ga(t,19)^t>>>10}cc.g1_256=zye;var g0=Jt,qye=X0,Hye=cc,L5=g0.rotl32,Kp=g0.sum32,Wye=g0.sum32_5,Vye=Hye.ft_1,tU=qye.BlockHash,Kye=[1518500249,1859775393,2400959708,3395469782];function Na(){if(!(this instanceof Na))return new Na;tU.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}g0.inherits(Na,tU);var Gye=Na;Na.blockSize=512,Na.outSize=160,Na.hmacStrength=80,Na.padLength=64,Na.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=L5(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var l=~~(n/20),h=Wye(L5(i,5),Vye(l,s,o,a),c,r[n],Kye[l]);c=a,a=o,o=L5(s,30),s=i,i=h}this.h[0]=Kp(this.h[0],i),this.h[1]=Kp(this.h[1],s),this.h[2]=Kp(this.h[2],o),this.h[3]=Kp(this.h[3],a),this.h[4]=Kp(this.h[4],c)},Na.prototype._digest=function(t){return t==="hex"?g0.toHex32(this.h,"big"):g0.split32(this.h,"big")};var m0=Jt,Jye=X0,ep=cc,Qye=Mm,$o=m0.sum32,Yye=m0.sum32_4,Zye=m0.sum32_5,Xye=ep.ch32,e2e=ep.maj32,t2e=ep.s0_256,r2e=ep.s1_256,n2e=ep.g0_256,i2e=ep.g1_256,rU=Jye.BlockHash,s2e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $a(){if(!(this instanceof $a))return new $a;rU.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=s2e,this.W=new Array(64)}m0.inherits($a,rU);var nU=$a;$a.blockSize=512,$a.outSize=256,$a.hmacStrength=192,$a.padLength=64,$a.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Yye(i2e(r[n-2]),r[n-7],n2e(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],h=this.h[6],p=this.h[7];for(Qye(this.k.length===r.length),n=0;n<r.length;n++){var v=Zye(p,r2e(c),Xye(c,l,h),this.k[n],r[n]),b=$o(t2e(i),e2e(i,s,o));p=h,h=l,l=c,c=$o(a,v),a=o,o=s,s=i,i=$o(v,b)}this.h[0]=$o(this.h[0],i),this.h[1]=$o(this.h[1],s),this.h[2]=$o(this.h[2],o),this.h[3]=$o(this.h[3],a),this.h[4]=$o(this.h[4],c),this.h[5]=$o(this.h[5],l),this.h[6]=$o(this.h[6],h),this.h[7]=$o(this.h[7],p)},$a.prototype._digest=function(t){return t==="hex"?m0.toHex32(this.h,"big"):m0.split32(this.h,"big")};var lE=Jt,iU=nU;function Dc(){if(!(this instanceof Dc))return new Dc;iU.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}lE.inherits(Dc,iU);var o2e=Dc;Dc.blockSize=512,Dc.outSize=224,Dc.hmacStrength=192,Dc.padLength=64,Dc.prototype._digest=function(t){return t==="hex"?lE.toHex32(this.h.slice(0,7),"big"):lE.split32(this.h.slice(0,7),"big")};var ds=Jt,a2e=X0,c2e=Mm,Ja=ds.rotr64_hi,Qa=ds.rotr64_lo,sU=ds.shr64_hi,oU=ds.shr64_lo,Al=ds.sum64,B5=ds.sum64_hi,F5=ds.sum64_lo,l2e=ds.sum64_4_hi,u2e=ds.sum64_4_lo,f2e=ds.sum64_5_hi,h2e=ds.sum64_5_lo,aU=a2e.BlockHash,d2e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ko(){if(!(this instanceof Ko))return new Ko;aU.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=d2e,this.W=new Array(160)}ds.inherits(Ko,aU);var cU=Ko;Ko.blockSize=1024,Ko.outSize=512,Ko.hmacStrength=192,Ko.padLength=128,Ko.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=x2e(r[n-4],r[n-3]),s=A2e(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],c=E2e(r[n-30],r[n-29]),l=S2e(r[n-30],r[n-29]),h=r[n-32],p=r[n-31];r[n]=l2e(i,s,o,a,c,l,h,p),r[n+1]=u2e(i,s,o,a,c,l,h,p)}},Ko.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=this.h[5],l=this.h[6],h=this.h[7],p=this.h[8],v=this.h[9],b=this.h[10],S=this.h[11],T=this.h[12],B=this.h[13],R=this.h[14],P=this.h[15];c2e(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var L=R,D=P,q=b2e(p,v),M=_2e(p,v),H=p2e(p,v,b,S,T),te=g2e(p,v,b,S,T,B),oe=this.k[O],K=this.k[O+1],k=r[O],g=r[O+1],f=f2e(L,D,q,M,H,te,oe,K,k,g),m=h2e(L,D,q,M,H,te,oe,K,k,g);L=y2e(n,i),D=w2e(n,i),q=m2e(n,i,s,o,a),M=v2e(n,i,s,o,a,c);var _=B5(L,D,q,M),I=F5(L,D,q,M);R=T,P=B,T=b,B=S,b=p,S=v,p=B5(l,h,f,m),v=F5(h,h,f,m),l=a,h=c,a=s,c=o,s=n,o=i,n=B5(f,m,_,I),i=F5(f,m,_,I)}Al(this.h,0,n,i),Al(this.h,2,s,o),Al(this.h,4,a,c),Al(this.h,6,l,h),Al(this.h,8,p,v),Al(this.h,10,b,S),Al(this.h,12,T,B),Al(this.h,14,R,P)},Ko.prototype._digest=function(t){return t==="hex"?ds.toHex32(this.h,"big"):ds.split32(this.h,"big")};function p2e(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function g2e(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function m2e(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function v2e(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function y2e(t,e){var r=Ja(t,e,28),n=Ja(e,t,2),i=Ja(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function w2e(t,e){var r=Qa(t,e,28),n=Qa(e,t,2),i=Qa(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function b2e(t,e){var r=Ja(t,e,14),n=Ja(t,e,18),i=Ja(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function _2e(t,e){var r=Qa(t,e,14),n=Qa(t,e,18),i=Qa(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function E2e(t,e){var r=Ja(t,e,1),n=Ja(t,e,8),i=sU(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function S2e(t,e){var r=Qa(t,e,1),n=Qa(t,e,8),i=oU(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function x2e(t,e){var r=Ja(t,e,19),n=Ja(e,t,29),i=sU(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function A2e(t,e){var r=Qa(t,e,19),n=Qa(e,t,29),i=oU(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var uE=Jt,lU=cU;function Lc(){if(!(this instanceof Lc))return new Lc;lU.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}uE.inherits(Lc,lU);var I2e=Lc;Lc.blockSize=1024,Lc.outSize=384,Lc.hmacStrength=192,Lc.padLength=128,Lc.prototype._digest=function(t){return t==="hex"?uE.toHex32(this.h.slice(0,12),"big"):uE.split32(this.h.slice(0,12),"big")},Yh.sha1=Gye,Yh.sha224=o2e,Yh.sha256=nU,Yh.sha384=I2e,Yh.sha512=cU;var uU={},$f=Jt,C2e=X0,Oy=$f.rotl32,RP=$f.sum32,Gp=$f.sum32_3,PP=$f.sum32_4,fU=C2e.BlockHash;function Ca(){if(!(this instanceof Ca))return new Ca;fU.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}$f.inherits(Ca,fU),uU.ripemd160=Ca,Ca.blockSize=512,Ca.outSize=160,Ca.hmacStrength=192,Ca.padLength=64,Ca.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,c=n,l=i,h=s,p=o,v=0;v<80;v++){var b=RP(Oy(PP(r,kP(v,n,i,s),t[P2e[v]+e],M2e(v)),O2e[v]),o);r=o,o=s,s=Oy(i,10),i=n,n=b,b=RP(Oy(PP(a,kP(79-v,c,l,h),t[k2e[v]+e],R2e(v)),T2e[v]),p),a=p,p=h,h=Oy(l,10),l=c,c=b}b=Gp(this.h[1],i,h),this.h[1]=Gp(this.h[2],s,p),this.h[2]=Gp(this.h[3],o,a),this.h[3]=Gp(this.h[4],r,c),this.h[4]=Gp(this.h[0],n,l),this.h[0]=b},Ca.prototype._digest=function(t){return t==="hex"?$f.toHex32(this.h,"little"):$f.split32(this.h,"little")};function kP(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function M2e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function R2e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var P2e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k2e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],O2e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],T2e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],N2e=Jt,$2e=Mm;function Od(t,e,r){if(!(this instanceof Od))return new Od(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(N2e.toArray(e,r))}var D2e=Od;Od.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),$2e(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)},Od.prototype.update=function(t,e){return this.inner.update(t,e),this},Od.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Jt,e.common=X0,e.sha=Yh,e.ripemd=uU,e.hmac=D2e,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Ia);function tp(t,e,r){return r={path:e,exports:{},require:function(n,i){return L2e(n,i??r.path)}},t(r,r.exports),r.exports}function L2e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var g9=hU;function hU(t,e){if(!t)throw new Error(e||"Assertion failed")}hU.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Qo=tp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var h=o.charCodeAt(l),p=h>>8,v=h&255;p?c.push(p,v):c.push(v)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(o,a){return a==="hex"?s(o):o}}),Ds=tp(function(t,e){var r=e;r.assert=g9,r.toArray=Qo.toArray,r.zero2=Qo.zero2,r.toHex=Qo.toHex,r.encode=Qo.encode;function n(c,l,h){var p=new Array(Math.max(c.bitLength(),h)+1);p.fill(0);for(var v=1<<l+1,b=c.clone(),S=0;S<p.length;S++){var T,B=b.andln(v-1);b.isOdd()?(B>(v>>1)-1?T=(v>>1)-B:T=B,b.isubn(T)):T=0,p[S]=T,b.iushrn(1)}return p}r.getNAF=n;function i(c,l){var h=[[],[]];c=c.clone(),l=l.clone();for(var p=0,v=0,b;c.cmpn(-p)>0||l.cmpn(-v)>0;){var S=c.andln(3)+p&3,T=l.andln(3)+v&3;S===3&&(S=-1),T===3&&(T=-1);var B;S&1?(b=c.andln(7)+p&7,(b===3||b===5)&&T===2?B=-S:B=S):B=0,h[0].push(B);var R;T&1?(b=l.andln(7)+v&7,(b===3||b===5)&&S===2?R=-T:R=T):R=0,h[1].push(R),2*p===B+1&&(p=1-p),2*v===R+1&&(v=1-v),c.iushrn(1),l.iushrn(1)}return h}r.getJSF=i;function s(c,l,h){var p="_"+l;c.prototype[l]=function(){return this[p]!==void 0?this[p]:this[p]=h.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new Tt(c,"hex","le")}r.intFromLE=a}),Ty=Ds.getNAF,B2e=Ds.getJSF,vw=Ds.assert;function Ll(t,e){this.type=t,this.p=new Tt(e.p,16),this.red=e.prime?Tt.red(e.prime):Tt.mont(this.p),this.zero=new Tt(0).toRed(this.red),this.one=new Tt(1).toRed(this.red),this.two=new Tt(2).toRed(this.red),this.n=e.n&&new Tt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var hh=Ll;Ll.prototype.point=function(){throw new Error("Not implemented")},Ll.prototype.validate=function(){throw new Error("Not implemented")},Ll.prototype._fixedNafMul=function(t,e){vw(t.precomputed);var r=t._getDoubles(),n=Ty(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s=[],o,a;for(o=0;o<n.length;o+=r.step){a=0;for(var c=o+r.step-1;c>=o;c--)a=(a<<1)+n[c];s.push(a)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),p=i;p>0;p--){for(o=0;o<s.length;o++)a=s[o],a===p?h=h.mixedAdd(r.points[o]):a===-p&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},Ll.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Ty(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var c=0;a>=0&&s[a]===0;a--)c++;if(a>=0&&c++,o=o.dblp(c),a<0)break;var l=s[a];vw(l!==0),t.type==="affine"?l>0?o=o.mixedAdd(i[l-1>>1]):o=o.mixedAdd(i[-l-1>>1].neg()):l>0?o=o.add(i[l-1>>1]):o=o.add(i[-l-1>>1].neg())}return t.type==="affine"?o.toP():o},Ll.prototype._wnafMulAdd=function(t,e,r,n,i){var s=this._wnafT1,o=this._wnafT2,a=this._wnafT3,c=0,l,h,p;for(l=0;l<n;l++){p=e[l];var v=p._getNAFPoints(t);s[l]=v.wnd,o[l]=v.points}for(l=n-1;l>=1;l-=2){var b=l-1,S=l;if(s[b]!==1||s[S]!==1){a[b]=Ty(r[b],s[b],this._bitLength),a[S]=Ty(r[S],s[S],this._bitLength),c=Math.max(a[b].length,c),c=Math.max(a[S].length,c);continue}var T=[e[b],null,null,e[S]];e[b].y.cmp(e[S].y)===0?(T[1]=e[b].add(e[S]),T[2]=e[b].toJ().mixedAdd(e[S].neg())):e[b].y.cmp(e[S].y.redNeg())===0?(T[1]=e[b].toJ().mixedAdd(e[S]),T[2]=e[b].add(e[S].neg())):(T[1]=e[b].toJ().mixedAdd(e[S]),T[2]=e[b].toJ().mixedAdd(e[S].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],R=B2e(r[b],r[S]);for(c=Math.max(R[0].length,c),a[b]=new Array(c),a[S]=new Array(c),h=0;h<c;h++){var P=R[0][h]|0,O=R[1][h]|0;a[b][h]=B[(P+1)*3+(O+1)],a[S][h]=0,o[b]=T}}var L=this.jpoint(null,null,null),D=this._wnafT4;for(l=c;l>=0;l--){for(var q=0;l>=0;){var M=!0;for(h=0;h<n;h++)D[h]=a[h][l]|0,D[h]!==0&&(M=!1);if(!M)break;q++,l--}if(l>=0&&q++,L=L.dblp(q),l<0)break;for(h=0;h<n;h++){var H=D[h];H!==0&&(H>0?p=o[h][H-1>>1]:H<0&&(p=o[h][-H-1>>1].neg()),p.type==="affine"?L=L.mixedAdd(p):L=L.add(p))}}for(l=0;l<n;l++)o[l]=null;return i?L:L.toP()};function ro(t,e){this.curve=t,this.type=e,this.precomputed=null}Ll.BasePoint=ro,ro.prototype.eq=function(){throw new Error("Not implemented")},ro.prototype.validate=function(){return this.curve.validate(this)},Ll.prototype.decodePoint=function(t,e){t=Ds.toArray(t,e);var r=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*r){t[0]===6?vw(t[t.length-1]%2===0):t[0]===7&&vw(t[t.length-1]%2===1);var n=this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));return n}else if((t[0]===2||t[0]===3)&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),t[0]===3);throw new Error("Unknown point format")},ro.prototype.encodeCompressed=function(t){return this.encode(t,!0)},ro.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},ro.prototype.encode=function(t,e){return Ds.encode(this._encode(e),t)},ro.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},ro.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((t.bitLength()+1)/e.step):!1},ro.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},ro.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},ro.prototype._getBeta=function(){return null},ro.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var m9=tp(function(t){typeof Object.create=="function"?t.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}}),F2e=Ds.assert;function lo(t){hh.call(this,"short",t),this.a=new Tt(t.a,16).toRed(this.red),this.b=new Tt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}m9(lo,hh);var j2e=lo;lo.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,r;if(t.beta)e=new Tt(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=n[0].cmp(n[1])<0?n[0]:n[1],e=e.toRed(this.red)}if(t.lambda)r=new Tt(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))===0?r=i[0]:(r=i[1],F2e(this.g.mul(r).x.cmp(this.g.x.redMul(e))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new Tt(o.a,16),b:new Tt(o.b,16)}}):s=this._getEndoBasis(r),{beta:e,lambda:r,basis:s}}},lo.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Tt.mont(t),r=new Tt(2).toRed(e).redInvm(),n=r.redNeg(),i=new Tt(3).toRed(e).redNeg().redSqrt().redMul(r),s=n.redAdd(i).fromRed(),o=n.redSub(i).fromRed();return[s,o]},lo.prototype._getEndoBasis=function(t){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=t,n=this.n.clone(),i=new Tt(1),s=new Tt(0),o=new Tt(0),a=new Tt(1),c,l,h,p,v,b,S,T=0,B,R;r.cmpn(0)!==0;){var P=n.div(r);B=n.sub(P.mul(r)),R=o.sub(P.mul(i));var O=a.sub(P.mul(s));if(!h&&B.cmp(e)<0)c=S.neg(),l=i,h=B.neg(),p=R;else if(h&&++T===2)break;S=B,n=r,r=B,o=i,i=R,a=s,s=O}v=B.neg(),b=R;var L=h.sqr().add(p.sqr()),D=v.sqr().add(b.sqr());return D.cmp(L)>=0&&(v=c,b=l),h.negative&&(h=h.neg(),p=p.neg()),v.negative&&(v=v.neg(),b=b.neg()),[{a:h,b:p},{a:v,b}]},lo.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),l=s.mul(n.b),h=t.sub(o).sub(a),p=c.add(l).neg();return{k1:h,k2:p}},lo.prototype.pointFromX=function(t,e){t=new Tt(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},lo.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},lo.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[s*2]=a,n[s*2+1]=c,i[s*2]=o.k1,i[s*2+1]=o.k2}for(var l=this._wnafMulAdd(1,n,i,s*2,r),h=0;h<s*2;h++)n[h]=null,i[h]=null;return l};function Fn(t,e,r,n){hh.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Tt(e,16),this.y=new Tt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}m9(Fn,hh.BasePoint),lo.prototype.point=function(t,e,r){return new Fn(this,t,e,r)},lo.prototype.pointFromJSON=function(t,e){return Fn.fromJSON(this,t,e)},Fn.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Fn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Fn.fromJSON=function(t,e,r){typeof e=="string"&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(o){return t.point(o[0],o[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},Fn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Fn.prototype.isInfinity=function(){return this.inf},Fn.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Fn.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Fn.prototype.getX=function(){return this.x.fromRed()},Fn.prototype.getY=function(){return this.y.fromRed()},Fn.prototype.mul=function(t){return t=new Tt(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Fn.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Fn.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Fn.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},Fn.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Fn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Xn(t,e,r,n){hh.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Tt(0)):(this.x=new Tt(e,16),this.y=new Tt(r,16),this.z=new Tt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}m9(Xn,hh.BasePoint),lo.prototype.jpoint=function(t,e,r){return new Xn(this,t,e,r)},Xn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Xn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Xn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),p=n.redMul(l),v=c.redSqr().redIAdd(h).redISub(p).redISub(p),b=c.redMul(p.redISub(v)).redISub(s.redMul(h)),S=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(v,b,S)},Xn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(o.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),h=r.redMul(c),p=a.redSqr().redIAdd(l).redISub(h).redISub(h),v=a.redMul(h.redISub(p)).redISub(i.redMul(l)),b=this.z.redMul(o);return this.curve.jpoint(p,v,b)},Xn.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),l=o.redAdd(o);for(e=0;e<t;e++){var h=s.redSqr(),p=l.redSqr(),v=p.redSqr(),b=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),S=s.redMul(p),T=b.redSqr().redISub(S.redAdd(S)),B=S.redISub(T),R=b.redMul(B);R=R.redIAdd(R).redISub(v);var P=l.redMul(a);e+1<t&&(c=c.redMul(v)),s=T,a=P,l=R}return this.curve.jpoint(s,l.redMul(i),a)},Xn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Xn.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),t=c,e=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),p=this.y.redSqr(),v=p.redSqr(),b=this.x.redAdd(p).redSqr().redISub(h).redISub(v);b=b.redIAdd(b);var S=h.redAdd(h).redIAdd(h),T=S.redSqr(),B=v.redIAdd(v);B=B.redIAdd(B),B=B.redIAdd(B),t=T.redISub(b).redISub(b),e=S.redMul(b.redISub(t)).redISub(B),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(t,e,r)},Xn.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);t=c;var l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),e=a.redMul(o.redISub(c)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),p=this.y.redSqr(),v=this.x.redMul(p),b=this.x.redSub(h).redMul(this.x.redAdd(h));b=b.redAdd(b).redIAdd(b);var S=v.redIAdd(v);S=S.redIAdd(S);var T=S.redAdd(S);t=b.redSqr().redISub(T),r=this.y.redAdd(this.z).redSqr().redISub(p).redISub(h);var B=p.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),e=b.redMul(S.redISub(t)).redISub(B)}return this.curve.jpoint(t,e,r)},Xn.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),c=e.redAdd(e);c=c.redIAdd(c);var l=c.redMul(o),h=a.redSqr().redISub(l.redAdd(l)),p=l.redISub(h),v=o.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var b=a.redMul(p).redISub(v),S=r.redAdd(r).redMul(n);return this.curve.jpoint(h,b,S)},Xn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var a=o.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var l=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),h=e.redMul(l);h=h.redIAdd(h),h=h.redIAdd(h);var p=this.x.redMul(a).redISub(h);p=p.redIAdd(p),p=p.redIAdd(p);var v=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(a)));v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var b=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(p,v,b)},Xn.prototype.mul=function(t,e){return t=new Tt(t,e),this.curve._wnafMul(this,t)},Xn.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)===0},Xn.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},Xn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Xn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var v2=tp(function(t,e){var r=e;r.base=hh,r.short=j2e,r.mont=null,r.edwards=null}),y2=tp(function(t,e){var r=e,n=Ds.assert;function i(a){a.type==="short"?this.curve=new v2.short(a):a.type==="edwards"?this.curve=new v2.edwards(a):this.curve=new v2.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ia.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ia.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ia.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ia.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ia.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ia.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ia.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ia.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Bl(t){if(!(this instanceof Bl))return new Bl(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Qo.toArray(t.entropy,t.entropyEnc||"hex"),r=Qo.toArray(t.nonce,t.nonceEnc||"hex"),n=Qo.toArray(t.pers,t.persEnc||"hex");g9(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var OP=Bl;Bl.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Bl.prototype._hmac=function(){return new Ia.hmac(this.hash,this.K)},Bl.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Bl.prototype.reseed=function(t,e,r,n){typeof e!="string"&&(n=r,r=e,e=null),t=Qo.toArray(t,e),r=Qo.toArray(r,n),g9(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Bl.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(n=r,r=e,e=null),r&&(r=Qo.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,Qo.encode(s,e)};var j5=Ds.assert;function wi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var U5=wi;wi.fromPublic=function(t,e,r){return e instanceof wi?e:new wi(t,{pub:e,pubEnc:r})},wi.fromPrivate=function(t,e,r){return e instanceof wi?e:new wi(t,{priv:e,privEnc:r})},wi.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},wi.prototype.getPublic=function(t,e){return typeof t=="string"&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},wi.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv},wi.prototype._importPrivate=function(t,e){this.priv=new Tt(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},wi.prototype._importPublic=function(t,e){if(t.x||t.y){this.ec.curve.type==="mont"?j5(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&j5(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,e)},wi.prototype.derive=function(t){return t.validate()||j5(t.validate(),"public point not validated"),t.mul(this.priv).getX()},wi.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},wi.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},wi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var U2e=Ds.assert;function M3(t,e){if(t instanceof M3)return t;this._importDER(t,e)||(U2e(t.r&&t.s,"Signature without r or s"),this.r=new Tt(t.r,16),this.s=new Tt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ny=M3;function z2e(){this.place=0}function z5(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function TP(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}M3.prototype._importDER=function(t,e){t=Ds.toArray(t,e);var r=new z2e;if(t[r.place++]!==48)return!1;var n=z5(t,r);if(n===!1||n+r.place!==t.length||t[r.place++]!==2)return!1;var i=z5(t,r);if(i===!1)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,t[r.place++]!==2)return!1;var o=z5(t,r);if(o===!1||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new Tt(s),this.s=new Tt(a),this.recoveryParam=null,!0};function q5(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}M3.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),r[0]&128&&(r=[0].concat(r)),e=TP(e),r=TP(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var n=[2];q5(n,e.length),n=n.concat(e),n.push(2),q5(n,r.length);var i=n.concat(r),s=[48];return q5(s,i.length),s=s.concat(i),Ds.encode(s,t)};var q2e=function(){throw new Error("unsupported")},dU=Ds.assert;function oo(t){if(!(this instanceof oo))return new oo(t);typeof t=="string"&&(dU(Object.prototype.hasOwnProperty.call(y2,t),"Unknown curve "+t),t=y2[t]),t instanceof y2.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var H2e=oo;oo.prototype.keyPair=function(t){return new U5(this,t)},oo.prototype.keyFromPrivate=function(t,e){return U5.fromPrivate(this,t,e)},oo.prototype.keyFromPublic=function(t,e){return U5.fromPublic(this,t,e)},oo.prototype.genKeyPair=function(t){t||(t={});for(var e=new OP({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||q2e(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Tt(2));;){var i=new Tt(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},oo.prototype._truncateToN=function(t,e){var r=t.byteLength()*8-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},oo.prototype.sign=function(t,e,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Tt(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new OP({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Tt(1)),l=0;;l++){var h=n.k?n.k(l):new Tt(a.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(c)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var v=p.getX(),b=v.umod(this.n);if(b.cmpn(0)!==0){var S=h.invm(this.n).mul(b.mul(e.getPrivate()).iadd(t));if(S=S.umod(this.n),S.cmpn(0)!==0){var T=(p.getY().isOdd()?1:0)|(v.cmp(b)!==0?2:0);return n.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),T^=1),new Ny({r:b,s:S,recoveryParam:T})}}}}}},oo.prototype.verify=function(t,e,r,n){t=this._truncateToN(new Tt(t,16)),r=this.keyFromPublic(r,n),e=new Ny(e,"hex");var i=e.r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),a=o.mul(t).umod(this.n),c=o.mul(i).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(a,r.getPublic(),c),l.isInfinity()?!1:l.eqXToP(i)):(l=this.g.mulAdd(a,r.getPublic(),c),l.isInfinity()?!1:l.getX().umod(this.n).cmp(i)===0)},oo.prototype.recoverPubKey=function(t,e,r,n){dU((3&r)===r,"The recovery param is more than two bits"),e=new Ny(e,n);var i=this.n,s=new Tt(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var h=e.r.invm(i),p=i.sub(s).mul(h).umod(i),v=a.mul(h).umod(i);return this.g.mulAdd(p,o,v)},oo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Ny(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var W2e=tp(function(t,e){var r=e;r.version="6.5.4",r.utils=Ds,r.rand=function(){throw new Error("unsupported")},r.curve=v2,r.curves=y2,r.ec=H2e,r.eddsa=null}),V2e=W2e.ec;const K2e="signing-key/5.7.0",fE=new si(K2e);let H5=null;function kl(){return H5||(H5=new V2e("secp256k1")),H5}class G2e{constructor(e){Vp(this,"curve","secp256k1"),Vp(this,"privateKey",ns(e)),kve(this.privateKey)!==32&&fE.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=kl().keyFromPrivate(on(this.privateKey));Vp(this,"publicKey","0x"+r.getPublic(!1,"hex")),Vp(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Vp(this,"_isSigningKey",!0)}_addPoint(e){const r=kl().keyFromPublic(on(this.publicKey)),n=kl().keyFromPublic(on(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=kl().keyFromPrivate(on(this.privateKey)),n=on(e);n.length!==32&&fE.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Bj({recoveryParam:i.recoveryParam,r:Ka("0x"+i.r.toString(16),32),s:Ka("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=kl().keyFromPrivate(on(this.privateKey)),n=kl().keyFromPublic(on(pU(e)));return Ka("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function J2e(t,e){const r=Bj(e),n={r:on(r.r),s:on(r.s)};return"0x"+kl().recoverPubKey(on(t),n,r.recoveryParam).encode("hex",!1)}function pU(t,e){const r=on(t);return r.length===32?new G2e(r).publicKey:r.length===33?"0x"+kl().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ns(r):fE.throwArgumentError("invalid public or private key","key","[REDACTED]")}var NP;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(NP||(NP={}));function Q2e(t){const e=pU(t);return aye(wP(h9(wP(e,1)),12))}function Y2e(t,e){return Q2e(J2e(on(t),e))}const Z2e="https://rpc.walletconnect.org/v1";async function X2e(t,e,r,n,i,s){switch(r.t){case"eip191":return ewe(t,e,r.s);case"eip1271":return await twe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function ewe(t,e,r){return Y2e(Kj(e),r).toLowerCase()===t.toLowerCase()}async function twe(t,e,r,n,i,s){try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",l=r.substring(2),h=Kj(e).substring(2),p=o+h+a+c+l,v=await fetch(`${s||Z2e}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:rwe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:p},"latest"]})}),{result:b}=await v.json();return b?b.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function rwe(){return Date.now()+Math.floor(Math.random()*1e3)}var nwe=Object.defineProperty,iwe=Object.defineProperties,swe=Object.getOwnPropertyDescriptors,$P=Object.getOwnPropertySymbols,owe=Object.prototype.hasOwnProperty,awe=Object.prototype.propertyIsEnumerable,DP=(t,e,r)=>e in t?nwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cwe=(t,e)=>{for(var r in e||(e={}))owe.call(e,r)&&DP(t,r,e[r]);if($P)for(var r of $P(e))awe.call(e,r)&&DP(t,r,e[r]);return t},lwe=(t,e)=>iwe(t,swe(e));const uwe="did:pkh:",v9=t=>t==null?void 0:t.split(":"),gU=t=>{const e=t&&v9(t);if(e)return t.includes(uwe)?e[3]:e[1]},LP=t=>{const e=t&&v9(t);if(e)return e[2]+":"+e[3]},yw=t=>{const e=t&&v9(t);if(e)return e.pop()};async function BP(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=mU(i,i.iss),o=yw(i.iss);return await X2e(o,s,n,gU(i.iss),r)}const mU=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=yw(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${gU(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,p=t.nbf?`Not Before: ${t.nbf}`:void 0,v=t.requestId?`Request ID: ${t.requestId}`:void 0,b=t.resources?`Resources:${t.resources.map(T=>`
- ${T}`).join("")}`:void 0,S=w2(t.resources);if(S){const T=Sg(S);i=wwe(i,T)}return[r,n,"",i,"",s,o,a,c,l,h,p,v,b].filter(T=>T!=null).join(`
`)};function fwe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function hwe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Gf(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function dwe(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:pwe(e,r,n)}}}function pwe(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function vU(t){return Gf(t),`urn:recap:${fwe(t).replace(/=/g,"")}`}function Sg(t){const e=hwe(t.replace("urn:recap:",""));return Gf(e),e}function gwe(t,e,r){const n=dwe(t,e,r);return vU(n)}function mwe(t){return t&&t.includes("urn:recap:")}function vwe(t,e){const r=Sg(t),n=Sg(e),i=ywe(r,n);return vU(i)}function ywe(t,e){Gf(t),Gf(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=lwe(cwe({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function wwe(t="",e){Gf(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(p=>({ability:p.split("/")[0],action:p.split("/")[1]}));c.sort((p,v)=>p.action.localeCompare(v.action));const l={};c.forEach(p=>{l[p.ability]||(l[p.ability]=[]),l[p.ability].push(p.action)});const h=Object.keys(l).map(p=>(i++,`(${i}) '${p}': '${l[p].join("', '")}' for '${a}'.`));n.push(h.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function FP(t){var e;const r=Sg(t);Gf(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function jP(t){const e=Sg(t);Gf(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function w2(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return mwe(e)?e:void 0}const yU="base10",ji="base16",Zl="base64pad",Jp="base64url",Rm="utf8",wU=0,Hc=1,Pm=2,bwe=0,UP=1,k1=12,y9=32;function _we(){const t=r9.generateKeyPair();return{privateKey:Kn(t.secretKey,ji),publicKey:Kn(t.publicKey,ji)}}function hE(){const t=Mu.randomBytes(y9);return Kn(t,ji)}function Ewe(t,e){const r=r9.sharedKey(Wn(t,ji),Wn(e,ji),!0),n=new Epe(Em.SHA256,r).expand(y9);return Kn(n,ji)}function b2(t){const e=Em.hash(Wn(t,ji));return Kn(e,ji)}function Nc(t){const e=Em.hash(Wn(t,Rm));return Kn(e,ji)}function bU(t){return Wn(`${t}`,yU)}function Jf(t){return Number(Kn(t,yU))}function Swe(t){const e=bU(typeof t.type<"u"?t.type:wU);if(Jf(e)===Hc&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Wn(t.senderPublicKey,ji):void 0,n=typeof t.iv<"u"?Wn(t.iv,ji):Mu.randomBytes(k1),i=new e9.ChaCha20Poly1305(Wn(t.symKey,ji)).seal(n,Wn(t.message,Rm));return _U({type:e,sealed:i,iv:n,senderPublicKey:r,encoding:t.encoding})}function xwe(t,e){const r=bU(Pm),n=Mu.randomBytes(k1),i=Wn(t,Rm);return _U({type:r,sealed:i,iv:n,encoding:e})}function Awe(t){const e=new e9.ChaCha20Poly1305(Wn(t.symKey,ji)),{sealed:r,iv:n}=xg({encoded:t.encoded,encoding:t==null?void 0:t.encoding}),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return Kn(i,Rm)}function Iwe(t,e){const{sealed:r}=xg({encoded:t,encoding:e});return Kn(r,Rm)}function _U(t){const{encoding:e=Zl}=t;if(Jf(t.type)===Pm)return Kn(p2([t.type,t.sealed]),e);if(Jf(t.type)===Hc){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Kn(p2([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return Kn(p2([t.type,t.iv,t.sealed]),e)}function xg(t){const{encoded:e,encoding:r=Zl}=t,n=Wn(e,r),i=n.slice(bwe,UP),s=UP;if(Jf(i)===Hc){const l=s+y9,h=l+k1,p=n.slice(s,l),v=n.slice(l,h),b=n.slice(h);return{type:i,sealed:b,iv:v,senderPublicKey:p}}if(Jf(i)===Pm){const l=n.slice(s),h=Mu.randomBytes(k1);return{type:i,sealed:l,iv:h}}const o=s+k1,a=n.slice(s,o),c=n.slice(o);return{type:i,sealed:c,iv:a}}function Cwe(t,e){const r=xg({encoded:t,encoding:e==null?void 0:e.encoding});return EU({type:Jf(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Kn(r.senderPublicKey,ji):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function EU(t){const e=(t==null?void 0:t.type)||wU;if(e===Hc){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function zP(t){return t.type===Hc&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function qP(t){return t.type===Pm}function Mwe(t){return new QF.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function Rwe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function Pwe(t){return Buffer.from(Rwe(t),"base64")}function kwe(t,e){const[r,n,i]=t.split("."),s=Pwe(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new Em.SHA256().update(Buffer.from(c)).digest(),h=Mwe(e),p=Buffer.from(l).toString("hex");if(!h.verify(p,{r:o,s:a}))throw new Error("Invalid signature");return sE(t).payload}const Owe="irn";function dE(t){return(t==null?void 0:t.relay)||{protocol:Owe}}function l1(t){const e=nve[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Twe=Object.defineProperty,Nwe=Object.defineProperties,$we=Object.getOwnPropertyDescriptors,HP=Object.getOwnPropertySymbols,Dwe=Object.prototype.hasOwnProperty,Lwe=Object.prototype.propertyIsEnumerable,WP=(t,e,r)=>e in t?Twe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,VP=(t,e)=>{for(var r in e||(e={}))Dwe.call(e,r)&&WP(t,r,e[r]);if(HP)for(var r of HP(e))Lwe.call(e,r)&&WP(t,r,e[r]);return t},Bwe=(t,e)=>Nwe(t,$we(e));function Fwe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function KP(t){if(!t.includes("wc:")){const c=Nj(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=_g.parse(s),a=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:jwe(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:Fwe(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function jwe(t){return t.startsWith("//")?t.substring(2):t}function Uwe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=r+e+i;t[i]&&(n[s]=t[i])}),n}function GP(t){return`${t.protocol}:${t.topic}@${t.version}?`+_g.stringify(VP(Bwe(VP({symKey:t.symKey},Uwe(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}function $y(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function rp(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function zwe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...rp(r.accounts))}),e}function qwe(t,e){const r=[];return Object.values(t).forEach(n=>{rp(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Hwe(t,e){const r=[];return Object.values(t).forEach(n=>{rp(n.accounts).includes(e)&&r.push(...n.events)}),r}function w9(t){return t.includes(":")}function u1(t){return w9(t)?t.split(":")[0]:t}function Wwe(t){const e={};return t==null||t.forEach(r=>{const[n,i]=r.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[]}),e[n].accounts.push(r),e[n].chains.push(`${n}:${i}`)}),e}function JP(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Wwe(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=g2(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const Vwe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Kwe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ze(t,e){const{message:r,code:n}=Kwe[t];return{message:e?`${r} ${e}`:r,code:n}}function pr(t,e){const{message:r,code:n}=Vwe[t];return{message:e?`${r} ${e}`:r,code:n}}function rc(t,e){return!!Array.isArray(t)}function Ag(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function os(t){return typeof t>"u"}function pn(t,e){return e&&os(t)?!0:typeof t=="string"&&!!t.trim().length}function b9(t,e){return typeof t=="number"&&!isNaN(t)}function Gwe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return _f(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],h=rp(a),p=r[o];(!_f(Cj(o,p),h)||!_f(p.methods,c)||!_f(p.events,l))&&(s=!1)}),s):!1}function ww(t){return pn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Jwe(t){if(pn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&ww(r)}}return!1}function Qwe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(pn(t,!1)){if(e(t))return!0;const r=Nj(t);return e(r)}}catch{}return!1}function Ywe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Zwe(t){return t==null?void 0:t.topic}function Xwe(t,e){let r=null;return pn(t==null?void 0:t.publicKey,!1)||(r=ze("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function QP(t){let e=!0;return rc(t)?t.length&&(e=t.every(r=>pn(r,!1))):e=!1,e}function ebe(t,e,r){let n=null;return rc(e)&&e.length?e.forEach(i=>{n||ww(i)||(n=pr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):ww(t)||(n=pr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function tbe(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=ebe(i,Cj(i,s),`${e} ${r}`);o&&(n=o)}),n}function rbe(t,e){let r=null;return rc(t)?t.forEach(n=>{r||Jwe(n)||(r=pr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=pr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function nbe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=rbe(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function ibe(t,e){let r=null;return QP(t==null?void 0:t.methods)?QP(t==null?void 0:t.events)||(r=pr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=pr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function SU(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=ibe(n,`${e}, namespace`);i&&(r=i)}),r}function sbe(t,e,r){let n=null;if(t&&Ag(t)){const i=SU(t,e);i&&(n=i);const s=tbe(t,e,r);s&&(n=s)}else n=ze("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function W5(t,e){let r=null;if(t&&Ag(t)){const n=SU(t,e);n&&(r=n);const i=nbe(t,e);i&&(r=i)}else r=ze("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function xU(t){return pn(t.protocol,!0)}function obe(t,e){let r=!1;return t?t&&rc(t)&&t.length&&t.forEach(n=>{r=xU(n)}):r=!0,r}function abe(t){return typeof t=="number"}function ts(t){return typeof t<"u"&&typeof t!==null}function cbe(t){return!(!t||typeof t!="object"||!t.code||!b9(t.code)||!t.message||!pn(t.message,!1))}function lbe(t){return!(os(t)||!pn(t.method,!1))}function ube(t){return!(os(t)||os(t.result)&&os(t.error)||!b9(t.id)||!pn(t.jsonrpc,!1))}function fbe(t){return!(os(t)||!pn(t.name,!1))}function YP(t,e){return!(!ww(e)||!zwe(t).includes(e))}function hbe(t,e,r){return pn(r,!1)?qwe(t,e).includes(r):!1}function dbe(t,e,r){return pn(r,!1)?Hwe(t,e).includes(r):!1}function ZP(t,e,r){let n=null;const i=pbe(t),s=gbe(e),o=Object.keys(i),a=Object.keys(s),c=XP(Object.keys(t)),l=XP(Object.keys(e)),h=c.filter(p=>!l.includes(p));return h.length&&(n=ze("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),_f(o,a)||(n=ze("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(p=>{if(!p.includes(":")||n)return;const v=rp(e[p].accounts);v.includes(p)||(n=ze("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${p}
        Required: ${p}
        Approved: ${v.toString()}`))}),o.forEach(p=>{n||(_f(i[p].methods,s[p].methods)?_f(i[p].events,s[p].events)||(n=ze("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${p}`)):n=ze("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${p}`))}),n}function pbe(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function XP(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function gbe(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=rp(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function mbe(t,e){return b9(t)&&t<=e.max&&t>=e.min}function ek(){const t=Cm();return new Promise(e=>{switch(t){case Os.browser:e(vbe());break;case Os.reactNative:e(ybe());break;case Os.node:e(wbe());break;default:e(!0)}})}function vbe(){return Im()&&(navigator==null?void 0:navigator.onLine)}async function ybe(){if(Y0()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function wbe(){return!0}function bbe(t){switch(Cm()){case Os.browser:_be(t);break;case Os.reactNative:Ebe(t);break}}function _be(t){!Y0()&&Im()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Ebe(t){Y0()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const V5={};class Qp{static get(e){return V5[e]}static set(e,r){V5[e]=r}static delete(e){delete V5[e]}}class dh{}let Sbe=class extends dh{constructor(e){super()}};const tk=He.FIVE_SECONDS,np={pulse:"heartbeat_pulse"};let xbe=class AU extends Sbe{constructor(e){super(e),this.events=new ci.EventEmitter,this.interval=tk,this.interval=(e==null?void 0:e.interval)||tk}static async init(e){const r=new AU(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),He.toMiliseconds(this.interval))}pulse(){this.events.emit(np.pulse)}};const Abe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ibe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Cbe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Mbe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Rbe(t);return}return e}function Rbe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Dy(t,e={}){if(typeof t!="string")return t;const r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!Cbe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Abe.test(t)||Ibe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Mbe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function Pbe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zn(t,...e){try{return Pbe(t(...e))}catch(r){return Promise.reject(r)}}function kbe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Obe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function _2(t){if(kbe(t))return String(t);if(Obe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return _2(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function IU(){if(typeof Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const pE="base64:";function Tbe(t){if(typeof t=="string")return t;IU();const e=Buffer.from(t).toString("base64");return pE+e}function Nbe(t){return typeof t!="string"||!t.startsWith(pE)?t:(IU(),Buffer.from(t.slice(pE.length),"base64"))}function es(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function $be(...t){return es(t.join(":"))}function Ly(t){return t=es(t),t?t+":":""}const Dbe="memory",Lbe=()=>{const t=new Map;return{name:Dbe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Bbe(t={}){const e={mounts:{"":t.driver||Lbe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const h of e.mountpoints)if(l.startsWith(h))return{base:h,relativeKey:l.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,h)=>e.mountpoints.filter(p=>p.startsWith(l)||h&&l.startsWith(p)).map(p=>({relativeBase:l.length>p.length?l.slice(p.length):void 0,mountpoint:p,driver:e.mounts[p]})),i=(l,h)=>{if(e.watching){h=es(h);for(const p of e.watchListeners)p(l,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await rk(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,h,p)=>{const v=new Map,b=S=>{let T=v.get(S.base);return T||(T={driver:S.driver,base:S.base,items:[]},v.set(S.base,T)),T};for(const S of l){const T=typeof S=="string",B=es(T?S:S.key),R=T?void 0:S.value,P=T||!S.options?h:{...h,...S.options},O=r(B);b(O).items.push({key:B,value:R,relativeKey:O.relativeKey,options:P})}return Promise.all([...v.values()].map(S=>p(S))).then(S=>S.flat())},c={hasItem(l,h={}){l=es(l);const{relativeKey:p,driver:v}=r(l);return zn(v.hasItem,p,h)},getItem(l,h={}){l=es(l);const{relativeKey:p,driver:v}=r(l);return zn(v.getItem,p,h).then(b=>Dy(b))},getItems(l,h){return a(l,h,p=>p.driver.getItems?zn(p.driver.getItems,p.items.map(v=>({key:v.relativeKey,options:v.options})),h).then(v=>v.map(b=>({key:$be(p.base,b.key),value:Dy(b.value)}))):Promise.all(p.items.map(v=>zn(p.driver.getItem,v.relativeKey,v.options).then(b=>({key:v.key,value:Dy(b)})))))},getItemRaw(l,h={}){l=es(l);const{relativeKey:p,driver:v}=r(l);return v.getItemRaw?zn(v.getItemRaw,p,h):zn(v.getItem,p,h).then(b=>Nbe(b))},async setItem(l,h,p={}){if(h===void 0)return c.removeItem(l);l=es(l);const{relativeKey:v,driver:b}=r(l);b.setItem&&(await zn(b.setItem,v,_2(h),p),b.watch||i("update",l))},async setItems(l,h){await a(l,h,async p=>{if(p.driver.setItems)return zn(p.driver.setItems,p.items.map(v=>({key:v.relativeKey,value:_2(v.value),options:v.options})),h);p.driver.setItem&&await Promise.all(p.items.map(v=>zn(p.driver.setItem,v.relativeKey,_2(v.value),v.options)))})},async setItemRaw(l,h,p={}){if(h===void 0)return c.removeItem(l,p);l=es(l);const{relativeKey:v,driver:b}=r(l);if(b.setItemRaw)await zn(b.setItemRaw,v,h,p);else if(b.setItem)await zn(b.setItem,v,Tbe(h),p);else return;b.watch||i("update",l)},async removeItem(l,h={}){typeof h=="boolean"&&(h={removeMeta:h}),l=es(l);const{relativeKey:p,driver:v}=r(l);v.removeItem&&(await zn(v.removeItem,p,h),(h.removeMeta||h.removeMata)&&await zn(v.removeItem,p+"$",h),v.watch||i("remove",l))},async getMeta(l,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),l=es(l);const{relativeKey:p,driver:v}=r(l),b=Object.create(null);if(v.getMeta&&Object.assign(b,await zn(v.getMeta,p,h)),!h.nativeOnly){const S=await zn(v.getItem,p+"$",h).then(T=>Dy(T));S&&typeof S=="object"&&(typeof S.atime=="string"&&(S.atime=new Date(S.atime)),typeof S.mtime=="string"&&(S.mtime=new Date(S.mtime)),Object.assign(b,S))}return b},setMeta(l,h,p={}){return this.setItem(l+"$",h,p)},removeMeta(l,h={}){return this.removeItem(l+"$",h)},async getKeys(l,h={}){l=Ly(l);const p=n(l,!0);let v=[];const b=[];for(const S of p){const T=await zn(S.driver.getKeys,S.relativeBase,h);for(const B of T){const R=S.mountpoint+es(B);v.some(P=>R.startsWith(P))||b.push(R)}v=[S.mountpoint,...v.filter(B=>!B.startsWith(S.mountpoint))]}return l?b.filter(S=>S.startsWith(l)&&S[S.length-1]!=="$"):b.filter(S=>S[S.length-1]!=="$")},async clear(l,h={}){l=Ly(l),await Promise.all(n(l,!1).map(async p=>{if(p.driver.clear)return zn(p.driver.clear,p.relativeBase,h);if(p.driver.removeItem){const v=await p.driver.getKeys(p.relativeBase||"",h);return Promise.all(v.map(b=>p.driver.removeItem(b,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>nk(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,h){if(l=Ly(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((p,v)=>v.length-p.length)),e.mounts[l]=h,e.watching&&Promise.resolve(rk(h,i,l)).then(p=>{e.unwatch[l]=p}).catch(console.error),c},async unmount(l,h=!0){l=Ly(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l](),delete e.unwatch[l]),h&&await nk(e.mounts[l]),e.mountpoints=e.mountpoints.filter(p=>p!==l),delete e.mounts[l])},getMount(l=""){l=es(l)+":";const h=r(l);return{driver:h.driver,base:h.base}},getMounts(l="",h={}){return l=es(l),n(l,h.parents).map(v=>({driver:v.driver,base:v.mountpoint}))},keys:(l,h={})=>c.getKeys(l,h),get:(l,h={})=>c.getItem(l,h),set:(l,h,p={})=>c.setItem(l,h,p),has:(l,h={})=>c.hasItem(l,h),del:(l,h={})=>c.removeItem(l,h),remove:(l,h={})=>c.removeItem(l,h)};return c}function rk(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function nk(t){typeof t.dispose=="function"&&await zn(t.dispose)}function ph(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function CU(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=ph(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let K5;function km(){return K5||(K5=CU("keyval-store","keyval")),K5}function ik(t,e=km()){return e("readonly",r=>ph(r.get(t)))}function Fbe(t,e,r=km()){return r("readwrite",n=>(n.put(e,t),ph(n.transaction)))}function jbe(t,e=km()){return e("readwrite",r=>(r.delete(t),ph(r.transaction)))}function Ube(t=km()){return t("readwrite",e=>(e.clear(),ph(e.transaction)))}function zbe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ph(t.transaction)}function qbe(t=km()){return t("readonly",e=>{if(e.getAllKeys)return ph(e.getAllKeys());const r=[];return zbe(e,n=>r.push(n.key)).then(()=>r)})}const Hbe="idb-keyval";var Wbe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=CU(t.dbName,t.storeName)),{name:Hbe,options:t,async hasItem(i){return!(typeof await ik(r(i),n)>"u")},async getItem(i){return await ik(r(i),n)??null},setItem(i,s){return Fbe(r(i),s,n)},removeItem(i){return jbe(r(i),n)},getKeys(){return qbe(n)},clear(){return Ube(n)}}};const Vbe="WALLET_CONNECT_V2_INDEXED_DB",Kbe="keyvaluestorage";let Gbe=class{constructor(){this.indexedDb=Bbe({driver:Wbe({dbName:Vbe,storeName:Kbe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,tl(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var G5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E2={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof G5<"u"&&G5.localStorage?E2.exports=G5.localStorage:typeof window<"u"&&window.localStorage?E2.exports=window.localStorage:E2.exports=new e})();function Jbe(t){var e;return[t[0],Kf((e=t[1])!=null?e:"")]}class Qbe{constructor(){this.localStorage=E2.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Jbe)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Kf(r)}async setItem(e,r){this.localStorage.setItem(e,tl(r))}async removeItem(e){this.localStorage.removeItem(e)}}const Ybe="wc_storage_version",sk=1,Zbe=async(t,e,r)=>{const n=Ybe,i=await e.getItem(n);if(i&&i>=sk){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,sk),r(e),Xbe(t,o)},Xbe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let e3e=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new Qbe;this.storage=e;try{const r=new Gbe;Zbe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function t3e(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var r3e=n3e;function n3e(t,e,r){var n=r&&r.stringify||t3e,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",h=1-i,p=-1,v=t&&t.length||0,b=0;b<v;){if(t.charCodeAt(b)===37&&b+1<v){switch(p=p>-1?p:0,t.charCodeAt(b+1)){case 100:case 102:if(h>=c||e[h]==null)break;p<b&&(l+=t.slice(p,b)),l+=Number(e[h]),p=b+2,b++;break;case 105:if(h>=c||e[h]==null)break;p<b&&(l+=t.slice(p,b)),l+=Math.floor(Number(e[h])),p=b+2,b++;break;case 79:case 111:case 106:if(h>=c||e[h]===void 0)break;p<b&&(l+=t.slice(p,b));var S=typeof e[h];if(S==="string"){l+="'"+e[h]+"'",p=b+2,b++;break}if(S==="function"){l+=e[h].name||"<anonymous>",p=b+2,b++;break}l+=n(e[h]),p=b+2,b++;break;case 115:if(h>=c)break;p<b&&(l+=t.slice(p,b)),l+=String(e[h]),p=b+2,b++;break;case 37:p<b&&(l+=t.slice(p,b)),l+="%",p=b+2,b++,h--;break}++h}++b}return p===-1?t:(p<v&&(l+=t.slice(p)),l)}const ok=r3e;var Zh=Ya;const Ig=d3e().console||{},i3e={mapHttpRequest:By,mapHttpResponse:By,wrapRequestSerializer:J5,wrapResponseSerializer:J5,wrapErrorSerializer:J5,req:By,res:By,err:l3e};function s3e(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Ya(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||Ig;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=s3e(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=Cg),Object.defineProperty(c,"levelVal",{get:h}),Object.defineProperty(c,"level",{get:p,set:v});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:u3e(t)};c.levels=Ya.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Cg,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=b,e&&(c._logEvent=gE());function h(){return this.level==="silent"?1/0:this.levels.values[this.level]}function p(){return this._level}function v(S){if(S!=="silent"&&!this.levels.values[S])throw Error("unknown level "+S);this._level=S,Vh(l,c,"error","log"),Vh(l,c,"fatal","error"),Vh(l,c,"warn","error"),Vh(l,c,"info","log"),Vh(l,c,"debug","log"),Vh(l,c,"trace","log")}function b(S,T){if(!S)throw new Error("missing bindings for child Pino");T=T||{},i&&S.serializers&&(T.serializers=S.serializers);const B=T.serializers;if(i&&B){var R=Object.assign({},n,B),P=t.browser.serialize===!0?Object.keys(R):i;delete S.serializers,R3([S],P,R,this._stdErrSerialize)}function O(L){this._childLevel=(L._childLevel|0)+1,this.error=Kh(L,S,"error"),this.fatal=Kh(L,S,"fatal"),this.warn=Kh(L,S,"warn"),this.info=Kh(L,S,"info"),this.debug=Kh(L,S,"debug"),this.trace=Kh(L,S,"trace"),R&&(this.serializers=R,this._serialize=P),e&&(this._logEvent=gE([].concat(L._logEvent.bindings,S)))}return O.prototype=this,new O(this)}return c}Ya.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ya.stdSerializers=i3e;Ya.stdTimeFunctions=Object.assign({},{nullTime:MU,epochTime:RU,unixTime:f3e,isoTime:h3e});function Vh(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Cg:i[r]?i[r]:Ig[r]||Ig[n]||Cg,o3e(t,e,r)}function o3e(t,e,r){!t.transmit&&e[r]===Cg||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Ig?Ig:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&R3(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,a3e(this,r,o,s)):n.apply(a,o),t.transmit){const l=t.transmit.level||e.level,h=Ya.levels.values[l],p=Ya.levels.values[r];if(p<h)return;c3e(this,{ts:s,methodLevel:r,methodValue:p,transmitLevel:l,transmitValue:Ya.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function a3e(t,e,r,n){t._serialize&&R3(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Ya.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?ok(i.shift(),i):void 0}else typeof s=="string"&&(s=ok(i.shift(),i));return s!==void 0&&(o.msg=s),o}function R3(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=Ya.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function Kh(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function c3e(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;R3(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=gE(c)}function gE(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function l3e(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function u3e(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?MU:RU}function By(){return{}}function J5(t){return t}function Cg(){}function MU(){return!1}function RU(){return Date.now()}function f3e(){return Math.round(Date.now()/1e3)}function h3e(){return new Date(Date.now()).toISOString()}function d3e(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Om=_u(Zh),p3e={level:"info"},Tm="custom_context",_9=1e3*1024;let g3e=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},ak=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new g3e(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},PU=class{constructor(e,r=_9){this.level=e??"error",this.levelValue=Zh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new ak(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Zh.levels.values.error?console.error(e):r===Zh.levels.values.warn?console.warn(e):r===Zh.levels.values.debug?console.debug(e):r===Zh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(tl({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new ak(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(tl({extraMetadata:e})),new Blob(r,{type:"application/json"})}},m3e=class{constructor(e,r=_9){this.baseChunkLogger=new PU(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},v3e=class{constructor(e,r=_9){this.baseChunkLogger=new PU(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var y3e=Object.defineProperty,w3e=Object.defineProperties,b3e=Object.getOwnPropertyDescriptors,ck=Object.getOwnPropertySymbols,_3e=Object.prototype.hasOwnProperty,E3e=Object.prototype.propertyIsEnumerable,lk=(t,e,r)=>e in t?y3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bw=(t,e)=>{for(var r in e||(e={}))_3e.call(e,r)&&lk(t,r,e[r]);if(ck)for(var r of ck(e))E3e.call(e,r)&&lk(t,r,e[r]);return t},_w=(t,e)=>w3e(t,b3e(e));function P3(t){return _w(bw({},t),{level:(t==null?void 0:t.level)||p3e.level})}function S3e(t,e=Tm){return t[e]||""}function x3e(t,e,r=Tm){return t[r]=e,t}function vs(t,e=Tm){let r="";return typeof t.bindings>"u"?r=S3e(t,e):r=t.bindings().context||"",r}function A3e(t,e,r=Tm){const n=vs(t,r);return n.trim()?`${n}/${e}`:e}function Ki(t,e,r=Tm){const n=A3e(t,e,r),i=t.child({context:n});return x3e(i,n,r)}function I3e(t){var e,r;const n=new m3e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Om(_w(bw({},t.opts),{level:"trace",browser:_w(bw({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function C3e(t){var e;const r=new v3e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Om(_w(bw({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function M3e(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?I3e(t):C3e(t)}let R3e=class extends dh{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},P3e=class extends dh{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},k3e=class{constructor(e,r){this.logger=e,this.core=r}},O3e=class extends dh{constructor(e,r){super(),this.relayer=e,this.logger=r}},T3e=class extends dh{constructor(e){super()}},N3e=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},$3e=class extends dh{constructor(e,r){super(),this.relayer=e,this.logger=r}},D3e=class extends dh{constructor(e,r){super(),this.core=e,this.logger=r}},L3e=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},B3e=class{constructor(e,r){this.projectId=e,this.logger=r}},F3e=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},j3e=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},U3e=class{constructor(e){this.client=e}};const z3e="PARSE_ERROR",q3e="INVALID_REQUEST",H3e="METHOD_NOT_FOUND",W3e="INVALID_PARAMS",kU="INTERNAL_ERROR",E9="SERVER_ERROR",V3e=[-32700,-32600,-32601,-32602,-32603],O1={[z3e]:{code:-32700,message:"Parse error"},[q3e]:{code:-32600,message:"Invalid Request"},[H3e]:{code:-32601,message:"Method not found"},[W3e]:{code:-32602,message:"Invalid params"},[kU]:{code:-32603,message:"Internal error"},[E9]:{code:-32e3,message:"Server error"}},OU=E9;function K3e(t){return V3e.includes(t)}function uk(t){return Object.keys(O1).includes(t)?O1[t]:O1[OU]}function G3e(t){const e=Object.values(O1).find(r=>r.code===t);return e||O1[OU]}function TU(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var NU={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mE=function(t,e){return mE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mE(t,e)};function J3e(t,e){mE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vE=function(){return vE=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vE.apply(this,arguments)};function Q3e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Y3e(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Z3e(t,e){return function(r,n){e(r,n,t)}}function X3e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function e_e(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(p){o(p)}}function c(h){try{l(n.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function t_e(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return c([l,h])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function r_e(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function n_e(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function yE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $U(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function i_e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($U(arguments[e]));return t}function s_e(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Mg(t){return this instanceof Mg?(this.v=t,this):new Mg(t)}function o_e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(v){n[v]&&(i[v]=function(b){return new Promise(function(S,T){s.push([v,b,S,T])>1||a(v,b)})})}function a(v,b){try{c(n[v](b))}catch(S){p(s[0][3],S)}}function c(v){v.value instanceof Mg?Promise.resolve(v.value.v).then(l,h):p(s[0][2],v)}function l(v){a("next",v)}function h(v){a("throw",v)}function p(v,b){v(b),s.shift(),s.length&&a(s[0][0],s[0][1])}}function a_e(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Mg(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function c_e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof yE=="function"?yE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function l_e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function u_e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function f_e(t){return t&&t.__esModule?t:{default:t}}function h_e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function d_e(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const p_e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return vE},__asyncDelegator:a_e,__asyncGenerator:o_e,__asyncValues:c_e,__await:Mg,__awaiter:e_e,__classPrivateFieldGet:h_e,__classPrivateFieldSet:d_e,__createBinding:r_e,__decorate:Y3e,__exportStar:n_e,__extends:J3e,__generator:t_e,__importDefault:f_e,__importStar:u_e,__makeTemplateObject:l_e,__metadata:X3e,__param:Z3e,__read:$U,__rest:Q3e,__spread:i_e,__spreadArrays:s_e,__values:yE},Symbol.toStringTag,{value:"Module"})),g_e=sc(p_e);var Sc={},fk;function m_e(){if(fk)return Sc;fk=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.isBrowserCryptoAvailable=Sc.getSubtleCrypto=Sc.getBrowerCrypto=void 0;function t(){return(lt==null?void 0:lt.crypto)||(lt==null?void 0:lt.msCrypto)||{}}Sc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Sc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Sc.isBrowserCryptoAvailable=r,Sc}var xc={},hk;function v_e(){if(hk)return xc;hk=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.isBrowser=xc.isNode=xc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}xc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}xc.isNode=e;function r(){return!t()&&!e()}return xc.isBrowser=r,xc}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=g_e;e.__exportStar(m_e(),t),e.__exportStar(v_e(),t)})(NU);function Ol(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Ef(t=6){return BigInt(Ol(t))}function Xl(t,e,r){return{id:r||Ol(),jsonrpc:"2.0",method:t,params:e}}function k3(t,e){return{id:t,jsonrpc:"2.0",result:e}}function O3(t,e,r){return{id:t,jsonrpc:"2.0",error:y_e(e)}}function y_e(t,e){return typeof t>"u"?uk(kU):(typeof t=="string"&&(t=Object.assign(Object.assign({},uk(E9)),{message:t})),K3e(t.code)&&(t=G3e(t.code)),t)}let w_e=class{},b_e=class extends w_e{constructor(){super()}},__e=class extends b_e{constructor(e){super()}};const E_e="^https?:",S_e="^wss?:";function x_e(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function DU(t,e){const r=x_e(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function dk(t){return DU(t,E_e)}function pk(t){return DU(t,S_e)}function A_e(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function LU(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function S9(t){return LU(t)&&"method"in t}function T3(t){return LU(t)&&(Ma(t)||co(t))}function Ma(t){return"result"in t}function co(t){return"error"in t}let sa=class extends __e{constructor(e){super(e),this.events=new ci.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Xl(e.method,e.params||[],e.id||Ef().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{co(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),T3(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const I_e=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),C_e=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",gk=t=>t.split("?")[0],mk=10,M_e=I_e();let R_e=class{constructor(e){if(this.url=e,this.events=new ci.EventEmitter,this.registering=!1,!pk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(tl(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!pk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(e).get("origin"),s=NU.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!A_e(e)},o=new M_e(e,[],s);C_e()?o.onerror=a=>{const c=a;n(this.emitError(c.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Kf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=O3(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return TU(e,gk(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>mk&&this.events.setMaxListeners(mk)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${gk(this.url)}`));return this.events.emit("register_error",r),r}};var Ew={exports:{}};Ew.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",v="[object Error]",b="[object Function]",S="[object GeneratorFunction]",T="[object Map]",B="[object Number]",R="[object Null]",P="[object Object]",O="[object Promise]",L="[object Proxy]",D="[object RegExp]",q="[object Set]",M="[object String]",H="[object Symbol]",te="[object Undefined]",oe="[object WeakMap]",K="[object ArrayBuffer]",k="[object DataView]",g="[object Float32Array]",f="[object Float64Array]",m="[object Int8Array]",_="[object Int16Array]",I="[object Int32Array]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",w="[object Uint16Array]",y="[object Uint32Array]",E=/[\\^$.*+?()[\]{}|]/g,V=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,U={};U[g]=U[f]=U[m]=U[_]=U[I]=U[C]=U[A]=U[w]=U[y]=!0,U[a]=U[c]=U[K]=U[h]=U[k]=U[p]=U[v]=U[b]=U[T]=U[B]=U[P]=U[D]=U[q]=U[M]=U[oe]=!1;var Z=typeof lt=="object"&&lt&&lt.Object===Object&&lt,W=typeof self=="object"&&self&&self.Object===Object&&self,Y=Z||W||Function("return this")(),ee=e&&!e.nodeType&&e,$=ee&&!0&&t&&!t.nodeType&&t,z=$&&$.exports===ee,J=z&&Z.process,ae=function(){try{return J&&J.binding&&J.binding("util")}catch{}}(),fe=ae&&ae.isTypedArray;function ye(se,pe){for(var Re=-1,ut=se==null?0:se.length,br=0,kt=[];++Re<ut;){var Pr=se[Re];pe(Pr,Re,se)&&(kt[br++]=Pr)}return kt}function be(se,pe){for(var Re=-1,ut=pe.length,br=se.length;++Re<ut;)se[br+Re]=pe[Re];return se}function Ee(se,pe){for(var Re=-1,ut=se==null?0:se.length;++Re<ut;)if(pe(se[Re],Re,se))return!0;return!1}function je(se,pe){for(var Re=-1,ut=Array(se);++Re<se;)ut[Re]=pe(Re);return ut}function Ue(se){return function(pe){return se(pe)}}function Ne(se,pe){return se.has(pe)}function Pe(se,pe){return se==null?void 0:se[pe]}function Me(se){var pe=-1,Re=Array(se.size);return se.forEach(function(ut,br){Re[++pe]=[br,ut]}),Re}function ke(se,pe){return function(Re){return se(pe(Re))}}function $e(se){var pe=-1,Re=Array(se.size);return se.forEach(function(ut){Re[++pe]=ut}),Re}var Ce=Array.prototype,Oe=Function.prototype,G=Object.prototype,N=Y["__core-js_shared__"],F=Oe.toString,X=G.hasOwnProperty,ie=function(){var se=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return se?"Symbol(src)_1."+se:""}(),ue=G.toString,de=RegExp("^"+F.call(X).replace(E,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=z?Y.Buffer:void 0,Ie=Y.Symbol,De=Y.Uint8Array,Fe=G.propertyIsEnumerable,Be=Ce.splice,ct=Ie?Ie.toStringTag:void 0,gt=Object.getOwnPropertySymbols,mt=_e?_e.isBuffer:void 0,yt=ke(Object.keys,Object),Je=ws(Y,"DataView"),We=ws(Y,"Map"),Qe=ws(Y,"Promise"),Ye=ws(Y,"Set"),Ke=ws(Y,"WeakMap"),Ve=ws(Object,"create"),nt=fc(Je),it=fc(We),Ze=fc(Qe),st=fc(Ye),Xe=fc(Ke),tt=Ie?Ie.prototype:void 0,et=tt?tt.valueOf:void 0;function qe(se){var pe=-1,Re=se==null?0:se.length;for(this.clear();++pe<Re;){var ut=se[pe];this.set(ut[0],ut[1])}}function ot(){this.__data__=Ve?Ve(null):{},this.size=0}function at(se){var pe=this.has(se)&&delete this.__data__[se];return this.size-=pe?1:0,pe}function bt(se){var pe=this.__data__;if(Ve){var Re=pe[se];return Re===n?void 0:Re}return X.call(pe,se)?pe[se]:void 0}function _t(se){var pe=this.__data__;return Ve?pe[se]!==void 0:X.call(pe,se)}function Et(se,pe){var Re=this.__data__;return this.size+=this.has(se)?0:1,Re[se]=Ve&&pe===void 0?n:pe,this}qe.prototype.clear=ot,qe.prototype.delete=at,qe.prototype.get=bt,qe.prototype.has=_t,qe.prototype.set=Et;function ft(se){var pe=-1,Re=se==null?0:se.length;for(this.clear();++pe<Re;){var ut=se[pe];this.set(ut[0],ut[1])}}function $t(){this.__data__=[],this.size=0}function $r(se){var pe=this.__data__,Re=Tu(pe,se);if(Re<0)return!1;var ut=pe.length-1;return Re==ut?pe.pop():Be.call(pe,Re,1),--this.size,!0}function Dr(se){var pe=this.__data__,Re=Tu(pe,se);return Re<0?void 0:pe[Re][1]}function Lr(se){return Tu(this.__data__,se)>-1}function Br(se,pe){var Re=this.__data__,ut=Tu(Re,se);return ut<0?(++this.size,Re.push([se,pe])):Re[ut][1]=pe,this}ft.prototype.clear=$t,ft.prototype.delete=$r,ft.prototype.get=Dr,ft.prototype.has=Lr,ft.prototype.set=Br;function cr(se){var pe=-1,Re=se==null?0:se.length;for(this.clear();++pe<Re;){var ut=se[pe];this.set(ut[0],ut[1])}}function Yr(){this.size=0,this.__data__={hash:new qe,map:new(We||ft),string:new qe}}function xn(se){var pe=cl(this,se).delete(se);return this.size-=pe?1:0,pe}function Zr(se){return cl(this,se).get(se)}function An(se){return cl(this,se).has(se)}function In(se,pe){var Re=cl(this,se),ut=Re.size;return Re.set(se,pe),this.size+=Re.size==ut?0:1,this}cr.prototype.clear=Yr,cr.prototype.delete=xn,cr.prototype.get=Zr,cr.prototype.has=An,cr.prototype.set=In;function Xr(se){var pe=-1,Re=se==null?0:se.length;for(this.__data__=new cr;++pe<Re;)this.add(se[pe])}function yn(se){return this.__data__.set(se,n),this}function wn(se){return this.__data__.has(se)}Xr.prototype.add=Xr.prototype.push=yn,Xr.prototype.has=wn;function yr(se){var pe=this.__data__=new ft(se);this.size=pe.size}function xi(){this.__data__=new ft,this.size=0}function Ai(se){var pe=this.__data__,Re=pe.delete(se);return this.size=pe.size,Re}function Ii(se){return this.__data__.get(se)}function Io(se){return this.__data__.has(se)}function al(se,pe){var Re=this.__data__;if(Re instanceof ft){var ut=Re.__data__;if(!We||ut.length<r-1)return ut.push([se,pe]),this.size=++Re.size,this;Re=this.__data__=new cr(ut)}return Re.set(se,pe),this.size=Re.size,this}yr.prototype.clear=xi,yr.prototype.delete=Ai,yr.prototype.get=Ii,yr.prototype.has=Io,yr.prototype.set=al;function Um(se,pe){var Re=_h(se),ut=!Re&&Xm(se),br=!Re&&!ut&&up(se),kt=!Re&&!ut&&!br&&rv(se),Pr=Re||ut||br||kt,bn=Pr?je(se.length,String):[],Qt=bn.length;for(var _r in se)X.call(se,_r)&&!(Pr&&(_r=="length"||br&&(_r=="offset"||_r=="parent")||kt&&(_r=="buffer"||_r=="byteLength"||_r=="byteOffset")||Gm(_r,Qt)))&&bn.push(_r);return bn}function Tu(se,pe){for(var Re=se.length;Re--;)if(Zm(se[Re][0],pe))return Re;return-1}function cp(se,pe,Re){var ut=pe(se);return _h(se)?ut:be(ut,Re(se))}function Nu(se){return se==null?se===void 0?te:R:ct&&ct in Object(se)?Vm(se):W3(se)}function lp(se){return Du(se)&&Nu(se)==a}function $u(se,pe,Re,ut,br){return se===pe?!0:se==null||pe==null||!Du(se)&&!Du(pe)?se!==se&&pe!==pe:zm(se,pe,Re,ut,$u,br)}function zm(se,pe,Re,ut,br,kt){var Pr=_h(se),bn=_h(pe),Qt=Pr?c:aa(se),_r=bn?c:aa(pe);Qt=Qt==a?P:Qt,_r=_r==a?P:_r;var cn=Qt==P,Gi=_r==P,_n=Qt==_r;if(_n&&up(se)){if(!up(pe))return!1;Pr=!0,cn=!1}if(_n&&!cn)return kt||(kt=new yr),Pr||rv(se)?wh(se,pe,Re,ut,br,kt):H3(se,pe,Qt,Re,ut,br,kt);if(!(Re&i)){var kr=cn&&X.call(se,"__wrapped__"),Ci=Gi&&X.call(pe,"__wrapped__");if(kr||Ci){var Co=kr?se.value():se,qs=Ci?pe.value():pe;return kt||(kt=new yr),br(Co,qs,Re,ut,kt)}}return _n?(kt||(kt=new yr),Wm(se,pe,Re,ut,br,kt)):!1}function q3(se){if(!tv(se)||Qm(se))return!1;var pe=Eh(se)?de:V;return pe.test(fc(se))}function qm(se){return Du(se)&&ev(se.length)&&!!U[Nu(se)]}function Hm(se){if(!Ym(se))return yt(se);var pe=[];for(var Re in Object(se))X.call(se,Re)&&Re!="constructor"&&pe.push(Re);return pe}function wh(se,pe,Re,ut,br,kt){var Pr=Re&i,bn=se.length,Qt=pe.length;if(bn!=Qt&&!(Pr&&Qt>bn))return!1;var _r=kt.get(se);if(_r&&kt.get(pe))return _r==pe;var cn=-1,Gi=!0,_n=Re&s?new Xr:void 0;for(kt.set(se,pe),kt.set(pe,se);++cn<bn;){var kr=se[cn],Ci=pe[cn];if(ut)var Co=Pr?ut(Ci,kr,cn,pe,se,kt):ut(kr,Ci,cn,se,pe,kt);if(Co!==void 0){if(Co)continue;Gi=!1;break}if(_n){if(!Ee(pe,function(qs,ca){if(!Ne(_n,ca)&&(kr===qs||br(kr,qs,Re,ut,kt)))return _n.push(ca)})){Gi=!1;break}}else if(!(kr===Ci||br(kr,Ci,Re,ut,kt))){Gi=!1;break}}return kt.delete(se),kt.delete(pe),Gi}function H3(se,pe,Re,ut,br,kt,Pr){switch(Re){case k:if(se.byteLength!=pe.byteLength||se.byteOffset!=pe.byteOffset)return!1;se=se.buffer,pe=pe.buffer;case K:return!(se.byteLength!=pe.byteLength||!kt(new De(se),new De(pe)));case h:case p:case B:return Zm(+se,+pe);case v:return se.name==pe.name&&se.message==pe.message;case D:case M:return se==pe+"";case T:var bn=Me;case q:var Qt=ut&i;if(bn||(bn=$e),se.size!=pe.size&&!Qt)return!1;var _r=Pr.get(se);if(_r)return _r==pe;ut|=s,Pr.set(se,pe);var cn=wh(bn(se),bn(pe),ut,br,kt,Pr);return Pr.delete(se),cn;case H:if(et)return et.call(se)==et.call(pe)}return!1}function Wm(se,pe,Re,ut,br,kt){var Pr=Re&i,bn=bh(se),Qt=bn.length,_r=bh(pe),cn=_r.length;if(Qt!=cn&&!Pr)return!1;for(var Gi=Qt;Gi--;){var _n=bn[Gi];if(!(Pr?_n in pe:X.call(pe,_n)))return!1}var kr=kt.get(se);if(kr&&kt.get(pe))return kr==pe;var Ci=!0;kt.set(se,pe),kt.set(pe,se);for(var Co=Pr;++Gi<Qt;){_n=bn[Gi];var qs=se[_n],ca=pe[_n];if(ut)var fp=Pr?ut(ca,qs,_n,pe,se,kt):ut(qs,ca,_n,se,pe,kt);if(!(fp===void 0?qs===ca||br(qs,ca,Re,ut,kt):fp)){Ci=!1;break}Co||(Co=_n=="constructor")}if(Ci&&!Co){var Lu=se.constructor,Dn=pe.constructor;Lu!=Dn&&"constructor"in se&&"constructor"in pe&&!(typeof Lu=="function"&&Lu instanceof Lu&&typeof Dn=="function"&&Dn instanceof Dn)&&(Ci=!1)}return kt.delete(se),kt.delete(pe),Ci}function bh(se){return cp(se,G3,Km)}function cl(se,pe){var Re=se.__data__;return Jm(pe)?Re[typeof pe=="string"?"string":"hash"]:Re.map}function ws(se,pe){var Re=Pe(se,pe);return q3(Re)?Re:void 0}function Vm(se){var pe=X.call(se,ct),Re=se[ct];try{se[ct]=void 0;var ut=!0}catch{}var br=ue.call(se);return ut&&(pe?se[ct]=Re:delete se[ct]),br}var Km=gt?function(se){return se==null?[]:(se=Object(se),ye(gt(se),function(pe){return Fe.call(se,pe)}))}:wr,aa=Nu;(Je&&aa(new Je(new ArrayBuffer(1)))!=k||We&&aa(new We)!=T||Qe&&aa(Qe.resolve())!=O||Ye&&aa(new Ye)!=q||Ke&&aa(new Ke)!=oe)&&(aa=function(se){var pe=Nu(se),Re=pe==P?se.constructor:void 0,ut=Re?fc(Re):"";if(ut)switch(ut){case nt:return k;case it:return T;case Ze:return O;case st:return q;case Xe:return oe}return pe});function Gm(se,pe){return pe=pe??o,!!pe&&(typeof se=="number"||ce.test(se))&&se>-1&&se%1==0&&se<pe}function Jm(se){var pe=typeof se;return pe=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?se!=="__proto__":se===null}function Qm(se){return!!ie&&ie in se}function Ym(se){var pe=se&&se.constructor,Re=typeof pe=="function"&&pe.prototype||G;return se===Re}function W3(se){return ue.call(se)}function fc(se){if(se!=null){try{return F.call(se)}catch{}try{return se+""}catch{}}return""}function Zm(se,pe){return se===pe||se!==se&&pe!==pe}var Xm=lp(function(){return arguments}())?lp:function(se){return Du(se)&&X.call(se,"callee")&&!Fe.call(se,"callee")},_h=Array.isArray;function V3(se){return se!=null&&ev(se.length)&&!Eh(se)}var up=mt||mr;function K3(se,pe){return $u(se,pe)}function Eh(se){if(!tv(se))return!1;var pe=Nu(se);return pe==b||pe==S||pe==l||pe==L}function ev(se){return typeof se=="number"&&se>-1&&se%1==0&&se<=o}function tv(se){var pe=typeof se;return se!=null&&(pe=="object"||pe=="function")}function Du(se){return se!=null&&typeof se=="object"}var rv=fe?Ue(fe):qm;function G3(se){return V3(se)?Um(se):Hm(se)}function wr(){return[]}function mr(){return!1}t.exports=K3})(Ew,Ew.exports);var P_e=Ew.exports;const k_e=_u(P_e),BU="wc",FU=2,x9="core",nc=`${BU}@2:${x9}:`,O_e={name:x9,logger:"error"},T_e={database:":memory:"},N_e="crypto",vk="client_ed25519_seed",$_e=He.ONE_DAY,D_e="keychain",L_e="0.3",B_e="messages",F_e="0.3",j_e=He.SIX_HOURS,U_e="publisher",jU="irn",z_e="error",UU="wss://relay.walletconnect.org",q_e="relayer",Li={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},H_e="_subscription",no={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},W_e=.1,wE="2.17.0",Sr={link_mode:"link_mode",relay:"relay"},V_e="0.3",K_e="WALLETCONNECT_CLIENT_ID",yk="WALLETCONNECT_LINK_MODE_APPS",Ra={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},G_e="subscription",J_e="0.3",Q_e=He.FIVE_SECONDS*1e3,Y_e="pairing",Z_e="0.3",Yp={wc_pairingDelete:{req:{ttl:He.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:He.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:He.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:He.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:He.ONE_DAY,prompt:!1,tag:0},res:{ttl:He.ONE_DAY,prompt:!1,tag:0}}},gf={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Do={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},X_e="history",e6e="0.3",t6e="expirer",io={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},r6e="0.3",n6e="verify-api",i6e="https://verify.walletconnect.com",zU="https://verify.walletconnect.org",T1=zU,s6e=`${T1}/v3`,o6e=[i6e,zU],a6e="echo",c6e="https://echo.walletconnect.com",Ea={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Cc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Lo={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Xu={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},ef={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Zp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},l6e=.1,u6e="event-client",f6e=86400,h6e="https://pulse.walletconnect.org/batch";function d6e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function p(S){if(S instanceof Uint8Array||(ArrayBuffer.isView(S)?S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength):Array.isArray(S)&&(S=Uint8Array.from(S))),!(S instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(S.length===0)return"";for(var T=0,B=0,R=0,P=S.length;R!==P&&S[R]===0;)R++,T++;for(var O=(P-R)*h+1>>>0,L=new Uint8Array(O);R!==P;){for(var D=S[R],q=0,M=O-1;(D!==0||q<B)&&M!==-1;M--,q++)D+=256*L[M]>>>0,L[M]=D%a>>>0,D=D/a>>>0;if(D!==0)throw new Error("Non-zero carry");B=q,R++}for(var H=O-B;H!==O&&L[H]===0;)H++;for(var te=c.repeat(T);H<O;++H)te+=t.charAt(L[H]);return te}function v(S){if(typeof S!="string")throw new TypeError("Expected String");if(S.length===0)return new Uint8Array;var T=0;if(S[T]!==" "){for(var B=0,R=0;S[T]===c;)B++,T++;for(var P=(S.length-T)*l+1>>>0,O=new Uint8Array(P);S[T];){var L=r[S.charCodeAt(T)];if(L===255)return;for(var D=0,q=P-1;(L!==0||D<R)&&q!==-1;q--,D++)L+=a*O[q]>>>0,O[q]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");R=D,T++}if(S[T]!==" "){for(var M=P-R;M!==P&&O[M]===0;)M++;for(var H=new Uint8Array(B+(P-M)),te=B;M!==P;)H[te++]=O[M++];return H}}}function b(S){var T=v(S);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:v,decode:b}}var p6e=d6e,g6e=p6e;const qU=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},m6e=t=>new TextEncoder().encode(t),v6e=t=>new TextDecoder().decode(t);class y6e{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class w6e{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return HU(this,e)}}class b6e{constructor(e){this.decoders=e}or(e){return HU(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const HU=(t,e)=>new b6e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class _6e{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new y6e(e,r,n),this.decoder=new w6e(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const N3=({name:t,prefix:e,encode:r,decode:n})=>new _6e(t,e,r,n),Nm=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=g6e(r,e);return N3({prefix:t,name:e,encode:n,decode:s=>qU(i(s))})},E6e=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|p,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},S6e=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},fi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>N3({prefix:e,name:t,encode(i){return S6e(i,n,r)},decode(i){return E6e(i,n,r,t)}}),x6e=N3({prefix:"\0",name:"identity",encode:t=>v6e(t),decode:t=>m6e(t)});var A6e=Object.freeze({__proto__:null,identity:x6e});const I6e=fi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var C6e=Object.freeze({__proto__:null,base2:I6e});const M6e=fi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var R6e=Object.freeze({__proto__:null,base8:M6e});const P6e=Nm({prefix:"9",name:"base10",alphabet:"0123456789"});var k6e=Object.freeze({__proto__:null,base10:P6e});const O6e=fi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),T6e=fi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var N6e=Object.freeze({__proto__:null,base16:O6e,base16upper:T6e});const $6e=fi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),D6e=fi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L6e=fi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),B6e=fi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F6e=fi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),j6e=fi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),U6e=fi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),z6e=fi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),q6e=fi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var H6e=Object.freeze({__proto__:null,base32:$6e,base32upper:D6e,base32pad:L6e,base32padupper:B6e,base32hex:F6e,base32hexupper:j6e,base32hexpad:U6e,base32hexpadupper:z6e,base32z:q6e});const W6e=Nm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),V6e=Nm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var K6e=Object.freeze({__proto__:null,base36:W6e,base36upper:V6e});const G6e=Nm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),J6e=Nm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Q6e=Object.freeze({__proto__:null,base58btc:G6e,base58flickr:J6e});const Y6e=fi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Z6e=fi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),X6e=fi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),e5e=fi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var t5e=Object.freeze({__proto__:null,base64:Y6e,base64pad:Z6e,base64url:X6e,base64urlpad:e5e});const WU=Array.from(""),r5e=WU.reduce((t,e,r)=>(t[r]=e,t),[]),n5e=WU.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function i5e(t){return t.reduce((e,r)=>(e+=r5e[r],e),"")}function s5e(t){const e=[];for(const r of t){const n=n5e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const o5e=N3({prefix:"",name:"base256emoji",encode:i5e,decode:s5e});var a5e=Object.freeze({__proto__:null,base256emoji:o5e}),c5e=VU,wk=128,l5e=127,u5e=~l5e,f5e=Math.pow(2,31);function VU(t,e,r){e=e||[],r=r||0;for(var n=r;t>=f5e;)e[r++]=t&255|wk,t/=128;for(;t&u5e;)e[r++]=t&255|wk,t>>>=7;return e[r]=t|0,VU.bytes=r-n+1,e}var h5e=bE,d5e=128,bk=127;function bE(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw bE.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&bk)<<i:(o&bk)*Math.pow(2,i),i+=7}while(o>=d5e);return bE.bytes=s-n,r}var p5e=Math.pow(2,7),g5e=Math.pow(2,14),m5e=Math.pow(2,21),v5e=Math.pow(2,28),y5e=Math.pow(2,35),w5e=Math.pow(2,42),b5e=Math.pow(2,49),_5e=Math.pow(2,56),E5e=Math.pow(2,63),S5e=function(t){return t<p5e?1:t<g5e?2:t<m5e?3:t<v5e?4:t<y5e?5:t<w5e?6:t<b5e?7:t<_5e?8:t<E5e?9:10},x5e={encode:c5e,decode:h5e,encodingLength:S5e},KU=x5e;const _k=(t,e,r=0)=>(KU.encode(t,e,r),e),Ek=t=>KU.encodingLength(t),_E=(t,e)=>{const r=e.byteLength,n=Ek(t),i=n+Ek(r),s=new Uint8Array(i+r);return _k(t,s,0),_k(r,s,n),s.set(e,i),new A5e(t,r,e,s)};class A5e{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const GU=({name:t,code:e,encode:r})=>new I5e(t,e,r);class I5e{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?_E(this.code,r):r.then(n=>_E(this.code,n))}else throw Error("Unknown type, must be binary type")}}const JU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),C5e=GU({name:"sha2-256",code:18,encode:JU("SHA-256")}),M5e=GU({name:"sha2-512",code:19,encode:JU("SHA-512")});var R5e=Object.freeze({__proto__:null,sha256:C5e,sha512:M5e});const QU=0,P5e="identity",YU=qU,k5e=t=>_E(QU,YU(t)),O5e={code:QU,name:P5e,encode:YU,digest:k5e};var T5e=Object.freeze({__proto__:null,identity:O5e});new TextEncoder,new TextDecoder;const Sk={...A6e,...C6e,...R6e,...k6e,...N6e,...H6e,...K6e,...Q6e,...t5e,...a5e};({...R5e,...T5e});function N5e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function ZU(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const xk=ZU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Q5=ZU("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=N5e(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),$5e={utf8:xk,"utf-8":xk,hex:Sk.base16,latin1:Q5,ascii:Q5,binary:Q5,...Sk};function D5e(t,e="utf8"){const r=$5e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}class L5e{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=D_e,this.version=L_e,this.initialized=!1,this.storagePrefix=nc,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ze("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Ki(r,this.name)}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Pj(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kj(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}}class B5e{constructor(e,r,n){this.core=e,this.logger=r,this.name=N_e,this.randomSessionIdentifier=hE(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=oP(i);return Ij(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=_we();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=oP(s),a=this.randomSessionIdentifier;return await rve(a,i,$_e,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=Ewe(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||b2(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=EU(o),c=tl(s);if(qP(a))return xwe(c,o==null?void 0:o.encoding);if(zP(a)){const v=a.senderPublicKey,b=a.receiverPublicKey;i=await this.generateSharedKey(v,b)}const l=this.getSymKey(i),{type:h,senderPublicKey:p}=a;return Swe({type:h,symKey:l,message:c,senderPublicKey:p,encoding:o==null?void 0:o.encoding})},this.decode=async(i,s,o)=>{this.isInitialized();const a=Cwe(s,o);if(qP(a)){const c=Iwe(s,o==null?void 0:o.encoding);return Kf(c)}if(zP(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=Awe({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Kf(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(i,s=Zl)=>{const o=xg({encoded:i,encoding:s});return Jf(o.type)},this.getPayloadSenderPublicKey=(i,s=Zl)=>{const o=xg({encoded:i,encoding:s});return o.senderPublicKey?Kn(o.senderPublicKey,ji):void 0},this.core=e,this.logger=Ki(r,this.name),this.keychain=n||new L5e(this.core,this.logger)}get context(){return vs(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(vk)}catch{e=hE(),await this.keychain.set(vk,e)}return D5e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}}class F5e extends k3e{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=B_e,this.version=F_e,this.initialized=!1,this.storagePrefix=nc,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=Nc(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=Nc(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Ki(e,this.name),this.core=r}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Pj(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?kj(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}}class j5e extends O3e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new ci.EventEmitter,this.name=U_e,this.queue=new Map,this.publishTimeout=He.toMiliseconds(He.ONE_MINUTE),this.failedPublishTimeout=He.toMiliseconds(He.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||j_e,c=dE(s),l=(s==null?void 0:s.prompt)||!1,h=(s==null?void 0:s.tag)||0,p=(s==null?void 0:s.id)||Ef().toString(),v={topic:n,message:i,opts:{ttl:a,relay:c,prompt:l,tag:h,id:p,attestation:s==null?void 0:s.attestation}},b=`Failed to publish payload, please try again. id:${p} tag:${h}`,S=Date.now();let T,B=1;try{for(;T===void 0;){if(Date.now()-S>this.publishTimeout)throw new Error(b);this.logger.trace({id:p,attempts:B},`publisher.publish - attempt ${B}`),T=await await Pd(this.rpcPublish(n,i,a,c,l,h,p,s==null?void 0:s.attestation).catch(R=>this.logger.warn(R)),this.publishTimeout,b),B++,T||await new Promise(R=>setTimeout(R,this.failedPublishTimeout))}this.relayer.events.emit(Li.publish,v),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:p,topic:n,message:i,opts:s}})}catch(R){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(R),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw R;this.queue.set(p,v)}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Ki(r,this.name),this.registerEventListeners()}get context(){return vs(this.logger)}rpcPublish(e,r,n,i,s,o,a,c){var l,h,p,v;const b={method:l1(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o,attestation:c},id:a};return os((l=b.params)==null?void 0:l.prompt)&&((h=b.params)==null||delete h.prompt),os((p=b.params)==null?void 0:p.tag)&&((v=b.params)==null||delete v.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:b}),this.relayer.request(b)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(np.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Li.connection_stalled);return}this.checkQueue()}),this.relayer.on(Li.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class U5e{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var z5e=Object.defineProperty,q5e=Object.defineProperties,H5e=Object.getOwnPropertyDescriptors,Ak=Object.getOwnPropertySymbols,W5e=Object.prototype.hasOwnProperty,V5e=Object.prototype.propertyIsEnumerable,Ik=(t,e,r)=>e in t?z5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xp=(t,e)=>{for(var r in e||(e={}))W5e.call(e,r)&&Ik(t,r,e[r]);if(Ak)for(var r of Ak(e))V5e.call(e,r)&&Ik(t,r,e[r]);return t},Y5=(t,e)=>q5e(t,H5e(e));class K5e extends $3e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new U5e,this.events=new ci.EventEmitter,this.name=G_e,this.version=J_e,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=nc,this.subscribeTimeout=He.toMiliseconds(He.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=dE(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i==null?void 0:i.transportType);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new He.Watch;a.start(i);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),a.stop(i),s(!0)),a.elapsed(i)>=Q_e&&(clearInterval(c),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Ki(r,this.name),this.clientId=""}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=dE(n);await this.rpcUnsubscribe(e,r,i);const s=pr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n=Sr.relay){n===Sr.relay&&await this.restartToComplete();const i={method:l1(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{const s=Nc(e+this.clientId);return n===Sr.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(o=>this.logger.warn(o))},He.toMiliseconds(He.ONE_SECOND)),s):await await Pd(this.relayer.request(i).catch(o=>this.logger.warn(o)),this.subscribeTimeout)?s:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Li.connection_stalled)}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:l1(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Pd(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(Li.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:l1(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Pd(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Li.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:l1(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,Y5(Xp({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Xp({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Xp({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ra.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ra.deleted,Y5(Xp({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ra.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(Ra.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);rc(r)&&this.onBatchSubscribe(r.map((n,i)=>Y5(Xp({},e[i]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(np.pulse,async()=>{await this.checkPending()}),this.events.on(Ra.created,async e=>{const r=Ra.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Ra.deleted,async e=>{const r=Ra.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var G5e=Object.defineProperty,Ck=Object.getOwnPropertySymbols,J5e=Object.prototype.hasOwnProperty,Q5e=Object.prototype.propertyIsEnumerable,Mk=(t,e,r)=>e in t?G5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y5e=(t,e)=>{for(var r in e||(e={}))J5e.call(e,r)&&Mk(t,r,e[r]);if(Ck)for(var r of Ck(e))Q5e.call(e,r)&&Mk(t,r,e[r]);return t};class Z5e extends T3e{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new ci.EventEmitter,this.name=q_e,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=He.toMiliseconds(He.THIRTY_SECONDS+He.ONE_SECOND),this.request=async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Ef().toString();await this.toEstablishConnection();try{const o=this.provider.request(r);this.requestsInFlight.set(s,{promise:o,request:r}),this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const a=await new Promise(async(c,l)=>{const h=()=>{l(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(no.disconnect,h);const p=await o;this.provider.off(no.disconnect,h),c(p)});return this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - published"),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(dw())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i;(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||i.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Li.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Li.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(no.payload,this.onPayloadHandler),this.provider.on(no.connect,this.onConnectHandler),this.provider.on(no.disconnect,this.onDisconnectHandler),this.provider.on(no.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ki(e.logger,this.name):Om(P3({level:e.logger||z_e})),this.messages=new F5e(this.logger,e.core),this.subscriber=new K5e(this,this.logger),this.publisher=new j5e(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||UU,this.projectId=e.projectId,this.bundleId=fve(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return vs(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Sr.relay})}async subscribe(e,r){var n;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"",s;const o=a=>{a.topic===e&&(this.subscriber.off(Ra.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Ra.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(e,r)||i,a()})]),i}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await Pd(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const i=()=>{this.provider.off(no.disconnect,i),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(no.disconnect,i),await Pd(this.provider.connect(),He.toMiliseconds(He.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{n(s)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ek())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Pn(He.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Li.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,i,s;if(dw())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new sa(new R_e(gve({sdkVersion:wE,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),S9(e)){if(!e.method.endsWith(H_e))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Sr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Y5e({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else T3(e)&&this.events.emit(Li.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Li.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=k3(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(no.payload,this.onPayloadHandler),this.provider.off(no.connect,this.onConnectHandler),this.provider.off(no.disconnect,this.onDisconnectHandler),this.provider.off(no.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await ek();bbe(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Li.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},He.toMiliseconds(W_e))))}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var X5e=Object.defineProperty,Rk=Object.getOwnPropertySymbols,e4e=Object.prototype.hasOwnProperty,t4e=Object.prototype.propertyIsEnumerable,Pk=(t,e,r)=>e in t?X5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kk=(t,e)=>{for(var r in e||(e={}))e4e.call(e,r)&&Pk(t,r,e[r]);if(Rk)for(var r of Rk(e))t4e.call(e,r)&&Pk(t,r,e[r]);return t};class gh extends N3e{constructor(e,r,n,i=nc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=V_e,this.cached=[],this.initialized=!1,this.storagePrefix=nc,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!os(o)?this.map.set(this.getKey(o),o):Ywe(o)?this.map.set(o.id,o):Zwe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>k_e(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=kk(kk({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())},this.logger=Ki(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=ze("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}}class r4e{constructor(e,r){this.core=e,this.logger=r,this.name=Y_e,this.version=Z_e,this.events=new SS,this.initialized=!1,this.storagePrefix=nc,this.ignoredPayloadTypes=[Hc],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const i=hE(),s=await this.core.crypto.setSymKey(i),o=Pn(He.FIVE_MINUTES),a={protocol:jU},c={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=GP({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(gf.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:l}},this.pair=async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Ea.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=KP(n.uri);i.props.properties.topic=s,i.addTrace(Ea.pairing_uri_validation_success),i.addTrace(Ea.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(Ea.existing_pairing),h.active)throw i.setError(Cc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Ea.pairing_not_expired)}const p=c||Pn(He.FIVE_MINUTES),v={topic:s,relay:a,expiry:p,active:!1,methods:l};this.core.expirer.set(s,p),await this.pairings.set(s,v),i.addTrace(Ea.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(gf.create,v),i.addTrace(Ea.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Ea.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Cc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(b){throw i.setError(Cc.subscribe_pairing_topic_failure),b}return i.addTrace(Ea.subscribe_pairing_topic_success),v},this.activate=async({topic:n})=>{this.isInitialized();const i=Pn(He.THIRTY_DAYS);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=cf();this.events.once(Ht("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",pr("USER_DISCONNECTED")),await this.deletePairing(i))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return GP({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})},this.sendRequest=async(n,i,s)=>{const o=Xl(i,s),a=await this.core.crypto.encode(n,o),c=Yp[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=k3(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Yp[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=O3(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Yp[c.request.method]?Yp[c.request.method].res:Yp.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,pr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>Pl(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(gf.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{Ma(i)?this.events.emit(Ht("pairing_ping",s),{}):co(i)&&this.events.emit(Ht("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(gf.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=pr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(pr("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,i)=>{var s;if(!ts(n)){const{message:a}=ze("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Cc.malformed_pairing_uri),new Error(a)}if(!Qwe(n.uri)){const{message:a}=ze("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Cc.malformed_pairing_uri),new Error(a)}const o=KP(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=ze("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Cc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ze("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Cc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&He.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Cc.pairing_expired);const{message:a}=ze("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}},this.isValidPing=async n=>{if(!ts(n)){const{message:s}=ze("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!ts(n)){const{message:s}=ze("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!pn(n,!1)){const{message:i}=ze("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ze("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Pl(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ze("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Ki(r,this.name),this.pairings=new gh(this.core,this.logger,this.name,this.storagePrefix)}get context(){return vs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Li.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(!this.pairings.keys.includes(r)||i===Sr.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);try{S9(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):T3(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(io.expired,async e=>{const{topic:r}=Tj(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(gf.expire,{topic:r}))})}}class n4e extends P3e{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new ci.EventEmitter,this.name=X_e,this.version=e6e,this.cached=[],this.initialized=!1,this.storagePrefix=nc,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Pn(He.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Do.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=co(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Do.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Do.deleted,s)}}),this.persist()},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ki(r,this.name)}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Xl(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Do.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Do.created,e=>{const r=Do.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Do.updated,e=>{const r=Do.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Do.deleted,e=>{const r=Do.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(np.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{He.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Do.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}}class i4e extends D3e{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new ci.EventEmitter,this.name=t6e,this.version=r6e,this.cached=[],this.initialized=!1,this.storagePrefix=nc,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(io.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(io.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Ki(r,this.name)}get context(){return vs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return mve(e);if(typeof e=="number")return vve(e);const{message:r}=ze("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(io.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=ze("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=ze("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;He.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(io.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(np.pulse,()=>this.checkExpirations()),this.events.on(io.created,e=>{const r=io.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(io.expired,e=>{const r=io.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(io.deleted,e=>{const r=io.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.getLocalStorage=Tr.getLocalStorageOrThrow=Tr.getCrypto=Tr.getCryptoOrThrow=Tr.getLocation=Tr.getLocationOrThrow=Tr.getNavigator=Tr.getNavigatorOrThrow=XU=Tr.getDocument=Tr.getDocumentOrThrow=Tr.getFromWindowOrThrow=Tr.getFromWindow=void 0;function mh(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Tr.getFromWindow=mh;function ip(t){const e=mh(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Tr.getFromWindowOrThrow=ip;function s4e(){return ip("document")}Tr.getDocumentOrThrow=s4e;function o4e(){return mh("document")}var XU=Tr.getDocument=o4e;function a4e(){return ip("navigator")}Tr.getNavigatorOrThrow=a4e;function c4e(){return mh("navigator")}Tr.getNavigator=c4e;function l4e(){return ip("location")}Tr.getLocationOrThrow=l4e;function u4e(){return mh("location")}Tr.getLocation=u4e;function f4e(){return ip("crypto")}Tr.getCryptoOrThrow=f4e;function h4e(){return mh("crypto")}Tr.getCrypto=h4e;function d4e(){return ip("localStorage")}Tr.getLocalStorageOrThrow=d4e;function p4e(){return mh("localStorage")}Tr.getLocalStorage=p4e;class g4e extends L3e{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=n6e,this.verifyUrlV3=s6e,this.storagePrefix=nc,this.version=FU,this.init=async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&He.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async i=>{if(!Im()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=XU(),h=this.startAbortTimer(He.ONE_SECOND*5),p=await new Promise((v,b)=>{const S=()=>{window.removeEventListener("message",B),l.body.removeChild(T),b("attestation aborted")};this.abortController.signal.addEventListener("abort",S);const T=l.createElement("iframe");T.src=c,T.style.display="none",T.addEventListener("error",S,{signal:this.abortController.signal});const B=R=>{if(R.data&&typeof R.data=="string")try{const P=JSON.parse(R.data);if(P.type==="verify_attestation"){if(sE(P.attestation).payload.id!==o)return;clearInterval(h),l.body.removeChild(T),this.abortController.signal.removeEventListener("abort",S),window.removeEventListener("message",B),v(P.attestation===null?"":P.attestation)}}catch(P){this.logger.warn(P)}};l.body.appendChild(T),window.addEventListener("message",B,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",p),p}catch(l){this.logger.warn(l)}return""},this.resolve=async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(sE(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)},this.fetchAttestation=async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(He.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0},this.getVerifyUrl=i=>{let s=i||T1;return o6e.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${T1}`),s=T1),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(He.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}},this.persistPublicKey=async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i},this.validateAttestation=(i,s)=>{const o=kwe(i,s.publicKey),a={hasExpired:He.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}},this.logger=Ki(r,this.name),this.abortController=new AbortController,this.isDevEnv=f9(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return vs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),He.toMiliseconds(e))}}class m4e extends B3e{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=a6e,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${c6e}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=Ki(r,this.context)}}var v4e=Object.defineProperty,Ok=Object.getOwnPropertySymbols,y4e=Object.prototype.hasOwnProperty,w4e=Object.prototype.propertyIsEnumerable,Tk=(t,e,r)=>e in t?v4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,e1=(t,e)=>{for(var r in e||(e={}))y4e.call(e,r)&&Tk(t,r,e[r]);if(Ok)for(var r of Ok(e))w4e.call(e,r)&&Tk(t,r,e[r]);return t};class b4e extends F3e{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=u6e,this.storagePrefix=nc,this.storageVersion=l6e,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!f9())try{const i={eventId:hP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Rj(this.core.relayer.protocol,this.core.relayer.version,wE)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}},this.createEvent=i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=hP(),h=this.core.projectId||"",p=Date.now(),v=e1({eventId:l,timestamp:p,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:h,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,v),this.shouldPersist=!0),v},this.getEvent=i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return e1(e1({},a),this.setMethods(a.eventId))},this.deleteEvent=i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(np.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{He.fromMiliseconds(Date.now())-He.fromMiliseconds(i.timestamp)>f6e&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})},this.setMethods=i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)}),this.addTrace=(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)},this.setError=(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,e1(e1({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${h6e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${wE}${s}`,{method:"POST",body:JSON.stringify(i)})},this.getAppDomain=()=>Mj().url,this.logger=Ki(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var _4e=Object.defineProperty,Nk=Object.getOwnPropertySymbols,E4e=Object.prototype.hasOwnProperty,S4e=Object.prototype.propertyIsEnumerable,$k=(t,e,r)=>e in t?_4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dk=(t,e)=>{for(var r in e||(e={}))E4e.call(e,r)&&$k(t,r,e[r]);if(Nk)for(var r of Nk(e))S4e.call(e,r)&&$k(t,r,e[r]);return t};class A9 extends R3e{constructor(e){var r;super(e),this.protocol=BU,this.version=FU,this.name=x9,this.events=new ci.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.dispatchEnvelope=({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const l={topic:o,message:a,publishedAt:Date.now(),transportType:Sr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||UU,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=P3({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:O_e.logger}),{logger:i,chunkLoggerController:s}=M3e({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ki(i,this.name),this.heartbeat=new xbe,this.crypto=new B5e(this,this.logger,e==null?void 0:e.keychain),this.history=new n4e(this,this.logger),this.expirer=new i4e(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new e3e(Dk(Dk({},T_e),e==null?void 0:e.storageOptions)),this.relayer=new Z5e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new r4e(this,this.logger),this.verify=new g4e(this,this.logger,this.storage),this.echoClient=new m4e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new b4e(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new A9(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(K_e,n),r}get context(){return vs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(yk,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(yk)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const x4e=A9,ez="wc",tz=2,rz="client",I9=`${ez}@${tz}:${rz}:`,Z5={name:rz,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},Lk="WALLETCONNECT_DEEPLINK_CHOICE",A4e="proposal",nz="Proposal expired",I4e="session",Gh=He.SEVEN_DAYS,C4e="engine",jn={wc_sessionPropose:{req:{ttl:He.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:He.ONE_DAY,prompt:!1,tag:1104},res:{ttl:He.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:He.ONE_DAY,prompt:!1,tag:1106},res:{ttl:He.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:He.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:He.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:He.ONE_DAY,prompt:!1,tag:1112},res:{ttl:He.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:He.ONE_DAY,prompt:!1,tag:1114},res:{ttl:He.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:He.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:He.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:He.FIVE_MINUTES,prompt:!1,tag:1119}}},X5={min:He.FIVE_MINUTES,max:He.SEVEN_DAYS},ya={idle:"IDLE",active:"ACTIVE"},M4e="request",R4e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],P4e="wc",k4e="auth",O4e="authKeys",T4e="pairingTopics",N4e="requests",$3=`${P4e}@${1.5}:${k4e}:`,S2=`${$3}:PUB_KEY`;var $4e=Object.defineProperty,D4e=Object.defineProperties,L4e=Object.getOwnPropertyDescriptors,Bk=Object.getOwnPropertySymbols,B4e=Object.prototype.hasOwnProperty,F4e=Object.prototype.propertyIsEnumerable,Fk=(t,e,r)=>e in t?$4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tn=(t,e)=>{for(var r in e||(e={}))B4e.call(e,r)&&Fk(t,r,e[r]);if(Bk)for(var r of Bk(e))F4e.call(e,r)&&Fk(t,r,e[r]);return t},Bo=(t,e)=>D4e(t,L4e(e));class j4e extends U3e{constructor(e){super(e),this.name=C4e,this.events=new SS,this.initialized=!1,this.requestQueue={state:ya.idle,queue:[]},this.sessionRequestQueue={state:ya.idle,queue:[]},this.requestQueueDelay=He.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(jn)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},He.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Bo(tn({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let l=i,h,p=!1;try{l&&(p=this.client.core.pairing.pairings.get(l).active)}catch(L){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),L}if(!l||!p){const{topic:L,uri:D}=await this.client.core.pairing.create();l=L,h=D}if(!l){const{message:L}=ze("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(L)}const v=await this.client.core.crypto.generateKeyPair(),b=jn.wc_sessionPropose.req.ttl||He.FIVE_MINUTES,S=Pn(b),T=tn({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:jU}],proposer:{publicKey:v,metadata:this.client.metadata},expiryTimestamp:S,pairingTopic:l},a&&{sessionProperties:a}),{reject:B,resolve:R,done:P}=cf(b,nz);this.events.once(Ht("session_connect"),async({error:L,session:D})=>{if(L)B(L);else if(D){D.self.publicKey=v;const q=Bo(tn({},D),{pairingTopic:T.pairingTopic,requiredNamespaces:T.requiredNamespaces,optionalNamespaces:T.optionalNamespaces,transportType:Sr.relay});await this.client.session.set(D.topic,q),await this.setExpiry(D.topic,D.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:D.peer.metadata}),this.cleanupDuplicatePairings(q),R(q)}});const O=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:T,throwOnFailedPublish:!0});return await this.setProposal(O,tn({id:O},T)),{uri:h,approval:P}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Lo.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(H){throw o.setError(Xu.no_internet_connection),H}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(H){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(Xu.proposal_not_found),H}try{await this.isValidApprove(r)}catch(H){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Xu.session_approve_namespace_validation_failure),H}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:h,sessionConfig:p}=r,v=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:b,proposer:S,requiredNamespaces:T,optionalNamespaces:B}=v;let R=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});R||(R=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Lo.session_approve_started,properties:{topic:b,trace:[Lo.session_approve_started,Lo.session_namespaces_validation_success]}}));const P=await this.client.core.crypto.generateKeyPair(),O=S.publicKey,L=await this.client.core.crypto.generateSharedKey(P,O),D=tn(tn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:P,metadata:this.client.metadata},expiry:Pn(Gh)},h&&{sessionProperties:h}),p&&{sessionConfig:p}),q=Sr.relay;R.addTrace(Lo.subscribing_session_topic);try{await this.client.core.relayer.subscribe(L,{transportType:q})}catch(H){throw R.setError(Xu.subscribe_session_topic_failure),H}R.addTrace(Lo.subscribe_session_topic_success);const M=Bo(tn({},D),{topic:L,requiredNamespaces:T,optionalNamespaces:B,pairingTopic:b,acknowledged:!1,self:D.controller,peer:{publicKey:S.publicKey,metadata:S.metadata},controller:P,transportType:Sr.relay});await this.client.session.set(L,M),R.addTrace(Lo.store_session);try{R.addTrace(Lo.publishing_session_settle),await this.sendRequest({topic:L,method:"wc_sessionSettle",params:D,throwOnFailedPublish:!0}).catch(H=>{throw R==null||R.setError(Xu.session_settle_publish_failure),H}),R.addTrace(Lo.session_settle_publish_success),R.addTrace(Lo.publishing_session_approve),await this.sendResult({id:a,topic:b,result:{relay:{protocol:c??"irn"},responderPublicKey:P},throwOnFailedPublish:!0}).catch(H=>{throw R==null||R.setError(Xu.session_approve_publish_failure),H}),R.addTrace(Lo.session_approve_publish_success)}catch(H){throw this.client.logger.error(H),this.client.session.delete(L,pr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(L),H}return this.client.core.eventClient.deleteEvent({eventId:R.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:S.metadata}),await this.client.proposal.delete(a,pr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(L,Pn(Gh)),{topic:L,acknowledged:()=>Promise.resolve(this.client.session.get(L))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:jn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,pr("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(p){throw this.client.logger.error("update() -> isValidUpdate() failed"),p}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=cf(),c=Ol(),l=Ef().toString(),h=this.client.session.get(n).namespaces;return this.events.once(Ht("session_update",c),({error:p})=>{p?a(p):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(p=>{this.client.logger.error(p),this.client.session.update(n,{namespaces:h}),a(p)}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=Ol(),{done:s,resolve:o,reject:a}=cf();return this.events.once(Ht("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Pn(Gh)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:n,request:i,topic:s,expiry:o=jn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Sr.relay&&await this.confirmOnlineStateOrThrow();const c=Ol(),l=Ef().toString(),{done:h,resolve:p,reject:v}=cf(o,"Request expired. Please try again.");this.events.once(Ht("session_request",c),({error:S,result:T})=>{S?v(S):p(T)});const b=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);return b?(await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:Bo(tn({},i),{expiryTimestamp:Pn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:b}).catch(S=>v(S)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await h()):await Promise.all([new Promise(async S=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:Bo(tn({},i),{expiryTimestamp:Pn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(T=>v(T)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),S()}),new Promise(async S=>{var T;if(!((T=a.sessionConfig)!=null&&T.disableDeepLink)){const B=await bve(this.client.core.storage,Lk);await yve({id:c,topic:s,wcDeepLink:B})}S()}),h()]).then(S=>S[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Sr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Ma(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):co(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Ol(),s=Ef().toString(),{done:o,resolve:a,reject:c}=cf();this.events.once(Ht("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Ef().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:pr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ze("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Gwe(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Sr.link_mode:Sr.relay;o===Sr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:h,nonce:p,type:v,exp:b,nbf:S,methods:T=[],expiry:B}=r,R=[...r.resources||[]],{topic:P,uri:O}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:P,uri:O}});const L=await this.client.core.crypto.generateKeyPair(),D=b2(L);if(await Promise.all([this.client.auth.authKeys.set(S2,{responseTopic:D,publicKey:L}),this.client.auth.pairingTopics.set(D,{topic:D,pairingTopic:P})]),await this.client.core.relayer.subscribe(D,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${P}`),T.length>0){const{namespace:C}=M1(a[0]);let A=gwe(C,"request",T);w2(R)&&(A=vwe(A,R.pop())),R.push(A)}const q=B&&B>jn.wc_sessionAuthenticate.req.ttl?B:jn.wc_sessionAuthenticate.req.ttl,M={authPayload:{type:v??"caip122",chains:a,statement:c,aud:l,domain:h,version:"1",nonce:p,iat:new Date().toISOString(),exp:b,nbf:S,resources:R},requester:{publicKey:L,metadata:this.client.metadata},expiryTimestamp:Pn(q)},H={eip155:{chains:a,methods:[...new Set(["personal_sign",...T])],events:["chainChanged","accountsChanged"]}},te={requiredNamespaces:{},optionalNamespaces:H,relays:[{protocol:"irn"}],pairingTopic:P,proposer:{publicKey:L,metadata:this.client.metadata},expiryTimestamp:Pn(jn.wc_sessionPropose.req.ttl)},{done:oe,resolve:K,reject:k}=cf(q,"Request expired"),g=async({error:C,session:A})=>{if(this.events.off(Ht("session_request",m),f),C)k(C);else if(A){A.self.publicKey=L,await this.client.session.set(A.topic,A),await this.setExpiry(A.topic,A.expiry),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:A.peer.metadata});const w=this.client.session.get(A.topic);await this.deleteProposal(_),K({session:w})}},f=async C=>{var A,w,y;if(await this.deletePendingAuthRequest(m,{message:"fulfilled",code:0}),C.error){const Y=pr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return C.error.code===Y.code?void 0:(this.events.off(Ht("session_connect"),g),k(C.error.message))}await this.deleteProposal(_),this.events.off(Ht("session_connect"),g);const{cacaos:E,responder:V}=C.result,ce=[],U=[];for(const Y of E){await BP({cacao:Y,projectId:this.client.core.projectId})||(this.client.logger.error(Y,"Signature verification failed"),k(pr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ee}=Y,$=w2(ee.resources),z=[LP(ee.iss)],J=yw(ee.iss);if($){const ae=FP($),fe=jP($);ce.push(...ae),z.push(...fe)}for(const ae of z)U.push(`${ae}:${J}`)}const Z=await this.client.core.crypto.generateSharedKey(L,V.publicKey);let W;ce.length>0&&(W={topic:Z,acknowledged:!0,self:{publicKey:L,metadata:this.client.metadata},peer:V,controller:V.publicKey,expiry:Pn(Gh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:P,namespaces:JP([...new Set(ce)],[...new Set(U)]),transportType:o},await this.client.core.relayer.subscribe(Z,{transportType:o}),await this.client.session.set(Z,W),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:V.metadata}),W=this.client.session.get(Z)),(A=this.client.metadata.redirect)!=null&&A.linkMode&&(w=V.metadata.redirect)!=null&&w.linkMode&&(y=V.metadata.redirect)!=null&&y.universal&&n&&(this.client.core.addLinkModeSupportedApp(V.metadata.redirect.universal),this.client.session.update(Z,{transportType:Sr.link_mode})),K({auths:E,session:W})},m=Ol(),_=Ol();this.events.once(Ht("session_connect"),g),this.events.once(Ht("session_request",m),f);let I;try{if(s){const C=Xl("wc_sessionAuthenticate",M,m);this.client.core.history.set(P,C);const A=await this.client.core.crypto.encode("",C,{type:Pm,encoding:Jp});I=$y(n,P,A)}else await Promise.all([this.sendRequest({topic:P,method:"wc_sessionAuthenticate",params:M,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:m}),this.sendRequest({topic:P,method:"wc_sessionPropose",params:te,expiry:jn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:_})])}catch(C){throw this.events.off(Ht("session_connect"),g),this.events.off(Ht("session_request",m),f),C}return await this.setProposal(_,tn({id:_},te)),await this.setAuthRequest(m,{request:Bo(tn({},M),{verifyContext:{}}),pairingTopic:P,transportType:o}),{uri:I??O,response:oe}},this.approveSessionAuthenticate=async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[ef.authenticated_session_approve_started]}});try{this.isInitialized()}catch(B){throw s.setError(Zp.no_internet_connection),B}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Zp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Sr.relay;a===Sr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),h=b2(c),p={type:Hc,receiverPublicKey:c,senderPublicKey:l},v=[],b=[];for(const B of i){if(!await BP({cacao:B,projectId:this.client.core.projectId})){s.setError(Zp.invalid_cacao);const D=pr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:h,error:D,encodeOpts:p}),new Error(D.message)}s.addTrace(ef.cacaos_verified);const{p:R}=B,P=w2(R.resources),O=[LP(R.iss)],L=yw(R.iss);if(P){const D=FP(P),q=jP(P);v.push(...D),O.push(...q)}for(const D of O)b.push(`${D}:${L}`)}const S=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(ef.create_authenticated_session_topic);let T;if((v==null?void 0:v.length)>0){T={topic:S,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Pn(Gh),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:JP([...new Set(v)],[...new Set(b)]),transportType:a},s.addTrace(ef.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(S,{transportType:a})}catch(B){throw s.setError(Zp.subscribe_authenticated_session_topic_failure),B}s.addTrace(ef.subscribe_authenticated_session_topic_success),await this.client.session.set(S,T),s.addTrace(ef.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(ef.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:p,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(B){throw s.setError(Zp.authenticated_session_approve_publish_failure),B}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:T}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Sr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=b2(o),l={type:Hc,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:jn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,pr("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:n,iss:i}=r;return mU(n,i)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,pr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Lk).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,pr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=ya.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})},this.deleteProposal=async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Xu.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,pr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=ya.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,Pn(jn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Sr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})},this.setPendingSessionRequest=async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Pn(jn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})},this.sendRequest=async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:h}=r,p=Xl(i,s,c);let v;const b=!!h;try{const B=b?Jp:Zl;v=await this.client.core.crypto.encode(n,p,{encoding:B})}catch(B){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),B}let S;if(R4e.includes(i)){const B=Nc(JSON.stringify(p)),R=Nc(v);S=await this.client.core.verify.register({id:R,decryptedId:B})}const T=jn[i].req;if(T.attestation=S,o&&(T.ttl=o),a&&(T.id=a),this.client.core.history.set(n,p),b){const B=$y(h,n,v);await global.Linking.openURL(B,this.client.name)}else{const B=jn[i].req;o&&(B.ttl=o),a&&(B.id=a),l?(B.internal=Bo(tn({},B.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,v,B)):this.client.core.relayer.publish(n,v,B).catch(R=>this.client.logger.error(R))}return p.id},this.sendResult=async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=k3(n,s);let h;const p=c&&typeof(global==null?void 0:global.Linking)<"u";try{const b=p?Jp:Zl;h=await this.client.core.crypto.encode(i,l,Bo(tn({},a||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let v;try{v=await this.client.core.history.get(i,n)}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),b}if(p){const b=$y(c,i,h);await global.Linking.openURL(b,this.client.name)}else{const b=jn[v.request.method].res;o?(b.internal=Bo(tn({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,b)):this.client.core.relayer.publish(i,h,b).catch(S=>this.client.logger.error(S))}await this.client.core.history.resolve(l)},this.sendError=async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=O3(n,s);let h;const p=c&&typeof(global==null?void 0:global.Linking)<"u";try{const b=p?Jp:Zl;h=await this.client.core.crypto.encode(i,l,Bo(tn({},o||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),b}let v;try{v=await this.client.core.history.get(i,n)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),b}if(p){const b=$y(c,i,h);await global.Linking.openURL(b,this.client.name)}else{const b=a||jn[v.request.method].res;this.client.core.relayer.publish(i,h,b)}await this.client.core.history.resolve(l)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Pl(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Pl(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===ya.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ya.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=ya.idle},this.processRequest=async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=ze("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.shouldIgnorePairingRequest=r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(tn({},i.params));const h=a.expiryTimestamp||Pn(jn.wc_sessionPropose.req.ttl),p=tn({id:c,pairingTopic:n,expiryTimestamp:h},a);await this.setProposal(c,p);const v=await this.getVerifyContext({attestationId:s,hash:Nc(JSON.stringify(i)),encryptedId:o,metadata:p.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Cc.proposal_listener_not_found)),l==null||l.addTrace(Ea.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:p,verifyContext:v})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:jn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}},this.onSessionProposeResponse=async(r,n,i)=>{const{id:s}=n;if(Ma(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const h=await this.client.core.crypto.generateSharedKey(c,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});const p=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:r})}else if(co(n)){await this.client.proposal.delete(s,pr("USER_DISCONNECTED"));const o=Ht("session_connect");if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(Ht("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:h,sessionConfig:p}=n.params,v=Bo(tn(tn({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},h&&{sessionProperties:h}),p&&{sessionConfig:p}),{transportType:Sr.relay}),b=Ht("session_connect");if(this.events.listenerCount(b)===0)throw new Error(`emitting ${b} without any listeners 997`);this.events.emit(Ht("session_connect"),{session:v}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;Ma(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ht("session_approve",i),{})):co(n)&&(await this.client.session.delete(r,pr("USER_DISCONNECTED")),this.events.emit(Ht("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Qp.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:pr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(tn({topic:r},i));try{Qp.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw Qp.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n,s=Ht("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ma(n)?this.events.emit(Ht("session_update",i),{}):co(n)&&this.events.emit(Ht("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Pn(Gh)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n,s=Ht("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ma(n)?this.events.emit(Ht("session_extend",i),{}):co(n)&&this.events.emit(Ht("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n,s=Ht("session_ping",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{Ma(n)?this.events.emit(Ht("session_ping",i),{}):co(n)&&this.events.emit(Ht("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Li.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:pr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:h}=r,{id:p,params:v}=a;try{await this.isValidRequest(tn({topic:o},v));const b=this.client.session.get(o),S=await this.getVerifyContext({attestationId:c,hash:Nc(JSON.stringify(Xl("wc_sessionRequest",v,p))),encryptedId:l,metadata:b.peer.metadata,transportType:h}),T={id:p,topic:o,params:v,verifyContext:S};await this.setPendingSessionRequest(T),h===Sr.link_mode&&(n=b.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=b.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(T):(this.addSessionRequestToSessionRequestQueue(T),this.processSessionRequestQueue())}catch(b){await this.sendError({id:p,topic:o,error:b}),this.client.logger.error(b)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n,s=Ht("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ma(n)?this.events.emit(Ht("session_request",i),{result:n.result}):co(n)&&this.events.emit(Ht("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Qp.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(tn({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Qp.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionAuthenticateResponse=(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Ma(n)?this.events.emit(Ht("session_request",i),{result:n.result}):co(n)&&this.events.emit(Ht("session_request",i),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:h,expiryTimestamp:p}=s.params,v=await this.getVerifyContext({attestationId:o,hash:Nc(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),b={requester:l,pairingTopic:i,id:s.id,authPayload:h,verifyContext:v,expiryTimestamp:p};await this.setAuthRequest(s.id,{request:b,pairingTopic:i,transportType:c}),c===Sr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:v})}catch(l){this.client.logger.error(l);const h=s.params.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),v=this.getAppLinkIfEnabled(s.params.requester.metadata,c),b={type:Hc,receiverPublicKey:h,senderPublicKey:p};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:b,rpcOpts:jn.wc_sessionAuthenticate.autoReject,appLink:v})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ya.idle,this.processSessionRequestQueue()},He.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Ht("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ht("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===ya.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=ya.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Xl("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!ts(r)){const{message:c}=ze("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(os(n)||await this.isValidPairingTopic(n),!obe(a)){const{message:c}=ze("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!os(i)&&Ag(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!os(s)&&Ag(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),os(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=sbe(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!ts(r))throw new Error(ze("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=W5(i,"approve()");if(c)throw new Error(c.message);const l=ZP(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!pn(s,!0)){const{message:h}=ze("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}os(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!ts(r)){const{message:s}=ze("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!cbe(i)){const{message:s}=ze("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!ts(r)){const{message:l}=ze("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!xU(n)){const{message:l}=ze("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Xwe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=W5(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Pl(o)){const{message:l}=ze("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!ts(r)){const{message:c}=ze("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=W5(i,"update()");if(o)throw new Error(o.message);const a=ZP(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!ts(r)){const{message:i}=ze("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!ts(r)){const{message:c}=ze("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!YP(a,s)){const{message:c}=ze("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!lbe(i)){const{message:c}=ze("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!hbe(a,s,i.method)){const{message:c}=ze("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!mbe(o,X5)){const{message:c}=ze("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${X5.min} and ${X5.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!ts(r)){const{message:o}=ze("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!ube(s)){const{message:o}=ze("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!ts(r)){const{message:i}=ze("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!ts(r)){const{message:a}=ze("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!YP(o,s)){const{message:a}=ze("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!fbe(i)){const{message:a}=ze("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!dbe(o,s,i.name)){const{message:a}=ze("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!ts(r)){const{message:i}=ze("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!pn(i,!1))throw new Error("uri is required parameter");if(!pn(s,!1))throw new Error("domain is required parameter");if(!pn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>M1(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=M1(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||T1,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Sr.link_mode){const h=this.getAppLinkIfEnabled(o,a);return c.verified.validation=h&&new URL(h).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!pn(i,!1)){const{message:s}=ze("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}},this.checkRecentlyDeleted=r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=ze("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}},this.isLinkModeEnabled=(r,n)=>{var i,s,o,a,c,l,h,p,v;return!r||n!==Sr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==void 0&&((p=r==null?void 0:r.redirect)==null?void 0:p.universal)!==""&&((v=r==null?void 0:r.redirect)==null?void 0:v.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=fP(r,"topic")||"",i=decodeURIComponent(fP(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Sr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})},this.registerLinkModeListeners=async()=>{var r;if(f9()||Y0()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}}isInitialized(){if(!this.initialized){const{message:e}=ze("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Li.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(S2)?this.client.auth.authKeys.get(S2):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Sr.link_mode?Jp:Zl});try{S9(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Nc(n)})):T3(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s})}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(io.expired,async e=>{const{topic:r,id:n}=Tj(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ze("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,ze("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(gf.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(gf.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!pn(e,!1)){const{message:r}=ze("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=ze("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Pl(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=ze("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!pn(e,!1)){const{message:r}=ze("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=ze("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Pl(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=ze("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=ze("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(pn(e,!1)){const{message:r}=ze("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=ze("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!abe(e)){const{message:r}=ze("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=ze("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Pl(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=ze("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class U4e extends gh{constructor(e,r){super(e,r,A4e,I9),this.core=e,this.logger=r}}class z4e extends gh{constructor(e,r){super(e,r,I4e,I9),this.core=e,this.logger=r}}class q4e extends gh{constructor(e,r){super(e,r,M4e,I9,n=>n.id),this.core=e,this.logger=r}}class H4e extends gh{constructor(e,r){super(e,r,O4e,$3,()=>S2),this.core=e,this.logger=r}}class W4e extends gh{constructor(e,r){super(e,r,T4e,$3),this.core=e,this.logger=r}}class V4e extends gh{constructor(e,r){super(e,r,N4e,$3,n=>n.id),this.core=e,this.logger=r}}class K4e{constructor(e,r){this.core=e,this.logger=r,this.authKeys=new H4e(this.core,this.logger),this.pairingTopics=new W4e(this.core,this.logger),this.requests=new V4e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class C9 extends j3e{constructor(e){super(e),this.protocol=ez,this.version=tz,this.name=Z5.name,this.events=new ci.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.name=(e==null?void 0:e.name)||Z5.name,this.metadata=(e==null?void 0:e.metadata)||Mj(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Om(P3({level:(e==null?void 0:e.logger)||Z5.logger}));this.core=(e==null?void 0:e.core)||new x4e(e),this.logger=Ki(r,this.name),this.session=new z4e(this.core,this.logger),this.proposal=new U4e(this.core,this.logger),this.pendingRequest=new q4e(this.core,this.logger),this.engine=new j4e(this),this.auth=new K4e(this.core,this.logger)}static async init(e){const r=new C9(e);return await r.initialize(),r}get context(){return vs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var EE={exports:{}};(function(t,e){var r=typeof self<"u"?self:lt,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(f){return f&&l.indexOf(Object.prototype.toString.call(f))>-1};function p(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function v(f){return typeof f!="string"&&(f=String(f)),f}function b(f){var m={next:function(){var _=f.shift();return{done:_===void 0,value:_}}};return a.iterable&&(m[Symbol.iterator]=function(){return m}),m}function S(f){this.map={},f instanceof S?f.forEach(function(m,_){this.append(_,m)},this):Array.isArray(f)?f.forEach(function(m){this.append(m[0],m[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(m){this.append(m,f[m])},this)}S.prototype.append=function(f,m){f=p(f),m=v(m);var _=this.map[f];this.map[f]=_?_+", "+m:m},S.prototype.delete=function(f){delete this.map[p(f)]},S.prototype.get=function(f){return f=p(f),this.has(f)?this.map[f]:null},S.prototype.has=function(f){return this.map.hasOwnProperty(p(f))},S.prototype.set=function(f,m){this.map[p(f)]=v(m)},S.prototype.forEach=function(f,m){for(var _ in this.map)this.map.hasOwnProperty(_)&&f.call(m,this.map[_],_,this)},S.prototype.keys=function(){var f=[];return this.forEach(function(m,_){f.push(_)}),b(f)},S.prototype.values=function(){var f=[];return this.forEach(function(m){f.push(m)}),b(f)},S.prototype.entries=function(){var f=[];return this.forEach(function(m,_){f.push([_,m])}),b(f)},a.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function T(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function B(f){return new Promise(function(m,_){f.onload=function(){m(f.result)},f.onerror=function(){_(f.error)}})}function R(f){var m=new FileReader,_=B(m);return m.readAsArrayBuffer(f),_}function P(f){var m=new FileReader,_=B(m);return m.readAsText(f),_}function O(f){for(var m=new Uint8Array(f),_=new Array(m.length),I=0;I<m.length;I++)_[I]=String.fromCharCode(m[I]);return _.join("")}function L(f){if(f.slice)return f.slice(0);var m=new Uint8Array(f.byteLength);return m.set(new Uint8Array(f)),m.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&c(f)?(this._bodyArrayBuffer=L(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||h(f))?this._bodyArrayBuffer=L(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=T(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(R)}),this.text=function(){var f=T(this);if(f)return f;if(this._bodyBlob)return P(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(te)}),this.json=function(){return this.text().then(JSON.parse)},this}var q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(f){var m=f.toUpperCase();return q.indexOf(m)>-1?m:f}function H(f,m){m=m||{};var _=m.body;if(f instanceof H){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,m.headers||(this.headers=new S(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!_&&f._bodyInit!=null&&(_=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new S(m.headers)),this.method=M(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(_)}H.prototype.clone=function(){return new H(this,{body:this._bodyInit})};function te(f){var m=new FormData;return f.trim().split("&").forEach(function(_){if(_){var I=_.split("="),C=I.shift().replace(/\+/g," "),A=I.join("=").replace(/\+/g," ");m.append(decodeURIComponent(C),decodeURIComponent(A))}}),m}function oe(f){var m=new S,_=f.replace(/\r?\n[\t ]+/g," ");return _.split(/\r?\n/).forEach(function(I){var C=I.split(":"),A=C.shift().trim();if(A){var w=C.join(":").trim();m.append(A,w)}}),m}D.call(H.prototype);function K(f,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new S(m.headers),this.url=m.url||"",this._initBody(f)}D.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},K.error=function(){var f=new K(null,{status:0,statusText:""});return f.type="error",f};var k=[301,302,303,307,308];K.redirect=function(f,m){if(k.indexOf(m)===-1)throw new RangeError("Invalid status code");return new K(null,{status:m,headers:{location:f}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(m,_){this.message=m,this.name=_;var I=Error(m);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function g(f,m){return new Promise(function(_,I){var C=new H(f,m);if(C.signal&&C.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var A=new XMLHttpRequest;function w(){A.abort()}A.onload=function(){var y={status:A.status,statusText:A.statusText,headers:oe(A.getAllResponseHeaders()||"")};y.url="responseURL"in A?A.responseURL:y.headers.get("X-Request-URL");var E="response"in A?A.response:A.responseText;_(new K(E,y))},A.onerror=function(){I(new TypeError("Network request failed"))},A.ontimeout=function(){I(new TypeError("Network request failed"))},A.onabort=function(){I(new o.DOMException("Aborted","AbortError"))},A.open(C.method,C.url,!0),C.credentials==="include"?A.withCredentials=!0:C.credentials==="omit"&&(A.withCredentials=!1),"responseType"in A&&a.blob&&(A.responseType="blob"),C.headers.forEach(function(y,E){A.setRequestHeader(E,y)}),C.signal&&(C.signal.addEventListener("abort",w),A.onreadystatechange=function(){A.readyState===4&&C.signal.removeEventListener("abort",w)}),A.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return g.polyfill=!0,s.fetch||(s.fetch=g,s.Headers=S,s.Request=H,s.Response=K),o.Headers=S,o.Request=H,o.Response=K,o.fetch=g,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(EE,EE.exports);var G4e=EE.exports;const jk=_u(G4e);var J4e=Object.defineProperty,Q4e=Object.defineProperties,Y4e=Object.getOwnPropertyDescriptors,Uk=Object.getOwnPropertySymbols,Z4e=Object.prototype.hasOwnProperty,X4e=Object.prototype.propertyIsEnumerable,zk=(t,e,r)=>e in t?J4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qk=(t,e)=>{for(var r in e||(e={}))Z4e.call(e,r)&&zk(t,r,e[r]);if(Uk)for(var r of Uk(e))X4e.call(e,r)&&zk(t,r,e[r]);return t},Hk=(t,e)=>Q4e(t,Y4e(e));const e8e={Accept:"application/json","Content-Type":"application/json"},t8e="POST",Wk={headers:e8e,method:t8e},Vk=10;let lc=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new ci.EventEmitter,this.isAvailable=!1,this.registering=!1,!dk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=tl(e),n=await(await jk(this.url,Hk(qk({},Wk),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!dk(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=tl({id:1,jsonrpc:"2.0",method:"test",params:[]});await jk(e,Hk(qk({},Wk),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Kf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=O3(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return TU(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Vk&&this.events.setMaxListeners(Vk)}};const Kk="error",r8e="wss://relay.walletconnect.org",n8e="wc",i8e="universal_provider",Gk=`${n8e}@2:${i8e}:`,iz="https://rpc.walletconnect.org/v1/",Xh="generic",s8e=`${iz}bundler`,oa={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SE={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(t,e){(function(){var r,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,h="__lodash_placeholder__",p=1,v=2,b=4,S=1,T=2,B=1,R=2,P=4,O=8,L=16,D=32,q=64,M=128,H=256,te=512,oe=30,K="...",k=800,g=16,f=1,m=2,_=3,I=1/0,C=9007199254740991,A=17976931348623157e292,w=NaN,y=4294967295,E=y-1,V=y>>>1,ce=[["ary",M],["bind",B],["bindKey",R],["curry",O],["curryRight",L],["flip",te],["partial",D],["partialRight",q],["rearg",H]],U="[object Arguments]",Z="[object Array]",W="[object AsyncFunction]",Y="[object Boolean]",ee="[object Date]",$="[object DOMException]",z="[object Error]",J="[object Function]",ae="[object GeneratorFunction]",fe="[object Map]",ye="[object Number]",be="[object Null]",Ee="[object Object]",je="[object Promise]",Ue="[object Proxy]",Ne="[object RegExp]",Pe="[object Set]",Me="[object String]",ke="[object Symbol]",$e="[object Undefined]",Ce="[object WeakMap]",Oe="[object WeakSet]",G="[object ArrayBuffer]",N="[object DataView]",F="[object Float32Array]",X="[object Float64Array]",ie="[object Int8Array]",ue="[object Int16Array]",de="[object Int32Array]",_e="[object Uint8Array]",Ie="[object Uint8ClampedArray]",De="[object Uint16Array]",Fe="[object Uint32Array]",Be=/\b__p \+= '';/g,ct=/\b(__p \+=) '' \+/g,gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,Je=RegExp(mt.source),We=RegExp(yt.source),Qe=/<%-([\s\S]+?)%>/g,Ye=/<%([\s\S]+?)%>/g,Ke=/<%=([\s\S]+?)%>/g,Ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/[\\^$.*+?()[\]{}|]/g,st=RegExp(Ze.source),Xe=/^\s+/,tt=/\s/,et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qe=/\{\n\/\* \[wrapped with (.+)\] \*/,ot=/,? & /,at=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bt=/[()=,{}\[\]\/\s]/,_t=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,$r=/^0b[01]+$/i,Dr=/^\[object .+?Constructor\]$/,Lr=/^0o[0-7]+$/i,Br=/^(?:0|[1-9]\d*)$/,cr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yr=/($^)/,xn=/['\n\r\u2028\u2029\\]/g,Zr="\\ud800-\\udfff",An="\\u0300-\\u036f",In="\\ufe20-\\ufe2f",Xr="\\u20d0-\\u20ff",yn=An+In+Xr,wn="\\u2700-\\u27bf",yr="a-z\\xdf-\\xf6\\xf8-\\xff",xi="\\xac\\xb1\\xd7\\xf7",Ai="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ii="\\u2000-\\u206f",Io=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",al="A-Z\\xc0-\\xd6\\xd8-\\xde",Um="\\ufe0e\\ufe0f",Tu=xi+Ai+Ii+Io,cp="[']",Nu="["+Zr+"]",lp="["+Tu+"]",$u="["+yn+"]",zm="\\d+",q3="["+wn+"]",qm="["+yr+"]",Hm="[^"+Zr+Tu+zm+wn+yr+al+"]",wh="\\ud83c[\\udffb-\\udfff]",H3="(?:"+$u+"|"+wh+")",Wm="[^"+Zr+"]",bh="(?:\\ud83c[\\udde6-\\uddff]){2}",cl="[\\ud800-\\udbff][\\udc00-\\udfff]",ws="["+al+"]",Vm="\\u200d",Km="(?:"+qm+"|"+Hm+")",aa="(?:"+ws+"|"+Hm+")",Gm="(?:"+cp+"(?:d|ll|m|re|s|t|ve))?",Jm="(?:"+cp+"(?:D|LL|M|RE|S|T|VE))?",Qm=H3+"?",Ym="["+Um+"]?",W3="(?:"+Vm+"(?:"+[Wm,bh,cl].join("|")+")"+Ym+Qm+")*",fc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xm=Ym+Qm+W3,_h="(?:"+[q3,bh,cl].join("|")+")"+Xm,V3="(?:"+[Wm+$u+"?",$u,bh,cl,Nu].join("|")+")",up=RegExp(cp,"g"),K3=RegExp($u,"g"),Eh=RegExp(wh+"(?="+wh+")|"+V3+Xm,"g"),ev=RegExp([ws+"?"+qm+"+"+Gm+"(?="+[lp,ws,"$"].join("|")+")",aa+"+"+Jm+"(?="+[lp,ws+Km,"$"].join("|")+")",ws+"?"+Km+"+"+Gm,ws+"+"+Jm,Zm,fc,zm,_h].join("|"),"g"),tv=RegExp("["+Vm+Zr+yn+Um+"]"),Du=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],G3=-1,wr={};wr[F]=wr[X]=wr[ie]=wr[ue]=wr[de]=wr[_e]=wr[Ie]=wr[De]=wr[Fe]=!0,wr[U]=wr[Z]=wr[G]=wr[Y]=wr[N]=wr[ee]=wr[z]=wr[J]=wr[fe]=wr[ye]=wr[Ee]=wr[Ne]=wr[Pe]=wr[Me]=wr[Ce]=!1;var mr={};mr[U]=mr[Z]=mr[G]=mr[N]=mr[Y]=mr[ee]=mr[F]=mr[X]=mr[ie]=mr[ue]=mr[de]=mr[fe]=mr[ye]=mr[Ee]=mr[Ne]=mr[Pe]=mr[Me]=mr[ke]=mr[_e]=mr[Ie]=mr[De]=mr[Fe]=!0,mr[z]=mr[J]=mr[Ce]=!1;var se={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},pe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Re={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},br=parseFloat,kt=parseInt,Pr=typeof t1=="object"&&t1&&t1.Object===Object&&t1,bn=typeof self=="object"&&self&&self.Object===Object&&self,Qt=Pr||bn||Function("return this")(),_r=e&&!e.nodeType&&e,cn=_r&&!0&&t&&!t.nodeType&&t,Gi=cn&&cn.exports===_r,_n=Gi&&Pr.process,kr=function(){try{var ge=cn&&cn.require&&cn.require("util").types;return ge||_n&&_n.binding&&_n.binding("util")}catch{}}(),Ci=kr&&kr.isArrayBuffer,Co=kr&&kr.isDate,qs=kr&&kr.isMap,ca=kr&&kr.isRegExp,fp=kr&&kr.isSet,Lu=kr&&kr.isTypedArray;function Dn(ge,Se,ve){switch(ve.length){case 0:return ge.call(Se);case 1:return ge.call(Se,ve[0]);case 2:return ge.call(Se,ve[0],ve[1]);case 3:return ge.call(Se,ve[0],ve[1],ve[2])}return ge.apply(Se,ve)}function Zz(ge,Se,ve,ht){for(var Rt=-1,or=ge==null?0:ge.length;++Rt<or;){var Cn=ge[Rt];Se(ht,Cn,ve(Cn),ge)}return ht}function Hs(ge,Se){for(var ve=-1,ht=ge==null?0:ge.length;++ve<ht&&Se(ge[ve],ve,ge)!==!1;);return ge}function Xz(ge,Se){for(var ve=ge==null?0:ge.length;ve--&&Se(ge[ve],ve,ge)!==!1;);return ge}function z9(ge,Se){for(var ve=-1,ht=ge==null?0:ge.length;++ve<ht;)if(!Se(ge[ve],ve,ge))return!1;return!0}function ll(ge,Se){for(var ve=-1,ht=ge==null?0:ge.length,Rt=0,or=[];++ve<ht;){var Cn=ge[ve];Se(Cn,ve,ge)&&(or[Rt++]=Cn)}return or}function nv(ge,Se){var ve=ge==null?0:ge.length;return!!ve&&Sh(ge,Se,0)>-1}function J3(ge,Se,ve){for(var ht=-1,Rt=ge==null?0:ge.length;++ht<Rt;)if(ve(Se,ge[ht]))return!0;return!1}function Fr(ge,Se){for(var ve=-1,ht=ge==null?0:ge.length,Rt=Array(ht);++ve<ht;)Rt[ve]=Se(ge[ve],ve,ge);return Rt}function ul(ge,Se){for(var ve=-1,ht=Se.length,Rt=ge.length;++ve<ht;)ge[Rt+ve]=Se[ve];return ge}function Q3(ge,Se,ve,ht){var Rt=-1,or=ge==null?0:ge.length;for(ht&&or&&(ve=ge[++Rt]);++Rt<or;)ve=Se(ve,ge[Rt],Rt,ge);return ve}function eq(ge,Se,ve,ht){var Rt=ge==null?0:ge.length;for(ht&&Rt&&(ve=ge[--Rt]);Rt--;)ve=Se(ve,ge[Rt],Rt,ge);return ve}function Y3(ge,Se){for(var ve=-1,ht=ge==null?0:ge.length;++ve<ht;)if(Se(ge[ve],ve,ge))return!0;return!1}var tq=Z3("length");function rq(ge){return ge.split("")}function nq(ge){return ge.match(at)||[]}function q9(ge,Se,ve){var ht;return ve(ge,function(Rt,or,Cn){if(Se(Rt,or,Cn))return ht=or,!1}),ht}function iv(ge,Se,ve,ht){for(var Rt=ge.length,or=ve+(ht?1:-1);ht?or--:++or<Rt;)if(Se(ge[or],or,ge))return or;return-1}function Sh(ge,Se,ve){return Se===Se?gq(ge,Se,ve):iv(ge,H9,ve)}function iq(ge,Se,ve,ht){for(var Rt=ve-1,or=ge.length;++Rt<or;)if(ht(ge[Rt],Se))return Rt;return-1}function H9(ge){return ge!==ge}function W9(ge,Se){var ve=ge==null?0:ge.length;return ve?e_(ge,Se)/ve:w}function Z3(ge){return function(Se){return Se==null?r:Se[ge]}}function X3(ge){return function(Se){return ge==null?r:ge[Se]}}function V9(ge,Se,ve,ht,Rt){return Rt(ge,function(or,Cn,Er){ve=ht?(ht=!1,or):Se(ve,or,Cn,Er)}),ve}function sq(ge,Se){var ve=ge.length;for(ge.sort(Se);ve--;)ge[ve]=ge[ve].value;return ge}function e_(ge,Se){for(var ve,ht=-1,Rt=ge.length;++ht<Rt;){var or=Se(ge[ht]);or!==r&&(ve=ve===r?or:ve+or)}return ve}function t_(ge,Se){for(var ve=-1,ht=Array(ge);++ve<ge;)ht[ve]=Se(ve);return ht}function oq(ge,Se){return Fr(Se,function(ve){return[ve,ge[ve]]})}function K9(ge){return ge&&ge.slice(0,Y9(ge)+1).replace(Xe,"")}function bs(ge){return function(Se){return ge(Se)}}function r_(ge,Se){return Fr(Se,function(ve){return ge[ve]})}function hp(ge,Se){return ge.has(Se)}function G9(ge,Se){for(var ve=-1,ht=ge.length;++ve<ht&&Sh(Se,ge[ve],0)>-1;);return ve}function J9(ge,Se){for(var ve=ge.length;ve--&&Sh(Se,ge[ve],0)>-1;);return ve}function aq(ge,Se){for(var ve=ge.length,ht=0;ve--;)ge[ve]===Se&&++ht;return ht}var cq=X3(se),lq=X3(pe);function uq(ge){return"\\"+ut[ge]}function fq(ge,Se){return ge==null?r:ge[Se]}function xh(ge){return tv.test(ge)}function hq(ge){return Du.test(ge)}function dq(ge){for(var Se,ve=[];!(Se=ge.next()).done;)ve.push(Se.value);return ve}function n_(ge){var Se=-1,ve=Array(ge.size);return ge.forEach(function(ht,Rt){ve[++Se]=[Rt,ht]}),ve}function Q9(ge,Se){return function(ve){return ge(Se(ve))}}function fl(ge,Se){for(var ve=-1,ht=ge.length,Rt=0,or=[];++ve<ht;){var Cn=ge[ve];(Cn===Se||Cn===h)&&(ge[ve]=h,or[Rt++]=ve)}return or}function sv(ge){var Se=-1,ve=Array(ge.size);return ge.forEach(function(ht){ve[++Se]=ht}),ve}function pq(ge){var Se=-1,ve=Array(ge.size);return ge.forEach(function(ht){ve[++Se]=[ht,ht]}),ve}function gq(ge,Se,ve){for(var ht=ve-1,Rt=ge.length;++ht<Rt;)if(ge[ht]===Se)return ht;return-1}function mq(ge,Se,ve){for(var ht=ve+1;ht--;)if(ge[ht]===Se)return ht;return ht}function Ah(ge){return xh(ge)?yq(ge):tq(ge)}function Mo(ge){return xh(ge)?wq(ge):rq(ge)}function Y9(ge){for(var Se=ge.length;Se--&&tt.test(ge.charAt(Se)););return Se}var vq=X3(Re);function yq(ge){for(var Se=Eh.lastIndex=0;Eh.test(ge);)++Se;return Se}function wq(ge){return ge.match(Eh)||[]}function bq(ge){return ge.match(ev)||[]}var _q=function ge(Se){Se=Se==null?Qt:Ih.defaults(Qt.Object(),Se,Ih.pick(Qt,rv));var ve=Se.Array,ht=Se.Date,Rt=Se.Error,or=Se.Function,Cn=Se.Math,Er=Se.Object,i_=Se.RegExp,Eq=Se.String,Ws=Se.TypeError,ov=ve.prototype,Sq=or.prototype,Ch=Er.prototype,av=Se["__core-js_shared__"],cv=Sq.toString,dr=Ch.hasOwnProperty,xq=0,Z9=function(){var u=/[^.]+$/.exec(av&&av.keys&&av.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),lv=Ch.toString,Aq=cv.call(Er),Iq=Qt._,Cq=i_("^"+cv.call(dr).replace(Ze,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uv=Gi?Se.Buffer:r,hl=Se.Symbol,fv=Se.Uint8Array,X9=uv?uv.allocUnsafe:r,hv=Q9(Er.getPrototypeOf,Er),ex=Er.create,tx=Ch.propertyIsEnumerable,dv=ov.splice,rx=hl?hl.isConcatSpreadable:r,dp=hl?hl.iterator:r,Bu=hl?hl.toStringTag:r,pv=function(){try{var u=qu(Er,"defineProperty");return u({},"",{}),u}catch{}}(),Mq=Se.clearTimeout!==Qt.clearTimeout&&Se.clearTimeout,Rq=ht&&ht.now!==Qt.Date.now&&ht.now,Pq=Se.setTimeout!==Qt.setTimeout&&Se.setTimeout,gv=Cn.ceil,mv=Cn.floor,s_=Er.getOwnPropertySymbols,kq=uv?uv.isBuffer:r,nx=Se.isFinite,Oq=ov.join,Tq=Q9(Er.keys,Er),Mn=Cn.max,hi=Cn.min,Nq=ht.now,$q=Se.parseInt,ix=Cn.random,Dq=ov.reverse,o_=qu(Se,"DataView"),pp=qu(Se,"Map"),a_=qu(Se,"Promise"),Mh=qu(Se,"Set"),gp=qu(Se,"WeakMap"),mp=qu(Er,"create"),vv=gp&&new gp,Rh={},Lq=Hu(o_),Bq=Hu(pp),Fq=Hu(a_),jq=Hu(Mh),Uq=Hu(gp),yv=hl?hl.prototype:r,vp=yv?yv.valueOf:r,sx=yv?yv.toString:r;function re(u){if(en(u)&&!Ot(u)&&!(u instanceof Vt)){if(u instanceof Vs)return u;if(dr.call(u,"__wrapped__"))return oA(u)}return new Vs(u)}var Ph=function(){function u(){}return function(d){if(!zr(d))return{};if(ex)return ex(d);u.prototype=d;var x=new u;return u.prototype=r,x}}();function wv(){}function Vs(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=r}re.templateSettings={escape:Qe,evaluate:Ye,interpolate:Ke,variable:"",imports:{_:re}},re.prototype=wv.prototype,re.prototype.constructor=re,Vs.prototype=Ph(wv.prototype),Vs.prototype.constructor=Vs;function Vt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function zq(){var u=new Vt(this.__wrapped__);return u.__actions__=Ji(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ji(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ji(this.__views__),u}function qq(){if(this.__filtered__){var u=new Vt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Hq(){var u=this.__wrapped__.value(),d=this.__dir__,x=Ot(u),j=d<0,Q=x?u.length:0,ne=rW(0,Q,this.__views__),le=ne.start,he=ne.end,me=he-le,xe=j?he:le-1,Ae=this.__iteratees__,Te=Ae.length,rt=0,wt=hi(me,this.__takeCount__);if(!x||!j&&Q==me&&wt==me)return Rx(u,this.__actions__);var At=[];e:for(;me--&&rt<wt;){xe+=d;for(var Bt=-1,It=u[xe];++Bt<Te;){var qt=Ae[Bt],Yt=qt.iteratee,Ss=qt.type,Pi=Yt(It);if(Ss==m)It=Pi;else if(!Pi){if(Ss==f)continue e;break e}}At[rt++]=It}return At}Vt.prototype=Ph(wv.prototype),Vt.prototype.constructor=Vt;function Fu(u){var d=-1,x=u==null?0:u.length;for(this.clear();++d<x;){var j=u[d];this.set(j[0],j[1])}}function Wq(){this.__data__=mp?mp(null):{},this.size=0}function Vq(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function Kq(u){var d=this.__data__;if(mp){var x=d[u];return x===c?r:x}return dr.call(d,u)?d[u]:r}function Gq(u){var d=this.__data__;return mp?d[u]!==r:dr.call(d,u)}function Jq(u,d){var x=this.__data__;return this.size+=this.has(u)?0:1,x[u]=mp&&d===r?c:d,this}Fu.prototype.clear=Wq,Fu.prototype.delete=Vq,Fu.prototype.get=Kq,Fu.prototype.has=Gq,Fu.prototype.set=Jq;function hc(u){var d=-1,x=u==null?0:u.length;for(this.clear();++d<x;){var j=u[d];this.set(j[0],j[1])}}function Qq(){this.__data__=[],this.size=0}function Yq(u){var d=this.__data__,x=bv(d,u);if(x<0)return!1;var j=d.length-1;return x==j?d.pop():dv.call(d,x,1),--this.size,!0}function Zq(u){var d=this.__data__,x=bv(d,u);return x<0?r:d[x][1]}function Xq(u){return bv(this.__data__,u)>-1}function eH(u,d){var x=this.__data__,j=bv(x,u);return j<0?(++this.size,x.push([u,d])):x[j][1]=d,this}hc.prototype.clear=Qq,hc.prototype.delete=Yq,hc.prototype.get=Zq,hc.prototype.has=Xq,hc.prototype.set=eH;function dc(u){var d=-1,x=u==null?0:u.length;for(this.clear();++d<x;){var j=u[d];this.set(j[0],j[1])}}function tH(){this.size=0,this.__data__={hash:new Fu,map:new(pp||hc),string:new Fu}}function rH(u){var d=Ov(this,u).delete(u);return this.size-=d?1:0,d}function nH(u){return Ov(this,u).get(u)}function iH(u){return Ov(this,u).has(u)}function sH(u,d){var x=Ov(this,u),j=x.size;return x.set(u,d),this.size+=x.size==j?0:1,this}dc.prototype.clear=tH,dc.prototype.delete=rH,dc.prototype.get=nH,dc.prototype.has=iH,dc.prototype.set=sH;function ju(u){var d=-1,x=u==null?0:u.length;for(this.__data__=new dc;++d<x;)this.add(u[d])}function oH(u){return this.__data__.set(u,c),this}function aH(u){return this.__data__.has(u)}ju.prototype.add=ju.prototype.push=oH,ju.prototype.has=aH;function Ro(u){var d=this.__data__=new hc(u);this.size=d.size}function cH(){this.__data__=new hc,this.size=0}function lH(u){var d=this.__data__,x=d.delete(u);return this.size=d.size,x}function uH(u){return this.__data__.get(u)}function fH(u){return this.__data__.has(u)}function hH(u,d){var x=this.__data__;if(x instanceof hc){var j=x.__data__;if(!pp||j.length<i-1)return j.push([u,d]),this.size=++x.size,this;x=this.__data__=new dc(j)}return x.set(u,d),this.size=x.size,this}Ro.prototype.clear=cH,Ro.prototype.delete=lH,Ro.prototype.get=uH,Ro.prototype.has=fH,Ro.prototype.set=hH;function ox(u,d){var x=Ot(u),j=!x&&Wu(u),Q=!x&&!j&&vl(u),ne=!x&&!j&&!Q&&Nh(u),le=x||j||Q||ne,he=le?t_(u.length,Eq):[],me=he.length;for(var xe in u)(d||dr.call(u,xe))&&!(le&&(xe=="length"||Q&&(xe=="offset"||xe=="parent")||ne&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||vc(xe,me)))&&he.push(xe);return he}function ax(u){var d=u.length;return d?u[y_(0,d-1)]:r}function dH(u,d){return Tv(Ji(u),Uu(d,0,u.length))}function pH(u){return Tv(Ji(u))}function c_(u,d,x){(x!==r&&!Po(u[d],x)||x===r&&!(d in u))&&pc(u,d,x)}function yp(u,d,x){var j=u[d];(!(dr.call(u,d)&&Po(j,x))||x===r&&!(d in u))&&pc(u,d,x)}function bv(u,d){for(var x=u.length;x--;)if(Po(u[x][0],d))return x;return-1}function gH(u,d,x,j){return dl(u,function(Q,ne,le){d(j,Q,x(Q),le)}),j}function cx(u,d){return u&&ua(d,Ln(d),u)}function mH(u,d){return u&&ua(d,Yi(d),u)}function pc(u,d,x){d=="__proto__"&&pv?pv(u,d,{configurable:!0,enumerable:!0,value:x,writable:!0}):u[d]=x}function l_(u,d){for(var x=-1,j=d.length,Q=ve(j),ne=u==null;++x<j;)Q[x]=ne?r:q_(u,d[x]);return Q}function Uu(u,d,x){return u===u&&(x!==r&&(u=u<=x?u:x),d!==r&&(u=u>=d?u:d)),u}function Ks(u,d,x,j,Q,ne){var le,he=d&p,me=d&v,xe=d&b;if(x&&(le=Q?x(u,j,Q,ne):x(u)),le!==r)return le;if(!zr(u))return u;var Ae=Ot(u);if(Ae){if(le=iW(u),!he)return Ji(u,le)}else{var Te=di(u),rt=Te==J||Te==ae;if(vl(u))return Ox(u,he);if(Te==Ee||Te==U||rt&&!Q){if(le=me||rt?{}:Yx(u),!he)return me?KH(u,mH(le,u)):VH(u,cx(le,u))}else{if(!mr[Te])return Q?u:{};le=sW(u,Te,he)}}ne||(ne=new Ro);var wt=ne.get(u);if(wt)return wt;ne.set(u,le),IA(u)?u.forEach(function(It){le.add(Ks(It,d,x,It,u,ne))}):xA(u)&&u.forEach(function(It,qt){le.set(qt,Ks(It,d,x,qt,u,ne))});var At=xe?me?R_:M_:me?Yi:Ln,Bt=Ae?r:At(u);return Hs(Bt||u,function(It,qt){Bt&&(qt=It,It=u[qt]),yp(le,qt,Ks(It,d,x,qt,u,ne))}),le}function vH(u){var d=Ln(u);return function(x){return lx(x,u,d)}}function lx(u,d,x){var j=x.length;if(u==null)return!j;for(u=Er(u);j--;){var Q=x[j],ne=d[Q],le=u[Q];if(le===r&&!(Q in u)||!ne(le))return!1}return!0}function ux(u,d,x){if(typeof u!="function")throw new Ws(o);return Ap(function(){u.apply(r,x)},d)}function wp(u,d,x,j){var Q=-1,ne=nv,le=!0,he=u.length,me=[],xe=d.length;if(!he)return me;x&&(d=Fr(d,bs(x))),j?(ne=J3,le=!1):d.length>=i&&(ne=hp,le=!1,d=new ju(d));e:for(;++Q<he;){var Ae=u[Q],Te=x==null?Ae:x(Ae);if(Ae=j||Ae!==0?Ae:0,le&&Te===Te){for(var rt=xe;rt--;)if(d[rt]===Te)continue e;me.push(Ae)}else ne(d,Te,j)||me.push(Ae)}return me}var dl=Lx(la),fx=Lx(f_,!0);function yH(u,d){var x=!0;return dl(u,function(j,Q,ne){return x=!!d(j,Q,ne),x}),x}function _v(u,d,x){for(var j=-1,Q=u.length;++j<Q;){var ne=u[j],le=d(ne);if(le!=null&&(he===r?le===le&&!Es(le):x(le,he)))var he=le,me=ne}return me}function wH(u,d,x,j){var Q=u.length;for(x=Dt(x),x<0&&(x=-x>Q?0:Q+x),j=j===r||j>Q?Q:Dt(j),j<0&&(j+=Q),j=x>j?0:MA(j);x<j;)u[x++]=d;return u}function hx(u,d){var x=[];return dl(u,function(j,Q,ne){d(j,Q,ne)&&x.push(j)}),x}function Yn(u,d,x,j,Q){var ne=-1,le=u.length;for(x||(x=aW),Q||(Q=[]);++ne<le;){var he=u[ne];d>0&&x(he)?d>1?Yn(he,d-1,x,j,Q):ul(Q,he):j||(Q[Q.length]=he)}return Q}var u_=Bx(),dx=Bx(!0);function la(u,d){return u&&u_(u,d,Ln)}function f_(u,d){return u&&dx(u,d,Ln)}function Ev(u,d){return ll(d,function(x){return yc(u[x])})}function zu(u,d){d=gl(d,u);for(var x=0,j=d.length;u!=null&&x<j;)u=u[fa(d[x++])];return x&&x==j?u:r}function px(u,d,x){var j=d(u);return Ot(u)?j:ul(j,x(u))}function Mi(u){return u==null?u===r?$e:be:Bu&&Bu in Er(u)?tW(u):pW(u)}function h_(u,d){return u>d}function bH(u,d){return u!=null&&dr.call(u,d)}function _H(u,d){return u!=null&&d in Er(u)}function EH(u,d,x){return u>=hi(d,x)&&u<Mn(d,x)}function d_(u,d,x){for(var j=x?J3:nv,Q=u[0].length,ne=u.length,le=ne,he=ve(ne),me=1/0,xe=[];le--;){var Ae=u[le];le&&d&&(Ae=Fr(Ae,bs(d))),me=hi(Ae.length,me),he[le]=!x&&(d||Q>=120&&Ae.length>=120)?new ju(le&&Ae):r}Ae=u[0];var Te=-1,rt=he[0];e:for(;++Te<Q&&xe.length<me;){var wt=Ae[Te],At=d?d(wt):wt;if(wt=x||wt!==0?wt:0,!(rt?hp(rt,At):j(xe,At,x))){for(le=ne;--le;){var Bt=he[le];if(!(Bt?hp(Bt,At):j(u[le],At,x)))continue e}rt&&rt.push(At),xe.push(wt)}}return xe}function SH(u,d,x,j){return la(u,function(Q,ne,le){d(j,x(Q),ne,le)}),j}function bp(u,d,x){d=gl(d,u),u=tA(u,d);var j=u==null?u:u[fa(Js(d))];return j==null?r:Dn(j,u,x)}function gx(u){return en(u)&&Mi(u)==U}function xH(u){return en(u)&&Mi(u)==G}function AH(u){return en(u)&&Mi(u)==ee}function _p(u,d,x,j,Q){return u===d?!0:u==null||d==null||!en(u)&&!en(d)?u!==u&&d!==d:IH(u,d,x,j,_p,Q)}function IH(u,d,x,j,Q,ne){var le=Ot(u),he=Ot(d),me=le?Z:di(u),xe=he?Z:di(d);me=me==U?Ee:me,xe=xe==U?Ee:xe;var Ae=me==Ee,Te=xe==Ee,rt=me==xe;if(rt&&vl(u)){if(!vl(d))return!1;le=!0,Ae=!1}if(rt&&!Ae)return ne||(ne=new Ro),le||Nh(u)?Gx(u,d,x,j,Q,ne):XH(u,d,me,x,j,Q,ne);if(!(x&S)){var wt=Ae&&dr.call(u,"__wrapped__"),At=Te&&dr.call(d,"__wrapped__");if(wt||At){var Bt=wt?u.value():u,It=At?d.value():d;return ne||(ne=new Ro),Q(Bt,It,x,j,ne)}}return rt?(ne||(ne=new Ro),eW(u,d,x,j,Q,ne)):!1}function CH(u){return en(u)&&di(u)==fe}function p_(u,d,x,j){var Q=x.length,ne=Q,le=!j;if(u==null)return!ne;for(u=Er(u);Q--;){var he=x[Q];if(le&&he[2]?he[1]!==u[he[0]]:!(he[0]in u))return!1}for(;++Q<ne;){he=x[Q];var me=he[0],xe=u[me],Ae=he[1];if(le&&he[2]){if(xe===r&&!(me in u))return!1}else{var Te=new Ro;if(j)var rt=j(xe,Ae,me,u,d,Te);if(!(rt===r?_p(Ae,xe,S|T,j,Te):rt))return!1}}return!0}function mx(u){if(!zr(u)||lW(u))return!1;var d=yc(u)?Cq:Dr;return d.test(Hu(u))}function MH(u){return en(u)&&Mi(u)==Ne}function RH(u){return en(u)&&di(u)==Pe}function PH(u){return en(u)&&Fv(u.length)&&!!wr[Mi(u)]}function vx(u){return typeof u=="function"?u:u==null?Zi:typeof u=="object"?Ot(u)?bx(u[0],u[1]):wx(u):FA(u)}function g_(u){if(!xp(u))return Tq(u);var d=[];for(var x in Er(u))dr.call(u,x)&&x!="constructor"&&d.push(x);return d}function kH(u){if(!zr(u))return dW(u);var d=xp(u),x=[];for(var j in u)j=="constructor"&&(d||!dr.call(u,j))||x.push(j);return x}function m_(u,d){return u<d}function yx(u,d){var x=-1,j=Qi(u)?ve(u.length):[];return dl(u,function(Q,ne,le){j[++x]=d(Q,ne,le)}),j}function wx(u){var d=k_(u);return d.length==1&&d[0][2]?Xx(d[0][0],d[0][1]):function(x){return x===u||p_(x,u,d)}}function bx(u,d){return T_(u)&&Zx(d)?Xx(fa(u),d):function(x){var j=q_(x,u);return j===r&&j===d?H_(x,u):_p(d,j,S|T)}}function Sv(u,d,x,j,Q){u!==d&&u_(d,function(ne,le){if(Q||(Q=new Ro),zr(ne))OH(u,d,le,x,Sv,j,Q);else{var he=j?j($_(u,le),ne,le+"",u,d,Q):r;he===r&&(he=ne),c_(u,le,he)}},Yi)}function OH(u,d,x,j,Q,ne,le){var he=$_(u,x),me=$_(d,x),xe=le.get(me);if(xe){c_(u,x,xe);return}var Ae=ne?ne(he,me,x+"",u,d,le):r,Te=Ae===r;if(Te){var rt=Ot(me),wt=!rt&&vl(me),At=!rt&&!wt&&Nh(me);Ae=me,rt||wt||At?Ot(he)?Ae=he:ln(he)?Ae=Ji(he):wt?(Te=!1,Ae=Ox(me,!0)):At?(Te=!1,Ae=Tx(me,!0)):Ae=[]:Ip(me)||Wu(me)?(Ae=he,Wu(he)?Ae=RA(he):(!zr(he)||yc(he))&&(Ae=Yx(me))):Te=!1}Te&&(le.set(me,Ae),Q(Ae,me,j,ne,le),le.delete(me)),c_(u,x,Ae)}function _x(u,d){var x=u.length;if(x)return d+=d<0?x:0,vc(d,x)?u[d]:r}function Ex(u,d,x){d.length?d=Fr(d,function(ne){return Ot(ne)?function(le){return zu(le,ne.length===1?ne[0]:ne)}:ne}):d=[Zi];var j=-1;d=Fr(d,bs(St()));var Q=yx(u,function(ne,le,he){var me=Fr(d,function(xe){return xe(ne)});return{criteria:me,index:++j,value:ne}});return sq(Q,function(ne,le){return WH(ne,le,x)})}function TH(u,d){return Sx(u,d,function(x,j){return H_(u,j)})}function Sx(u,d,x){for(var j=-1,Q=d.length,ne={};++j<Q;){var le=d[j],he=zu(u,le);x(he,le)&&Ep(ne,gl(le,u),he)}return ne}function NH(u){return function(d){return zu(d,u)}}function v_(u,d,x,j){var Q=j?iq:Sh,ne=-1,le=d.length,he=u;for(u===d&&(d=Ji(d)),x&&(he=Fr(u,bs(x)));++ne<le;)for(var me=0,xe=d[ne],Ae=x?x(xe):xe;(me=Q(he,Ae,me,j))>-1;)he!==u&&dv.call(he,me,1),dv.call(u,me,1);return u}function xx(u,d){for(var x=u?d.length:0,j=x-1;x--;){var Q=d[x];if(x==j||Q!==ne){var ne=Q;vc(Q)?dv.call(u,Q,1):__(u,Q)}}return u}function y_(u,d){return u+mv(ix()*(d-u+1))}function $H(u,d,x,j){for(var Q=-1,ne=Mn(gv((d-u)/(x||1)),0),le=ve(ne);ne--;)le[j?ne:++Q]=u,u+=x;return le}function w_(u,d){var x="";if(!u||d<1||d>C)return x;do d%2&&(x+=u),d=mv(d/2),d&&(u+=u);while(d);return x}function jt(u,d){return D_(eA(u,d,Zi),u+"")}function DH(u){return ax($h(u))}function LH(u,d){var x=$h(u);return Tv(x,Uu(d,0,x.length))}function Ep(u,d,x,j){if(!zr(u))return u;d=gl(d,u);for(var Q=-1,ne=d.length,le=ne-1,he=u;he!=null&&++Q<ne;){var me=fa(d[Q]),xe=x;if(me==="__proto__"||me==="constructor"||me==="prototype")return u;if(Q!=le){var Ae=he[me];xe=j?j(Ae,me,he):r,xe===r&&(xe=zr(Ae)?Ae:vc(d[Q+1])?[]:{})}yp(he,me,xe),he=he[me]}return u}var Ax=vv?function(u,d){return vv.set(u,d),u}:Zi,BH=pv?function(u,d){return pv(u,"toString",{configurable:!0,enumerable:!1,value:V_(d),writable:!0})}:Zi;function FH(u){return Tv($h(u))}function Gs(u,d,x){var j=-1,Q=u.length;d<0&&(d=-d>Q?0:Q+d),x=x>Q?Q:x,x<0&&(x+=Q),Q=d>x?0:x-d>>>0,d>>>=0;for(var ne=ve(Q);++j<Q;)ne[j]=u[j+d];return ne}function jH(u,d){var x;return dl(u,function(j,Q,ne){return x=d(j,Q,ne),!x}),!!x}function xv(u,d,x){var j=0,Q=u==null?j:u.length;if(typeof d=="number"&&d===d&&Q<=V){for(;j<Q;){var ne=j+Q>>>1,le=u[ne];le!==null&&!Es(le)&&(x?le<=d:le<d)?j=ne+1:Q=ne}return Q}return b_(u,d,Zi,x)}function b_(u,d,x,j){var Q=0,ne=u==null?0:u.length;if(ne===0)return 0;d=x(d);for(var le=d!==d,he=d===null,me=Es(d),xe=d===r;Q<ne;){var Ae=mv((Q+ne)/2),Te=x(u[Ae]),rt=Te!==r,wt=Te===null,At=Te===Te,Bt=Es(Te);if(le)var It=j||At;else xe?It=At&&(j||rt):he?It=At&&rt&&(j||!wt):me?It=At&&rt&&!wt&&(j||!Bt):wt||Bt?It=!1:It=j?Te<=d:Te<d;It?Q=Ae+1:ne=Ae}return hi(ne,E)}function Ix(u,d){for(var x=-1,j=u.length,Q=0,ne=[];++x<j;){var le=u[x],he=d?d(le):le;if(!x||!Po(he,me)){var me=he;ne[Q++]=le===0?0:le}}return ne}function Cx(u){return typeof u=="number"?u:Es(u)?w:+u}function _s(u){if(typeof u=="string")return u;if(Ot(u))return Fr(u,_s)+"";if(Es(u))return sx?sx.call(u):"";var d=u+"";return d=="0"&&1/u==-I?"-0":d}function pl(u,d,x){var j=-1,Q=nv,ne=u.length,le=!0,he=[],me=he;if(x)le=!1,Q=J3;else if(ne>=i){var xe=d?null:YH(u);if(xe)return sv(xe);le=!1,Q=hp,me=new ju}else me=d?[]:he;e:for(;++j<ne;){var Ae=u[j],Te=d?d(Ae):Ae;if(Ae=x||Ae!==0?Ae:0,le&&Te===Te){for(var rt=me.length;rt--;)if(me[rt]===Te)continue e;d&&me.push(Te),he.push(Ae)}else Q(me,Te,x)||(me!==he&&me.push(Te),he.push(Ae))}return he}function __(u,d){return d=gl(d,u),u=tA(u,d),u==null||delete u[fa(Js(d))]}function Mx(u,d,x,j){return Ep(u,d,x(zu(u,d)),j)}function Av(u,d,x,j){for(var Q=u.length,ne=j?Q:-1;(j?ne--:++ne<Q)&&d(u[ne],ne,u););return x?Gs(u,j?0:ne,j?ne+1:Q):Gs(u,j?ne+1:0,j?Q:ne)}function Rx(u,d){var x=u;return x instanceof Vt&&(x=x.value()),Q3(d,function(j,Q){return Q.func.apply(Q.thisArg,ul([j],Q.args))},x)}function E_(u,d,x){var j=u.length;if(j<2)return j?pl(u[0]):[];for(var Q=-1,ne=ve(j);++Q<j;)for(var le=u[Q],he=-1;++he<j;)he!=Q&&(ne[Q]=wp(ne[Q]||le,u[he],d,x));return pl(Yn(ne,1),d,x)}function Px(u,d,x){for(var j=-1,Q=u.length,ne=d.length,le={};++j<Q;){var he=j<ne?d[j]:r;x(le,u[j],he)}return le}function S_(u){return ln(u)?u:[]}function x_(u){return typeof u=="function"?u:Zi}function gl(u,d){return Ot(u)?u:T_(u,d)?[u]:sA(lr(u))}var UH=jt;function ml(u,d,x){var j=u.length;return x=x===r?j:x,!d&&x>=j?u:Gs(u,d,x)}var kx=Mq||function(u){return Qt.clearTimeout(u)};function Ox(u,d){if(d)return u.slice();var x=u.length,j=X9?X9(x):new u.constructor(x);return u.copy(j),j}function A_(u){var d=new u.constructor(u.byteLength);return new fv(d).set(new fv(u)),d}function zH(u,d){var x=d?A_(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.byteLength)}function qH(u){var d=new u.constructor(u.source,ft.exec(u));return d.lastIndex=u.lastIndex,d}function HH(u){return vp?Er(vp.call(u)):{}}function Tx(u,d){var x=d?A_(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.length)}function Nx(u,d){if(u!==d){var x=u!==r,j=u===null,Q=u===u,ne=Es(u),le=d!==r,he=d===null,me=d===d,xe=Es(d);if(!he&&!xe&&!ne&&u>d||ne&&le&&me&&!he&&!xe||j&&le&&me||!x&&me||!Q)return 1;if(!j&&!ne&&!xe&&u<d||xe&&x&&Q&&!j&&!ne||he&&x&&Q||!le&&Q||!me)return-1}return 0}function WH(u,d,x){for(var j=-1,Q=u.criteria,ne=d.criteria,le=Q.length,he=x.length;++j<le;){var me=Nx(Q[j],ne[j]);if(me){if(j>=he)return me;var xe=x[j];return me*(xe=="desc"?-1:1)}}return u.index-d.index}function $x(u,d,x,j){for(var Q=-1,ne=u.length,le=x.length,he=-1,me=d.length,xe=Mn(ne-le,0),Ae=ve(me+xe),Te=!j;++he<me;)Ae[he]=d[he];for(;++Q<le;)(Te||Q<ne)&&(Ae[x[Q]]=u[Q]);for(;xe--;)Ae[he++]=u[Q++];return Ae}function Dx(u,d,x,j){for(var Q=-1,ne=u.length,le=-1,he=x.length,me=-1,xe=d.length,Ae=Mn(ne-he,0),Te=ve(Ae+xe),rt=!j;++Q<Ae;)Te[Q]=u[Q];for(var wt=Q;++me<xe;)Te[wt+me]=d[me];for(;++le<he;)(rt||Q<ne)&&(Te[wt+x[le]]=u[Q++]);return Te}function Ji(u,d){var x=-1,j=u.length;for(d||(d=ve(j));++x<j;)d[x]=u[x];return d}function ua(u,d,x,j){var Q=!x;x||(x={});for(var ne=-1,le=d.length;++ne<le;){var he=d[ne],me=j?j(x[he],u[he],he,x,u):r;me===r&&(me=u[he]),Q?pc(x,he,me):yp(x,he,me)}return x}function VH(u,d){return ua(u,O_(u),d)}function KH(u,d){return ua(u,Jx(u),d)}function Iv(u,d){return function(x,j){var Q=Ot(x)?Zz:gH,ne=d?d():{};return Q(x,u,St(j,2),ne)}}function kh(u){return jt(function(d,x){var j=-1,Q=x.length,ne=Q>1?x[Q-1]:r,le=Q>2?x[2]:r;for(ne=u.length>3&&typeof ne=="function"?(Q--,ne):r,le&&Ri(x[0],x[1],le)&&(ne=Q<3?r:ne,Q=1),d=Er(d);++j<Q;){var he=x[j];he&&u(d,he,j,ne)}return d})}function Lx(u,d){return function(x,j){if(x==null)return x;if(!Qi(x))return u(x,j);for(var Q=x.length,ne=d?Q:-1,le=Er(x);(d?ne--:++ne<Q)&&j(le[ne],ne,le)!==!1;);return x}}function Bx(u){return function(d,x,j){for(var Q=-1,ne=Er(d),le=j(d),he=le.length;he--;){var me=le[u?he:++Q];if(x(ne[me],me,ne)===!1)break}return d}}function GH(u,d,x){var j=d&B,Q=Sp(u);function ne(){var le=this&&this!==Qt&&this instanceof ne?Q:u;return le.apply(j?x:this,arguments)}return ne}function Fx(u){return function(d){d=lr(d);var x=xh(d)?Mo(d):r,j=x?x[0]:d.charAt(0),Q=x?ml(x,1).join(""):d.slice(1);return j[u]()+Q}}function Oh(u){return function(d){return Q3(LA(DA(d).replace(up,"")),u,"")}}function Sp(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var x=Ph(u.prototype),j=u.apply(x,d);return zr(j)?j:x}}function JH(u,d,x){var j=Sp(u);function Q(){for(var ne=arguments.length,le=ve(ne),he=ne,me=Th(Q);he--;)le[he]=arguments[he];var xe=ne<3&&le[0]!==me&&le[ne-1]!==me?[]:fl(le,me);if(ne-=xe.length,ne<x)return Hx(u,d,Cv,Q.placeholder,r,le,xe,r,r,x-ne);var Ae=this&&this!==Qt&&this instanceof Q?j:u;return Dn(Ae,this,le)}return Q}function jx(u){return function(d,x,j){var Q=Er(d);if(!Qi(d)){var ne=St(x,3);d=Ln(d),x=function(he){return ne(Q[he],he,Q)}}var le=u(d,x,j);return le>-1?Q[ne?d[le]:le]:r}}function Ux(u){return mc(function(d){var x=d.length,j=x,Q=Vs.prototype.thru;for(u&&d.reverse();j--;){var ne=d[j];if(typeof ne!="function")throw new Ws(o);if(Q&&!le&&kv(ne)=="wrapper")var le=new Vs([],!0)}for(j=le?j:x;++j<x;){ne=d[j];var he=kv(ne),me=he=="wrapper"?P_(ne):r;me&&N_(me[0])&&me[1]==(M|O|D|H)&&!me[4].length&&me[9]==1?le=le[kv(me[0])].apply(le,me[3]):le=ne.length==1&&N_(ne)?le[he]():le.thru(ne)}return function(){var xe=arguments,Ae=xe[0];if(le&&xe.length==1&&Ot(Ae))return le.plant(Ae).value();for(var Te=0,rt=x?d[Te].apply(this,xe):Ae;++Te<x;)rt=d[Te].call(this,rt);return rt}})}function Cv(u,d,x,j,Q,ne,le,he,me,xe){var Ae=d&M,Te=d&B,rt=d&R,wt=d&(O|L),At=d&te,Bt=rt?r:Sp(u);function It(){for(var qt=arguments.length,Yt=ve(qt),Ss=qt;Ss--;)Yt[Ss]=arguments[Ss];if(wt)var Pi=Th(It),xs=aq(Yt,Pi);if(j&&(Yt=$x(Yt,j,Q,wt)),ne&&(Yt=Dx(Yt,ne,le,wt)),qt-=xs,wt&&qt<xe){var un=fl(Yt,Pi);return Hx(u,d,Cv,It.placeholder,x,Yt,un,he,me,xe-qt)}var ko=Te?x:this,bc=rt?ko[u]:u;return qt=Yt.length,he?Yt=gW(Yt,he):At&&qt>1&&Yt.reverse(),Ae&&me<qt&&(Yt.length=me),this&&this!==Qt&&this instanceof It&&(bc=Bt||Sp(bc)),bc.apply(ko,Yt)}return It}function zx(u,d){return function(x,j){return SH(x,u,d(j),{})}}function Mv(u,d){return function(x,j){var Q;if(x===r&&j===r)return d;if(x!==r&&(Q=x),j!==r){if(Q===r)return j;typeof x=="string"||typeof j=="string"?(x=_s(x),j=_s(j)):(x=Cx(x),j=Cx(j)),Q=u(x,j)}return Q}}function I_(u){return mc(function(d){return d=Fr(d,bs(St())),jt(function(x){var j=this;return u(d,function(Q){return Dn(Q,j,x)})})})}function Rv(u,d){d=d===r?" ":_s(d);var x=d.length;if(x<2)return x?w_(d,u):d;var j=w_(d,gv(u/Ah(d)));return xh(d)?ml(Mo(j),0,u).join(""):j.slice(0,u)}function QH(u,d,x,j){var Q=d&B,ne=Sp(u);function le(){for(var he=-1,me=arguments.length,xe=-1,Ae=j.length,Te=ve(Ae+me),rt=this&&this!==Qt&&this instanceof le?ne:u;++xe<Ae;)Te[xe]=j[xe];for(;me--;)Te[xe++]=arguments[++he];return Dn(rt,Q?x:this,Te)}return le}function qx(u){return function(d,x,j){return j&&typeof j!="number"&&Ri(d,x,j)&&(x=j=r),d=wc(d),x===r?(x=d,d=0):x=wc(x),j=j===r?d<x?1:-1:wc(j),$H(d,x,j,u)}}function Pv(u){return function(d,x){return typeof d=="string"&&typeof x=="string"||(d=Qs(d),x=Qs(x)),u(d,x)}}function Hx(u,d,x,j,Q,ne,le,he,me,xe){var Ae=d&O,Te=Ae?le:r,rt=Ae?r:le,wt=Ae?ne:r,At=Ae?r:ne;d|=Ae?D:q,d&=~(Ae?q:D),d&P||(d&=~(B|R));var Bt=[u,d,Q,wt,Te,At,rt,he,me,xe],It=x.apply(r,Bt);return N_(u)&&rA(It,Bt),It.placeholder=j,nA(It,u,d)}function C_(u){var d=Cn[u];return function(x,j){if(x=Qs(x),j=j==null?0:hi(Dt(j),292),j&&nx(x)){var Q=(lr(x)+"e").split("e"),ne=d(Q[0]+"e"+(+Q[1]+j));return Q=(lr(ne)+"e").split("e"),+(Q[0]+"e"+(+Q[1]-j))}return d(x)}}var YH=Mh&&1/sv(new Mh([,-0]))[1]==I?function(u){return new Mh(u)}:J_;function Wx(u){return function(d){var x=di(d);return x==fe?n_(d):x==Pe?pq(d):oq(d,u(d))}}function gc(u,d,x,j,Q,ne,le,he){var me=d&R;if(!me&&typeof u!="function")throw new Ws(o);var xe=j?j.length:0;if(xe||(d&=~(D|q),j=Q=r),le=le===r?le:Mn(Dt(le),0),he=he===r?he:Dt(he),xe-=Q?Q.length:0,d&q){var Ae=j,Te=Q;j=Q=r}var rt=me?r:P_(u),wt=[u,d,x,j,Q,Ae,Te,ne,le,he];if(rt&&hW(wt,rt),u=wt[0],d=wt[1],x=wt[2],j=wt[3],Q=wt[4],he=wt[9]=wt[9]===r?me?0:u.length:Mn(wt[9]-xe,0),!he&&d&(O|L)&&(d&=~(O|L)),!d||d==B)var At=GH(u,d,x);else d==O||d==L?At=JH(u,d,he):(d==D||d==(B|D))&&!Q.length?At=QH(u,d,x,j):At=Cv.apply(r,wt);var Bt=rt?Ax:rA;return nA(Bt(At,wt),u,d)}function Vx(u,d,x,j){return u===r||Po(u,Ch[x])&&!dr.call(j,x)?d:u}function Kx(u,d,x,j,Q,ne){return zr(u)&&zr(d)&&(ne.set(d,u),Sv(u,d,r,Kx,ne),ne.delete(d)),u}function ZH(u){return Ip(u)?r:u}function Gx(u,d,x,j,Q,ne){var le=x&S,he=u.length,me=d.length;if(he!=me&&!(le&&me>he))return!1;var xe=ne.get(u),Ae=ne.get(d);if(xe&&Ae)return xe==d&&Ae==u;var Te=-1,rt=!0,wt=x&T?new ju:r;for(ne.set(u,d),ne.set(d,u);++Te<he;){var At=u[Te],Bt=d[Te];if(j)var It=le?j(Bt,At,Te,d,u,ne):j(At,Bt,Te,u,d,ne);if(It!==r){if(It)continue;rt=!1;break}if(wt){if(!Y3(d,function(qt,Yt){if(!hp(wt,Yt)&&(At===qt||Q(At,qt,x,j,ne)))return wt.push(Yt)})){rt=!1;break}}else if(!(At===Bt||Q(At,Bt,x,j,ne))){rt=!1;break}}return ne.delete(u),ne.delete(d),rt}function XH(u,d,x,j,Q,ne,le){switch(x){case N:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case G:return!(u.byteLength!=d.byteLength||!ne(new fv(u),new fv(d)));case Y:case ee:case ye:return Po(+u,+d);case z:return u.name==d.name&&u.message==d.message;case Ne:case Me:return u==d+"";case fe:var he=n_;case Pe:var me=j&S;if(he||(he=sv),u.size!=d.size&&!me)return!1;var xe=le.get(u);if(xe)return xe==d;j|=T,le.set(u,d);var Ae=Gx(he(u),he(d),j,Q,ne,le);return le.delete(u),Ae;case ke:if(vp)return vp.call(u)==vp.call(d)}return!1}function eW(u,d,x,j,Q,ne){var le=x&S,he=M_(u),me=he.length,xe=M_(d),Ae=xe.length;if(me!=Ae&&!le)return!1;for(var Te=me;Te--;){var rt=he[Te];if(!(le?rt in d:dr.call(d,rt)))return!1}var wt=ne.get(u),At=ne.get(d);if(wt&&At)return wt==d&&At==u;var Bt=!0;ne.set(u,d),ne.set(d,u);for(var It=le;++Te<me;){rt=he[Te];var qt=u[rt],Yt=d[rt];if(j)var Ss=le?j(Yt,qt,rt,d,u,ne):j(qt,Yt,rt,u,d,ne);if(!(Ss===r?qt===Yt||Q(qt,Yt,x,j,ne):Ss)){Bt=!1;break}It||(It=rt=="constructor")}if(Bt&&!It){var Pi=u.constructor,xs=d.constructor;Pi!=xs&&"constructor"in u&&"constructor"in d&&!(typeof Pi=="function"&&Pi instanceof Pi&&typeof xs=="function"&&xs instanceof xs)&&(Bt=!1)}return ne.delete(u),ne.delete(d),Bt}function mc(u){return D_(eA(u,r,lA),u+"")}function M_(u){return px(u,Ln,O_)}function R_(u){return px(u,Yi,Jx)}var P_=vv?function(u){return vv.get(u)}:J_;function kv(u){for(var d=u.name+"",x=Rh[d],j=dr.call(Rh,d)?x.length:0;j--;){var Q=x[j],ne=Q.func;if(ne==null||ne==u)return Q.name}return d}function Th(u){var d=dr.call(re,"placeholder")?re:u;return d.placeholder}function St(){var u=re.iteratee||K_;return u=u===K_?vx:u,arguments.length?u(arguments[0],arguments[1]):u}function Ov(u,d){var x=u.__data__;return cW(d)?x[typeof d=="string"?"string":"hash"]:x.map}function k_(u){for(var d=Ln(u),x=d.length;x--;){var j=d[x],Q=u[j];d[x]=[j,Q,Zx(Q)]}return d}function qu(u,d){var x=fq(u,d);return mx(x)?x:r}function tW(u){var d=dr.call(u,Bu),x=u[Bu];try{u[Bu]=r;var j=!0}catch{}var Q=lv.call(u);return j&&(d?u[Bu]=x:delete u[Bu]),Q}var O_=s_?function(u){return u==null?[]:(u=Er(u),ll(s_(u),function(d){return tx.call(u,d)}))}:Q_,Jx=s_?function(u){for(var d=[];u;)ul(d,O_(u)),u=hv(u);return d}:Q_,di=Mi;(o_&&di(new o_(new ArrayBuffer(1)))!=N||pp&&di(new pp)!=fe||a_&&di(a_.resolve())!=je||Mh&&di(new Mh)!=Pe||gp&&di(new gp)!=Ce)&&(di=function(u){var d=Mi(u),x=d==Ee?u.constructor:r,j=x?Hu(x):"";if(j)switch(j){case Lq:return N;case Bq:return fe;case Fq:return je;case jq:return Pe;case Uq:return Ce}return d});function rW(u,d,x){for(var j=-1,Q=x.length;++j<Q;){var ne=x[j],le=ne.size;switch(ne.type){case"drop":u+=le;break;case"dropRight":d-=le;break;case"take":d=hi(d,u+le);break;case"takeRight":u=Mn(u,d-le);break}}return{start:u,end:d}}function nW(u){var d=u.match(qe);return d?d[1].split(ot):[]}function Qx(u,d,x){d=gl(d,u);for(var j=-1,Q=d.length,ne=!1;++j<Q;){var le=fa(d[j]);if(!(ne=u!=null&&x(u,le)))break;u=u[le]}return ne||++j!=Q?ne:(Q=u==null?0:u.length,!!Q&&Fv(Q)&&vc(le,Q)&&(Ot(u)||Wu(u)))}function iW(u){var d=u.length,x=new u.constructor(d);return d&&typeof u[0]=="string"&&dr.call(u,"index")&&(x.index=u.index,x.input=u.input),x}function Yx(u){return typeof u.constructor=="function"&&!xp(u)?Ph(hv(u)):{}}function sW(u,d,x){var j=u.constructor;switch(d){case G:return A_(u);case Y:case ee:return new j(+u);case N:return zH(u,x);case F:case X:case ie:case ue:case de:case _e:case Ie:case De:case Fe:return Tx(u,x);case fe:return new j;case ye:case Me:return new j(u);case Ne:return qH(u);case Pe:return new j;case ke:return HH(u)}}function oW(u,d){var x=d.length;if(!x)return u;var j=x-1;return d[j]=(x>1?"& ":"")+d[j],d=d.join(x>2?", ":" "),u.replace(et,`{
/* [wrapped with `+d+`] */
`)}function aW(u){return Ot(u)||Wu(u)||!!(rx&&u&&u[rx])}function vc(u,d){var x=typeof u;return d=d??C,!!d&&(x=="number"||x!="symbol"&&Br.test(u))&&u>-1&&u%1==0&&u<d}function Ri(u,d,x){if(!zr(x))return!1;var j=typeof d;return(j=="number"?Qi(x)&&vc(d,x.length):j=="string"&&d in x)?Po(x[d],u):!1}function T_(u,d){if(Ot(u))return!1;var x=typeof u;return x=="number"||x=="symbol"||x=="boolean"||u==null||Es(u)?!0:nt.test(u)||!Ve.test(u)||d!=null&&u in Er(d)}function cW(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function N_(u){var d=kv(u),x=re[d];if(typeof x!="function"||!(d in Vt.prototype))return!1;if(u===x)return!0;var j=P_(x);return!!j&&u===j[0]}function lW(u){return!!Z9&&Z9 in u}var uW=av?yc:Y_;function xp(u){var d=u&&u.constructor,x=typeof d=="function"&&d.prototype||Ch;return u===x}function Zx(u){return u===u&&!zr(u)}function Xx(u,d){return function(x){return x==null?!1:x[u]===d&&(d!==r||u in Er(x))}}function fW(u){var d=Lv(u,function(j){return x.size===l&&x.clear(),j}),x=d.cache;return d}function hW(u,d){var x=u[1],j=d[1],Q=x|j,ne=Q<(B|R|M),le=j==M&&x==O||j==M&&x==H&&u[7].length<=d[8]||j==(M|H)&&d[7].length<=d[8]&&x==O;if(!(ne||le))return u;j&B&&(u[2]=d[2],Q|=x&B?0:P);var he=d[3];if(he){var me=u[3];u[3]=me?$x(me,he,d[4]):he,u[4]=me?fl(u[3],h):d[4]}return he=d[5],he&&(me=u[5],u[5]=me?Dx(me,he,d[6]):he,u[6]=me?fl(u[5],h):d[6]),he=d[7],he&&(u[7]=he),j&M&&(u[8]=u[8]==null?d[8]:hi(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=Q,u}function dW(u){var d=[];if(u!=null)for(var x in Er(u))d.push(x);return d}function pW(u){return lv.call(u)}function eA(u,d,x){return d=Mn(d===r?u.length-1:d,0),function(){for(var j=arguments,Q=-1,ne=Mn(j.length-d,0),le=ve(ne);++Q<ne;)le[Q]=j[d+Q];Q=-1;for(var he=ve(d+1);++Q<d;)he[Q]=j[Q];return he[d]=x(le),Dn(u,this,he)}}function tA(u,d){return d.length<2?u:zu(u,Gs(d,0,-1))}function gW(u,d){for(var x=u.length,j=hi(d.length,x),Q=Ji(u);j--;){var ne=d[j];u[j]=vc(ne,x)?Q[ne]:r}return u}function $_(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var rA=iA(Ax),Ap=Pq||function(u,d){return Qt.setTimeout(u,d)},D_=iA(BH);function nA(u,d,x){var j=d+"";return D_(u,oW(j,mW(nW(j),x)))}function iA(u){var d=0,x=0;return function(){var j=Nq(),Q=g-(j-x);if(x=j,Q>0){if(++d>=k)return arguments[0]}else d=0;return u.apply(r,arguments)}}function Tv(u,d){var x=-1,j=u.length,Q=j-1;for(d=d===r?j:d;++x<d;){var ne=y_(x,Q),le=u[ne];u[ne]=u[x],u[x]=le}return u.length=d,u}var sA=fW(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(it,function(x,j,Q,ne){d.push(Q?ne.replace(_t,"$1"):j||x)}),d});function fa(u){if(typeof u=="string"||Es(u))return u;var d=u+"";return d=="0"&&1/u==-I?"-0":d}function Hu(u){if(u!=null){try{return cv.call(u)}catch{}try{return u+""}catch{}}return""}function mW(u,d){return Hs(ce,function(x){var j="_."+x[0];d&x[1]&&!nv(u,j)&&u.push(j)}),u.sort()}function oA(u){if(u instanceof Vt)return u.clone();var d=new Vs(u.__wrapped__,u.__chain__);return d.__actions__=Ji(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function vW(u,d,x){(x?Ri(u,d,x):d===r)?d=1:d=Mn(Dt(d),0);var j=u==null?0:u.length;if(!j||d<1)return[];for(var Q=0,ne=0,le=ve(gv(j/d));Q<j;)le[ne++]=Gs(u,Q,Q+=d);return le}function yW(u){for(var d=-1,x=u==null?0:u.length,j=0,Q=[];++d<x;){var ne=u[d];ne&&(Q[j++]=ne)}return Q}function wW(){var u=arguments.length;if(!u)return[];for(var d=ve(u-1),x=arguments[0],j=u;j--;)d[j-1]=arguments[j];return ul(Ot(x)?Ji(x):[x],Yn(d,1))}var bW=jt(function(u,d){return ln(u)?wp(u,Yn(d,1,ln,!0)):[]}),_W=jt(function(u,d){var x=Js(d);return ln(x)&&(x=r),ln(u)?wp(u,Yn(d,1,ln,!0),St(x,2)):[]}),EW=jt(function(u,d){var x=Js(d);return ln(x)&&(x=r),ln(u)?wp(u,Yn(d,1,ln,!0),r,x):[]});function SW(u,d,x){var j=u==null?0:u.length;return j?(d=x||d===r?1:Dt(d),Gs(u,d<0?0:d,j)):[]}function xW(u,d,x){var j=u==null?0:u.length;return j?(d=x||d===r?1:Dt(d),d=j-d,Gs(u,0,d<0?0:d)):[]}function AW(u,d){return u&&u.length?Av(u,St(d,3),!0,!0):[]}function IW(u,d){return u&&u.length?Av(u,St(d,3),!0):[]}function CW(u,d,x,j){var Q=u==null?0:u.length;return Q?(x&&typeof x!="number"&&Ri(u,d,x)&&(x=0,j=Q),wH(u,d,x,j)):[]}function aA(u,d,x){var j=u==null?0:u.length;if(!j)return-1;var Q=x==null?0:Dt(x);return Q<0&&(Q=Mn(j+Q,0)),iv(u,St(d,3),Q)}function cA(u,d,x){var j=u==null?0:u.length;if(!j)return-1;var Q=j-1;return x!==r&&(Q=Dt(x),Q=x<0?Mn(j+Q,0):hi(Q,j-1)),iv(u,St(d,3),Q,!0)}function lA(u){var d=u==null?0:u.length;return d?Yn(u,1):[]}function MW(u){var d=u==null?0:u.length;return d?Yn(u,I):[]}function RW(u,d){var x=u==null?0:u.length;return x?(d=d===r?1:Dt(d),Yn(u,d)):[]}function PW(u){for(var d=-1,x=u==null?0:u.length,j={};++d<x;){var Q=u[d];j[Q[0]]=Q[1]}return j}function uA(u){return u&&u.length?u[0]:r}function kW(u,d,x){var j=u==null?0:u.length;if(!j)return-1;var Q=x==null?0:Dt(x);return Q<0&&(Q=Mn(j+Q,0)),Sh(u,d,Q)}function OW(u){var d=u==null?0:u.length;return d?Gs(u,0,-1):[]}var TW=jt(function(u){var d=Fr(u,S_);return d.length&&d[0]===u[0]?d_(d):[]}),NW=jt(function(u){var d=Js(u),x=Fr(u,S_);return d===Js(x)?d=r:x.pop(),x.length&&x[0]===u[0]?d_(x,St(d,2)):[]}),$W=jt(function(u){var d=Js(u),x=Fr(u,S_);return d=typeof d=="function"?d:r,d&&x.pop(),x.length&&x[0]===u[0]?d_(x,r,d):[]});function DW(u,d){return u==null?"":Oq.call(u,d)}function Js(u){var d=u==null?0:u.length;return d?u[d-1]:r}function LW(u,d,x){var j=u==null?0:u.length;if(!j)return-1;var Q=j;return x!==r&&(Q=Dt(x),Q=Q<0?Mn(j+Q,0):hi(Q,j-1)),d===d?mq(u,d,Q):iv(u,H9,Q,!0)}function BW(u,d){return u&&u.length?_x(u,Dt(d)):r}var FW=jt(fA);function fA(u,d){return u&&u.length&&d&&d.length?v_(u,d):u}function jW(u,d,x){return u&&u.length&&d&&d.length?v_(u,d,St(x,2)):u}function UW(u,d,x){return u&&u.length&&d&&d.length?v_(u,d,r,x):u}var zW=mc(function(u,d){var x=u==null?0:u.length,j=l_(u,d);return xx(u,Fr(d,function(Q){return vc(Q,x)?+Q:Q}).sort(Nx)),j});function qW(u,d){var x=[];if(!(u&&u.length))return x;var j=-1,Q=[],ne=u.length;for(d=St(d,3);++j<ne;){var le=u[j];d(le,j,u)&&(x.push(le),Q.push(j))}return xx(u,Q),x}function L_(u){return u==null?u:Dq.call(u)}function HW(u,d,x){var j=u==null?0:u.length;return j?(x&&typeof x!="number"&&Ri(u,d,x)?(d=0,x=j):(d=d==null?0:Dt(d),x=x===r?j:Dt(x)),Gs(u,d,x)):[]}function WW(u,d){return xv(u,d)}function VW(u,d,x){return b_(u,d,St(x,2))}function KW(u,d){var x=u==null?0:u.length;if(x){var j=xv(u,d);if(j<x&&Po(u[j],d))return j}return-1}function GW(u,d){return xv(u,d,!0)}function JW(u,d,x){return b_(u,d,St(x,2),!0)}function QW(u,d){var x=u==null?0:u.length;if(x){var j=xv(u,d,!0)-1;if(Po(u[j],d))return j}return-1}function YW(u){return u&&u.length?Ix(u):[]}function ZW(u,d){return u&&u.length?Ix(u,St(d,2)):[]}function XW(u){var d=u==null?0:u.length;return d?Gs(u,1,d):[]}function eV(u,d,x){return u&&u.length?(d=x||d===r?1:Dt(d),Gs(u,0,d<0?0:d)):[]}function tV(u,d,x){var j=u==null?0:u.length;return j?(d=x||d===r?1:Dt(d),d=j-d,Gs(u,d<0?0:d,j)):[]}function rV(u,d){return u&&u.length?Av(u,St(d,3),!1,!0):[]}function nV(u,d){return u&&u.length?Av(u,St(d,3)):[]}var iV=jt(function(u){return pl(Yn(u,1,ln,!0))}),sV=jt(function(u){var d=Js(u);return ln(d)&&(d=r),pl(Yn(u,1,ln,!0),St(d,2))}),oV=jt(function(u){var d=Js(u);return d=typeof d=="function"?d:r,pl(Yn(u,1,ln,!0),r,d)});function aV(u){return u&&u.length?pl(u):[]}function cV(u,d){return u&&u.length?pl(u,St(d,2)):[]}function lV(u,d){return d=typeof d=="function"?d:r,u&&u.length?pl(u,r,d):[]}function B_(u){if(!(u&&u.length))return[];var d=0;return u=ll(u,function(x){if(ln(x))return d=Mn(x.length,d),!0}),t_(d,function(x){return Fr(u,Z3(x))})}function hA(u,d){if(!(u&&u.length))return[];var x=B_(u);return d==null?x:Fr(x,function(j){return Dn(d,r,j)})}var uV=jt(function(u,d){return ln(u)?wp(u,d):[]}),fV=jt(function(u){return E_(ll(u,ln))}),hV=jt(function(u){var d=Js(u);return ln(d)&&(d=r),E_(ll(u,ln),St(d,2))}),dV=jt(function(u){var d=Js(u);return d=typeof d=="function"?d:r,E_(ll(u,ln),r,d)}),pV=jt(B_);function gV(u,d){return Px(u||[],d||[],yp)}function mV(u,d){return Px(u||[],d||[],Ep)}var vV=jt(function(u){var d=u.length,x=d>1?u[d-1]:r;return x=typeof x=="function"?(u.pop(),x):r,hA(u,x)});function dA(u){var d=re(u);return d.__chain__=!0,d}function yV(u,d){return d(u),u}function Nv(u,d){return d(u)}var wV=mc(function(u){var d=u.length,x=d?u[0]:0,j=this.__wrapped__,Q=function(ne){return l_(ne,u)};return d>1||this.__actions__.length||!(j instanceof Vt)||!vc(x)?this.thru(Q):(j=j.slice(x,+x+(d?1:0)),j.__actions__.push({func:Nv,args:[Q],thisArg:r}),new Vs(j,this.__chain__).thru(function(ne){return d&&!ne.length&&ne.push(r),ne}))});function bV(){return dA(this)}function _V(){return new Vs(this.value(),this.__chain__)}function EV(){this.__values__===r&&(this.__values__=CA(this.value()));var u=this.__index__>=this.__values__.length,d=u?r:this.__values__[this.__index__++];return{done:u,value:d}}function SV(){return this}function xV(u){for(var d,x=this;x instanceof wv;){var j=oA(x);j.__index__=0,j.__values__=r,d?Q.__wrapped__=j:d=j;var Q=j;x=x.__wrapped__}return Q.__wrapped__=u,d}function AV(){var u=this.__wrapped__;if(u instanceof Vt){var d=u;return this.__actions__.length&&(d=new Vt(this)),d=d.reverse(),d.__actions__.push({func:Nv,args:[L_],thisArg:r}),new Vs(d,this.__chain__)}return this.thru(L_)}function IV(){return Rx(this.__wrapped__,this.__actions__)}var CV=Iv(function(u,d,x){dr.call(u,x)?++u[x]:pc(u,x,1)});function MV(u,d,x){var j=Ot(u)?z9:yH;return x&&Ri(u,d,x)&&(d=r),j(u,St(d,3))}function RV(u,d){var x=Ot(u)?ll:hx;return x(u,St(d,3))}var PV=jx(aA),kV=jx(cA);function OV(u,d){return Yn($v(u,d),1)}function TV(u,d){return Yn($v(u,d),I)}function NV(u,d,x){return x=x===r?1:Dt(x),Yn($v(u,d),x)}function pA(u,d){var x=Ot(u)?Hs:dl;return x(u,St(d,3))}function gA(u,d){var x=Ot(u)?Xz:fx;return x(u,St(d,3))}var $V=Iv(function(u,d,x){dr.call(u,x)?u[x].push(d):pc(u,x,[d])});function DV(u,d,x,j){u=Qi(u)?u:$h(u),x=x&&!j?Dt(x):0;var Q=u.length;return x<0&&(x=Mn(Q+x,0)),jv(u)?x<=Q&&u.indexOf(d,x)>-1:!!Q&&Sh(u,d,x)>-1}var LV=jt(function(u,d,x){var j=-1,Q=typeof d=="function",ne=Qi(u)?ve(u.length):[];return dl(u,function(le){ne[++j]=Q?Dn(d,le,x):bp(le,d,x)}),ne}),BV=Iv(function(u,d,x){pc(u,x,d)});function $v(u,d){var x=Ot(u)?Fr:yx;return x(u,St(d,3))}function FV(u,d,x,j){return u==null?[]:(Ot(d)||(d=d==null?[]:[d]),x=j?r:x,Ot(x)||(x=x==null?[]:[x]),Ex(u,d,x))}var jV=Iv(function(u,d,x){u[x?0:1].push(d)},function(){return[[],[]]});function UV(u,d,x){var j=Ot(u)?Q3:V9,Q=arguments.length<3;return j(u,St(d,4),x,Q,dl)}function zV(u,d,x){var j=Ot(u)?eq:V9,Q=arguments.length<3;return j(u,St(d,4),x,Q,fx)}function qV(u,d){var x=Ot(u)?ll:hx;return x(u,Bv(St(d,3)))}function HV(u){var d=Ot(u)?ax:DH;return d(u)}function WV(u,d,x){(x?Ri(u,d,x):d===r)?d=1:d=Dt(d);var j=Ot(u)?dH:LH;return j(u,d)}function VV(u){var d=Ot(u)?pH:FH;return d(u)}function KV(u){if(u==null)return 0;if(Qi(u))return jv(u)?Ah(u):u.length;var d=di(u);return d==fe||d==Pe?u.size:g_(u).length}function GV(u,d,x){var j=Ot(u)?Y3:jH;return x&&Ri(u,d,x)&&(d=r),j(u,St(d,3))}var JV=jt(function(u,d){if(u==null)return[];var x=d.length;return x>1&&Ri(u,d[0],d[1])?d=[]:x>2&&Ri(d[0],d[1],d[2])&&(d=[d[0]]),Ex(u,Yn(d,1),[])}),Dv=Rq||function(){return Qt.Date.now()};function QV(u,d){if(typeof d!="function")throw new Ws(o);return u=Dt(u),function(){if(--u<1)return d.apply(this,arguments)}}function mA(u,d,x){return d=x?r:d,d=u&&d==null?u.length:d,gc(u,M,r,r,r,r,d)}function vA(u,d){var x;if(typeof d!="function")throw new Ws(o);return u=Dt(u),function(){return--u>0&&(x=d.apply(this,arguments)),u<=1&&(d=r),x}}var F_=jt(function(u,d,x){var j=B;if(x.length){var Q=fl(x,Th(F_));j|=D}return gc(u,j,d,x,Q)}),yA=jt(function(u,d,x){var j=B|R;if(x.length){var Q=fl(x,Th(yA));j|=D}return gc(d,j,u,x,Q)});function wA(u,d,x){d=x?r:d;var j=gc(u,O,r,r,r,r,r,d);return j.placeholder=wA.placeholder,j}function bA(u,d,x){d=x?r:d;var j=gc(u,L,r,r,r,r,r,d);return j.placeholder=bA.placeholder,j}function _A(u,d,x){var j,Q,ne,le,he,me,xe=0,Ae=!1,Te=!1,rt=!0;if(typeof u!="function")throw new Ws(o);d=Qs(d)||0,zr(x)&&(Ae=!!x.leading,Te="maxWait"in x,ne=Te?Mn(Qs(x.maxWait)||0,d):ne,rt="trailing"in x?!!x.trailing:rt);function wt(un){var ko=j,bc=Q;return j=Q=r,xe=un,le=u.apply(bc,ko),le}function At(un){return xe=un,he=Ap(qt,d),Ae?wt(un):le}function Bt(un){var ko=un-me,bc=un-xe,jA=d-ko;return Te?hi(jA,ne-bc):jA}function It(un){var ko=un-me,bc=un-xe;return me===r||ko>=d||ko<0||Te&&bc>=ne}function qt(){var un=Dv();if(It(un))return Yt(un);he=Ap(qt,Bt(un))}function Yt(un){return he=r,rt&&j?wt(un):(j=Q=r,le)}function Ss(){he!==r&&kx(he),xe=0,j=me=Q=he=r}function Pi(){return he===r?le:Yt(Dv())}function xs(){var un=Dv(),ko=It(un);if(j=arguments,Q=this,me=un,ko){if(he===r)return At(me);if(Te)return kx(he),he=Ap(qt,d),wt(me)}return he===r&&(he=Ap(qt,d)),le}return xs.cancel=Ss,xs.flush=Pi,xs}var YV=jt(function(u,d){return ux(u,1,d)}),ZV=jt(function(u,d,x){return ux(u,Qs(d)||0,x)});function XV(u){return gc(u,te)}function Lv(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new Ws(o);var x=function(){var j=arguments,Q=d?d.apply(this,j):j[0],ne=x.cache;if(ne.has(Q))return ne.get(Q);var le=u.apply(this,j);return x.cache=ne.set(Q,le)||ne,le};return x.cache=new(Lv.Cache||dc),x}Lv.Cache=dc;function Bv(u){if(typeof u!="function")throw new Ws(o);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function eK(u){return vA(2,u)}var tK=UH(function(u,d){d=d.length==1&&Ot(d[0])?Fr(d[0],bs(St())):Fr(Yn(d,1),bs(St()));var x=d.length;return jt(function(j){for(var Q=-1,ne=hi(j.length,x);++Q<ne;)j[Q]=d[Q].call(this,j[Q]);return Dn(u,this,j)})}),j_=jt(function(u,d){var x=fl(d,Th(j_));return gc(u,D,r,d,x)}),EA=jt(function(u,d){var x=fl(d,Th(EA));return gc(u,q,r,d,x)}),rK=mc(function(u,d){return gc(u,H,r,r,r,d)});function nK(u,d){if(typeof u!="function")throw new Ws(o);return d=d===r?d:Dt(d),jt(u,d)}function iK(u,d){if(typeof u!="function")throw new Ws(o);return d=d==null?0:Mn(Dt(d),0),jt(function(x){var j=x[d],Q=ml(x,0,d);return j&&ul(Q,j),Dn(u,this,Q)})}function sK(u,d,x){var j=!0,Q=!0;if(typeof u!="function")throw new Ws(o);return zr(x)&&(j="leading"in x?!!x.leading:j,Q="trailing"in x?!!x.trailing:Q),_A(u,d,{leading:j,maxWait:d,trailing:Q})}function oK(u){return mA(u,1)}function aK(u,d){return j_(x_(d),u)}function cK(){if(!arguments.length)return[];var u=arguments[0];return Ot(u)?u:[u]}function lK(u){return Ks(u,b)}function uK(u,d){return d=typeof d=="function"?d:r,Ks(u,b,d)}function fK(u){return Ks(u,p|b)}function hK(u,d){return d=typeof d=="function"?d:r,Ks(u,p|b,d)}function dK(u,d){return d==null||lx(u,d,Ln(d))}function Po(u,d){return u===d||u!==u&&d!==d}var pK=Pv(h_),gK=Pv(function(u,d){return u>=d}),Wu=gx(function(){return arguments}())?gx:function(u){return en(u)&&dr.call(u,"callee")&&!tx.call(u,"callee")},Ot=ve.isArray,mK=Ci?bs(Ci):xH;function Qi(u){return u!=null&&Fv(u.length)&&!yc(u)}function ln(u){return en(u)&&Qi(u)}function vK(u){return u===!0||u===!1||en(u)&&Mi(u)==Y}var vl=kq||Y_,yK=Co?bs(Co):AH;function wK(u){return en(u)&&u.nodeType===1&&!Ip(u)}function bK(u){if(u==null)return!0;if(Qi(u)&&(Ot(u)||typeof u=="string"||typeof u.splice=="function"||vl(u)||Nh(u)||Wu(u)))return!u.length;var d=di(u);if(d==fe||d==Pe)return!u.size;if(xp(u))return!g_(u).length;for(var x in u)if(dr.call(u,x))return!1;return!0}function _K(u,d){return _p(u,d)}function EK(u,d,x){x=typeof x=="function"?x:r;var j=x?x(u,d):r;return j===r?_p(u,d,r,x):!!j}function U_(u){if(!en(u))return!1;var d=Mi(u);return d==z||d==$||typeof u.message=="string"&&typeof u.name=="string"&&!Ip(u)}function SK(u){return typeof u=="number"&&nx(u)}function yc(u){if(!zr(u))return!1;var d=Mi(u);return d==J||d==ae||d==W||d==Ue}function SA(u){return typeof u=="number"&&u==Dt(u)}function Fv(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=C}function zr(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function en(u){return u!=null&&typeof u=="object"}var xA=qs?bs(qs):CH;function xK(u,d){return u===d||p_(u,d,k_(d))}function AK(u,d,x){return x=typeof x=="function"?x:r,p_(u,d,k_(d),x)}function IK(u){return AA(u)&&u!=+u}function CK(u){if(uW(u))throw new Rt(s);return mx(u)}function MK(u){return u===null}function RK(u){return u==null}function AA(u){return typeof u=="number"||en(u)&&Mi(u)==ye}function Ip(u){if(!en(u)||Mi(u)!=Ee)return!1;var d=hv(u);if(d===null)return!0;var x=dr.call(d,"constructor")&&d.constructor;return typeof x=="function"&&x instanceof x&&cv.call(x)==Aq}var z_=ca?bs(ca):MH;function PK(u){return SA(u)&&u>=-C&&u<=C}var IA=fp?bs(fp):RH;function jv(u){return typeof u=="string"||!Ot(u)&&en(u)&&Mi(u)==Me}function Es(u){return typeof u=="symbol"||en(u)&&Mi(u)==ke}var Nh=Lu?bs(Lu):PH;function kK(u){return u===r}function OK(u){return en(u)&&di(u)==Ce}function TK(u){return en(u)&&Mi(u)==Oe}var NK=Pv(m_),$K=Pv(function(u,d){return u<=d});function CA(u){if(!u)return[];if(Qi(u))return jv(u)?Mo(u):Ji(u);if(dp&&u[dp])return dq(u[dp]());var d=di(u),x=d==fe?n_:d==Pe?sv:$h;return x(u)}function wc(u){if(!u)return u===0?u:0;if(u=Qs(u),u===I||u===-I){var d=u<0?-1:1;return d*A}return u===u?u:0}function Dt(u){var d=wc(u),x=d%1;return d===d?x?d-x:d:0}function MA(u){return u?Uu(Dt(u),0,y):0}function Qs(u){if(typeof u=="number")return u;if(Es(u))return w;if(zr(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=zr(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=K9(u);var x=$r.test(u);return x||Lr.test(u)?kt(u.slice(2),x?2:8):$t.test(u)?w:+u}function RA(u){return ua(u,Yi(u))}function DK(u){return u?Uu(Dt(u),-C,C):u===0?u:0}function lr(u){return u==null?"":_s(u)}var LK=kh(function(u,d){if(xp(d)||Qi(d)){ua(d,Ln(d),u);return}for(var x in d)dr.call(d,x)&&yp(u,x,d[x])}),PA=kh(function(u,d){ua(d,Yi(d),u)}),Uv=kh(function(u,d,x,j){ua(d,Yi(d),u,j)}),BK=kh(function(u,d,x,j){ua(d,Ln(d),u,j)}),FK=mc(l_);function jK(u,d){var x=Ph(u);return d==null?x:cx(x,d)}var UK=jt(function(u,d){u=Er(u);var x=-1,j=d.length,Q=j>2?d[2]:r;for(Q&&Ri(d[0],d[1],Q)&&(j=1);++x<j;)for(var ne=d[x],le=Yi(ne),he=-1,me=le.length;++he<me;){var xe=le[he],Ae=u[xe];(Ae===r||Po(Ae,Ch[xe])&&!dr.call(u,xe))&&(u[xe]=ne[xe])}return u}),zK=jt(function(u){return u.push(r,Kx),Dn(kA,r,u)});function qK(u,d){return q9(u,St(d,3),la)}function HK(u,d){return q9(u,St(d,3),f_)}function WK(u,d){return u==null?u:u_(u,St(d,3),Yi)}function VK(u,d){return u==null?u:dx(u,St(d,3),Yi)}function KK(u,d){return u&&la(u,St(d,3))}function GK(u,d){return u&&f_(u,St(d,3))}function JK(u){return u==null?[]:Ev(u,Ln(u))}function QK(u){return u==null?[]:Ev(u,Yi(u))}function q_(u,d,x){var j=u==null?r:zu(u,d);return j===r?x:j}function YK(u,d){return u!=null&&Qx(u,d,bH)}function H_(u,d){return u!=null&&Qx(u,d,_H)}var ZK=zx(function(u,d,x){d!=null&&typeof d.toString!="function"&&(d=lv.call(d)),u[d]=x},V_(Zi)),XK=zx(function(u,d,x){d!=null&&typeof d.toString!="function"&&(d=lv.call(d)),dr.call(u,d)?u[d].push(x):u[d]=[x]},St),eG=jt(bp);function Ln(u){return Qi(u)?ox(u):g_(u)}function Yi(u){return Qi(u)?ox(u,!0):kH(u)}function tG(u,d){var x={};return d=St(d,3),la(u,function(j,Q,ne){pc(x,d(j,Q,ne),j)}),x}function rG(u,d){var x={};return d=St(d,3),la(u,function(j,Q,ne){pc(x,Q,d(j,Q,ne))}),x}var nG=kh(function(u,d,x){Sv(u,d,x)}),kA=kh(function(u,d,x,j){Sv(u,d,x,j)}),iG=mc(function(u,d){var x={};if(u==null)return x;var j=!1;d=Fr(d,function(ne){return ne=gl(ne,u),j||(j=ne.length>1),ne}),ua(u,R_(u),x),j&&(x=Ks(x,p|v|b,ZH));for(var Q=d.length;Q--;)__(x,d[Q]);return x});function sG(u,d){return OA(u,Bv(St(d)))}var oG=mc(function(u,d){return u==null?{}:TH(u,d)});function OA(u,d){if(u==null)return{};var x=Fr(R_(u),function(j){return[j]});return d=St(d),Sx(u,x,function(j,Q){return d(j,Q[0])})}function aG(u,d,x){d=gl(d,u);var j=-1,Q=d.length;for(Q||(Q=1,u=r);++j<Q;){var ne=u==null?r:u[fa(d[j])];ne===r&&(j=Q,ne=x),u=yc(ne)?ne.call(u):ne}return u}function cG(u,d,x){return u==null?u:Ep(u,d,x)}function lG(u,d,x,j){return j=typeof j=="function"?j:r,u==null?u:Ep(u,d,x,j)}var TA=Wx(Ln),NA=Wx(Yi);function uG(u,d,x){var j=Ot(u),Q=j||vl(u)||Nh(u);if(d=St(d,4),x==null){var ne=u&&u.constructor;Q?x=j?new ne:[]:zr(u)?x=yc(ne)?Ph(hv(u)):{}:x={}}return(Q?Hs:la)(u,function(le,he,me){return d(x,le,he,me)}),x}function fG(u,d){return u==null?!0:__(u,d)}function hG(u,d,x){return u==null?u:Mx(u,d,x_(x))}function dG(u,d,x,j){return j=typeof j=="function"?j:r,u==null?u:Mx(u,d,x_(x),j)}function $h(u){return u==null?[]:r_(u,Ln(u))}function pG(u){return u==null?[]:r_(u,Yi(u))}function gG(u,d,x){return x===r&&(x=d,d=r),x!==r&&(x=Qs(x),x=x===x?x:0),d!==r&&(d=Qs(d),d=d===d?d:0),Uu(Qs(u),d,x)}function mG(u,d,x){return d=wc(d),x===r?(x=d,d=0):x=wc(x),u=Qs(u),EH(u,d,x)}function vG(u,d,x){if(x&&typeof x!="boolean"&&Ri(u,d,x)&&(d=x=r),x===r&&(typeof d=="boolean"?(x=d,d=r):typeof u=="boolean"&&(x=u,u=r)),u===r&&d===r?(u=0,d=1):(u=wc(u),d===r?(d=u,u=0):d=wc(d)),u>d){var j=u;u=d,d=j}if(x||u%1||d%1){var Q=ix();return hi(u+Q*(d-u+br("1e-"+((Q+"").length-1))),d)}return y_(u,d)}var yG=Oh(function(u,d,x){return d=d.toLowerCase(),u+(x?$A(d):d)});function $A(u){return W_(lr(u).toLowerCase())}function DA(u){return u=lr(u),u&&u.replace(cr,cq).replace(K3,"")}function wG(u,d,x){u=lr(u),d=_s(d);var j=u.length;x=x===r?j:Uu(Dt(x),0,j);var Q=x;return x-=d.length,x>=0&&u.slice(x,Q)==d}function bG(u){return u=lr(u),u&&We.test(u)?u.replace(yt,lq):u}function _G(u){return u=lr(u),u&&st.test(u)?u.replace(Ze,"\\$&"):u}var EG=Oh(function(u,d,x){return u+(x?"-":"")+d.toLowerCase()}),SG=Oh(function(u,d,x){return u+(x?" ":"")+d.toLowerCase()}),xG=Fx("toLowerCase");function AG(u,d,x){u=lr(u),d=Dt(d);var j=d?Ah(u):0;if(!d||j>=d)return u;var Q=(d-j)/2;return Rv(mv(Q),x)+u+Rv(gv(Q),x)}function IG(u,d,x){u=lr(u),d=Dt(d);var j=d?Ah(u):0;return d&&j<d?u+Rv(d-j,x):u}function CG(u,d,x){u=lr(u),d=Dt(d);var j=d?Ah(u):0;return d&&j<d?Rv(d-j,x)+u:u}function MG(u,d,x){return x||d==null?d=0:d&&(d=+d),$q(lr(u).replace(Xe,""),d||0)}function RG(u,d,x){return(x?Ri(u,d,x):d===r)?d=1:d=Dt(d),w_(lr(u),d)}function PG(){var u=arguments,d=lr(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var kG=Oh(function(u,d,x){return u+(x?"_":"")+d.toLowerCase()});function OG(u,d,x){return x&&typeof x!="number"&&Ri(u,d,x)&&(d=x=r),x=x===r?y:x>>>0,x?(u=lr(u),u&&(typeof d=="string"||d!=null&&!z_(d))&&(d=_s(d),!d&&xh(u))?ml(Mo(u),0,x):u.split(d,x)):[]}var TG=Oh(function(u,d,x){return u+(x?" ":"")+W_(d)});function NG(u,d,x){return u=lr(u),x=x==null?0:Uu(Dt(x),0,u.length),d=_s(d),u.slice(x,x+d.length)==d}function $G(u,d,x){var j=re.templateSettings;x&&Ri(u,d,x)&&(d=r),u=lr(u),d=Uv({},d,j,Vx);var Q=Uv({},d.imports,j.imports,Vx),ne=Ln(Q),le=r_(Q,ne),he,me,xe=0,Ae=d.interpolate||Yr,Te="__p += '",rt=i_((d.escape||Yr).source+"|"+Ae.source+"|"+(Ae===Ke?Et:Yr).source+"|"+(d.evaluate||Yr).source+"|$","g"),wt="//# sourceURL="+(dr.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++G3+"]")+`
`;u.replace(rt,function(It,qt,Yt,Ss,Pi,xs){return Yt||(Yt=Ss),Te+=u.slice(xe,xs).replace(xn,uq),qt&&(he=!0,Te+=`' +
__e(`+qt+`) +
'`),Pi&&(me=!0,Te+=`';
`+Pi+`;
__p += '`),Yt&&(Te+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),xe=xs+It.length,It}),Te+=`';
`;var At=dr.call(d,"variable")&&d.variable;if(!At)Te=`with (obj) {
`+Te+`
}
`;else if(bt.test(At))throw new Rt(a);Te=(me?Te.replace(Be,""):Te).replace(ct,"$1").replace(gt,"$1;"),Te="function("+(At||"obj")+`) {
`+(At?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var Bt=BA(function(){return or(ne,wt+"return "+Te).apply(r,le)});if(Bt.source=Te,U_(Bt))throw Bt;return Bt}function DG(u){return lr(u).toLowerCase()}function LG(u){return lr(u).toUpperCase()}function BG(u,d,x){if(u=lr(u),u&&(x||d===r))return K9(u);if(!u||!(d=_s(d)))return u;var j=Mo(u),Q=Mo(d),ne=G9(j,Q),le=J9(j,Q)+1;return ml(j,ne,le).join("")}function FG(u,d,x){if(u=lr(u),u&&(x||d===r))return u.slice(0,Y9(u)+1);if(!u||!(d=_s(d)))return u;var j=Mo(u),Q=J9(j,Mo(d))+1;return ml(j,0,Q).join("")}function jG(u,d,x){if(u=lr(u),u&&(x||d===r))return u.replace(Xe,"");if(!u||!(d=_s(d)))return u;var j=Mo(u),Q=G9(j,Mo(d));return ml(j,Q).join("")}function UG(u,d){var x=oe,j=K;if(zr(d)){var Q="separator"in d?d.separator:Q;x="length"in d?Dt(d.length):x,j="omission"in d?_s(d.omission):j}u=lr(u);var ne=u.length;if(xh(u)){var le=Mo(u);ne=le.length}if(x>=ne)return u;var he=x-Ah(j);if(he<1)return j;var me=le?ml(le,0,he).join(""):u.slice(0,he);if(Q===r)return me+j;if(le&&(he+=me.length-he),z_(Q)){if(u.slice(he).search(Q)){var xe,Ae=me;for(Q.global||(Q=i_(Q.source,lr(ft.exec(Q))+"g")),Q.lastIndex=0;xe=Q.exec(Ae);)var Te=xe.index;me=me.slice(0,Te===r?he:Te)}}else if(u.indexOf(_s(Q),he)!=he){var rt=me.lastIndexOf(Q);rt>-1&&(me=me.slice(0,rt))}return me+j}function zG(u){return u=lr(u),u&&Je.test(u)?u.replace(mt,vq):u}var qG=Oh(function(u,d,x){return u+(x?" ":"")+d.toUpperCase()}),W_=Fx("toUpperCase");function LA(u,d,x){return u=lr(u),d=x?r:d,d===r?hq(u)?bq(u):nq(u):u.match(d)||[]}var BA=jt(function(u,d){try{return Dn(u,r,d)}catch(x){return U_(x)?x:new Rt(x)}}),HG=mc(function(u,d){return Hs(d,function(x){x=fa(x),pc(u,x,F_(u[x],u))}),u});function WG(u){var d=u==null?0:u.length,x=St();return u=d?Fr(u,function(j){if(typeof j[1]!="function")throw new Ws(o);return[x(j[0]),j[1]]}):[],jt(function(j){for(var Q=-1;++Q<d;){var ne=u[Q];if(Dn(ne[0],this,j))return Dn(ne[1],this,j)}})}function VG(u){return vH(Ks(u,p))}function V_(u){return function(){return u}}function KG(u,d){return u==null||u!==u?d:u}var GG=Ux(),JG=Ux(!0);function Zi(u){return u}function K_(u){return vx(typeof u=="function"?u:Ks(u,p))}function QG(u){return wx(Ks(u,p))}function YG(u,d){return bx(u,Ks(d,p))}var ZG=jt(function(u,d){return function(x){return bp(x,u,d)}}),XG=jt(function(u,d){return function(x){return bp(u,x,d)}});function G_(u,d,x){var j=Ln(d),Q=Ev(d,j);x==null&&!(zr(d)&&(Q.length||!j.length))&&(x=d,d=u,u=this,Q=Ev(d,Ln(d)));var ne=!(zr(x)&&"chain"in x)||!!x.chain,le=yc(u);return Hs(Q,function(he){var me=d[he];u[he]=me,le&&(u.prototype[he]=function(){var xe=this.__chain__;if(ne||xe){var Ae=u(this.__wrapped__),Te=Ae.__actions__=Ji(this.__actions__);return Te.push({func:me,args:arguments,thisArg:u}),Ae.__chain__=xe,Ae}return me.apply(u,ul([this.value()],arguments))})}),u}function eJ(){return Qt._===this&&(Qt._=Iq),this}function J_(){}function tJ(u){return u=Dt(u),jt(function(d){return _x(d,u)})}var rJ=I_(Fr),nJ=I_(z9),iJ=I_(Y3);function FA(u){return T_(u)?Z3(fa(u)):NH(u)}function sJ(u){return function(d){return u==null?r:zu(u,d)}}var oJ=qx(),aJ=qx(!0);function Q_(){return[]}function Y_(){return!1}function cJ(){return{}}function lJ(){return""}function uJ(){return!0}function fJ(u,d){if(u=Dt(u),u<1||u>C)return[];var x=y,j=hi(u,y);d=St(d),u-=y;for(var Q=t_(j,d);++x<u;)d(x);return Q}function hJ(u){return Ot(u)?Fr(u,fa):Es(u)?[u]:Ji(sA(lr(u)))}function dJ(u){var d=++xq;return lr(u)+d}var pJ=Mv(function(u,d){return u+d},0),gJ=C_("ceil"),mJ=Mv(function(u,d){return u/d},1),vJ=C_("floor");function yJ(u){return u&&u.length?_v(u,Zi,h_):r}function wJ(u,d){return u&&u.length?_v(u,St(d,2),h_):r}function bJ(u){return W9(u,Zi)}function _J(u,d){return W9(u,St(d,2))}function EJ(u){return u&&u.length?_v(u,Zi,m_):r}function SJ(u,d){return u&&u.length?_v(u,St(d,2),m_):r}var xJ=Mv(function(u,d){return u*d},1),AJ=C_("round"),IJ=Mv(function(u,d){return u-d},0);function CJ(u){return u&&u.length?e_(u,Zi):0}function MJ(u,d){return u&&u.length?e_(u,St(d,2)):0}return re.after=QV,re.ary=mA,re.assign=LK,re.assignIn=PA,re.assignInWith=Uv,re.assignWith=BK,re.at=FK,re.before=vA,re.bind=F_,re.bindAll=HG,re.bindKey=yA,re.castArray=cK,re.chain=dA,re.chunk=vW,re.compact=yW,re.concat=wW,re.cond=WG,re.conforms=VG,re.constant=V_,re.countBy=CV,re.create=jK,re.curry=wA,re.curryRight=bA,re.debounce=_A,re.defaults=UK,re.defaultsDeep=zK,re.defer=YV,re.delay=ZV,re.difference=bW,re.differenceBy=_W,re.differenceWith=EW,re.drop=SW,re.dropRight=xW,re.dropRightWhile=AW,re.dropWhile=IW,re.fill=CW,re.filter=RV,re.flatMap=OV,re.flatMapDeep=TV,re.flatMapDepth=NV,re.flatten=lA,re.flattenDeep=MW,re.flattenDepth=RW,re.flip=XV,re.flow=GG,re.flowRight=JG,re.fromPairs=PW,re.functions=JK,re.functionsIn=QK,re.groupBy=$V,re.initial=OW,re.intersection=TW,re.intersectionBy=NW,re.intersectionWith=$W,re.invert=ZK,re.invertBy=XK,re.invokeMap=LV,re.iteratee=K_,re.keyBy=BV,re.keys=Ln,re.keysIn=Yi,re.map=$v,re.mapKeys=tG,re.mapValues=rG,re.matches=QG,re.matchesProperty=YG,re.memoize=Lv,re.merge=nG,re.mergeWith=kA,re.method=ZG,re.methodOf=XG,re.mixin=G_,re.negate=Bv,re.nthArg=tJ,re.omit=iG,re.omitBy=sG,re.once=eK,re.orderBy=FV,re.over=rJ,re.overArgs=tK,re.overEvery=nJ,re.overSome=iJ,re.partial=j_,re.partialRight=EA,re.partition=jV,re.pick=oG,re.pickBy=OA,re.property=FA,re.propertyOf=sJ,re.pull=FW,re.pullAll=fA,re.pullAllBy=jW,re.pullAllWith=UW,re.pullAt=zW,re.range=oJ,re.rangeRight=aJ,re.rearg=rK,re.reject=qV,re.remove=qW,re.rest=nK,re.reverse=L_,re.sampleSize=WV,re.set=cG,re.setWith=lG,re.shuffle=VV,re.slice=HW,re.sortBy=JV,re.sortedUniq=YW,re.sortedUniqBy=ZW,re.split=OG,re.spread=iK,re.tail=XW,re.take=eV,re.takeRight=tV,re.takeRightWhile=rV,re.takeWhile=nV,re.tap=yV,re.throttle=sK,re.thru=Nv,re.toArray=CA,re.toPairs=TA,re.toPairsIn=NA,re.toPath=hJ,re.toPlainObject=RA,re.transform=uG,re.unary=oK,re.union=iV,re.unionBy=sV,re.unionWith=oV,re.uniq=aV,re.uniqBy=cV,re.uniqWith=lV,re.unset=fG,re.unzip=B_,re.unzipWith=hA,re.update=hG,re.updateWith=dG,re.values=$h,re.valuesIn=pG,re.without=uV,re.words=LA,re.wrap=aK,re.xor=fV,re.xorBy=hV,re.xorWith=dV,re.zip=pV,re.zipObject=gV,re.zipObjectDeep=mV,re.zipWith=vV,re.entries=TA,re.entriesIn=NA,re.extend=PA,re.extendWith=Uv,G_(re,re),re.add=pJ,re.attempt=BA,re.camelCase=yG,re.capitalize=$A,re.ceil=gJ,re.clamp=gG,re.clone=lK,re.cloneDeep=fK,re.cloneDeepWith=hK,re.cloneWith=uK,re.conformsTo=dK,re.deburr=DA,re.defaultTo=KG,re.divide=mJ,re.endsWith=wG,re.eq=Po,re.escape=bG,re.escapeRegExp=_G,re.every=MV,re.find=PV,re.findIndex=aA,re.findKey=qK,re.findLast=kV,re.findLastIndex=cA,re.findLastKey=HK,re.floor=vJ,re.forEach=pA,re.forEachRight=gA,re.forIn=WK,re.forInRight=VK,re.forOwn=KK,re.forOwnRight=GK,re.get=q_,re.gt=pK,re.gte=gK,re.has=YK,re.hasIn=H_,re.head=uA,re.identity=Zi,re.includes=DV,re.indexOf=kW,re.inRange=mG,re.invoke=eG,re.isArguments=Wu,re.isArray=Ot,re.isArrayBuffer=mK,re.isArrayLike=Qi,re.isArrayLikeObject=ln,re.isBoolean=vK,re.isBuffer=vl,re.isDate=yK,re.isElement=wK,re.isEmpty=bK,re.isEqual=_K,re.isEqualWith=EK,re.isError=U_,re.isFinite=SK,re.isFunction=yc,re.isInteger=SA,re.isLength=Fv,re.isMap=xA,re.isMatch=xK,re.isMatchWith=AK,re.isNaN=IK,re.isNative=CK,re.isNil=RK,re.isNull=MK,re.isNumber=AA,re.isObject=zr,re.isObjectLike=en,re.isPlainObject=Ip,re.isRegExp=z_,re.isSafeInteger=PK,re.isSet=IA,re.isString=jv,re.isSymbol=Es,re.isTypedArray=Nh,re.isUndefined=kK,re.isWeakMap=OK,re.isWeakSet=TK,re.join=DW,re.kebabCase=EG,re.last=Js,re.lastIndexOf=LW,re.lowerCase=SG,re.lowerFirst=xG,re.lt=NK,re.lte=$K,re.max=yJ,re.maxBy=wJ,re.mean=bJ,re.meanBy=_J,re.min=EJ,re.minBy=SJ,re.stubArray=Q_,re.stubFalse=Y_,re.stubObject=cJ,re.stubString=lJ,re.stubTrue=uJ,re.multiply=xJ,re.nth=BW,re.noConflict=eJ,re.noop=J_,re.now=Dv,re.pad=AG,re.padEnd=IG,re.padStart=CG,re.parseInt=MG,re.random=vG,re.reduce=UV,re.reduceRight=zV,re.repeat=RG,re.replace=PG,re.result=aG,re.round=AJ,re.runInContext=ge,re.sample=HV,re.size=KV,re.snakeCase=kG,re.some=GV,re.sortedIndex=WW,re.sortedIndexBy=VW,re.sortedIndexOf=KW,re.sortedLastIndex=GW,re.sortedLastIndexBy=JW,re.sortedLastIndexOf=QW,re.startCase=TG,re.startsWith=NG,re.subtract=IJ,re.sum=CJ,re.sumBy=MJ,re.template=$G,re.times=fJ,re.toFinite=wc,re.toInteger=Dt,re.toLength=MA,re.toLower=DG,re.toNumber=Qs,re.toSafeInteger=DK,re.toString=lr,re.toUpper=LG,re.trim=BG,re.trimEnd=FG,re.trimStart=jG,re.truncate=UG,re.unescape=zG,re.uniqueId=dJ,re.upperCase=qG,re.upperFirst=W_,re.each=pA,re.eachRight=gA,re.first=uA,G_(re,function(){var u={};return la(re,function(d,x){dr.call(re.prototype,x)||(u[x]=d)}),u}(),{chain:!1}),re.VERSION=n,Hs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){re[u].placeholder=re}),Hs(["drop","take"],function(u,d){Vt.prototype[u]=function(x){x=x===r?1:Mn(Dt(x),0);var j=this.__filtered__&&!d?new Vt(this):this.clone();return j.__filtered__?j.__takeCount__=hi(x,j.__takeCount__):j.__views__.push({size:hi(x,y),type:u+(j.__dir__<0?"Right":"")}),j},Vt.prototype[u+"Right"]=function(x){return this.reverse()[u](x).reverse()}}),Hs(["filter","map","takeWhile"],function(u,d){var x=d+1,j=x==f||x==_;Vt.prototype[u]=function(Q){var ne=this.clone();return ne.__iteratees__.push({iteratee:St(Q,3),type:x}),ne.__filtered__=ne.__filtered__||j,ne}}),Hs(["head","last"],function(u,d){var x="take"+(d?"Right":"");Vt.prototype[u]=function(){return this[x](1).value()[0]}}),Hs(["initial","tail"],function(u,d){var x="drop"+(d?"":"Right");Vt.prototype[u]=function(){return this.__filtered__?new Vt(this):this[x](1)}}),Vt.prototype.compact=function(){return this.filter(Zi)},Vt.prototype.find=function(u){return this.filter(u).head()},Vt.prototype.findLast=function(u){return this.reverse().find(u)},Vt.prototype.invokeMap=jt(function(u,d){return typeof u=="function"?new Vt(this):this.map(function(x){return bp(x,u,d)})}),Vt.prototype.reject=function(u){return this.filter(Bv(St(u)))},Vt.prototype.slice=function(u,d){u=Dt(u);var x=this;return x.__filtered__&&(u>0||d<0)?new Vt(x):(u<0?x=x.takeRight(-u):u&&(x=x.drop(u)),d!==r&&(d=Dt(d),x=d<0?x.dropRight(-d):x.take(d-u)),x)},Vt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Vt.prototype.toArray=function(){return this.take(y)},la(Vt.prototype,function(u,d){var x=/^(?:filter|find|map|reject)|While$/.test(d),j=/^(?:head|last)$/.test(d),Q=re[j?"take"+(d=="last"?"Right":""):d],ne=j||/^find/.test(d);Q&&(re.prototype[d]=function(){var le=this.__wrapped__,he=j?[1]:arguments,me=le instanceof Vt,xe=he[0],Ae=me||Ot(le),Te=function(qt){var Yt=Q.apply(re,ul([qt],he));return j&&rt?Yt[0]:Yt};Ae&&x&&typeof xe=="function"&&xe.length!=1&&(me=Ae=!1);var rt=this.__chain__,wt=!!this.__actions__.length,At=ne&&!rt,Bt=me&&!wt;if(!ne&&Ae){le=Bt?le:new Vt(this);var It=u.apply(le,he);return It.__actions__.push({func:Nv,args:[Te],thisArg:r}),new Vs(It,rt)}return At&&Bt?u.apply(this,he):(It=this.thru(Te),At?j?It.value()[0]:It.value():It)})}),Hs(["pop","push","shift","sort","splice","unshift"],function(u){var d=ov[u],x=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",j=/^(?:pop|shift)$/.test(u);re.prototype[u]=function(){var Q=arguments;if(j&&!this.__chain__){var ne=this.value();return d.apply(Ot(ne)?ne:[],Q)}return this[x](function(le){return d.apply(Ot(le)?le:[],Q)})}}),la(Vt.prototype,function(u,d){var x=re[d];if(x){var j=x.name+"";dr.call(Rh,j)||(Rh[j]=[]),Rh[j].push({name:d,func:x})}}),Rh[Cv(r,R).name]=[{name:"wrapper",func:r}],Vt.prototype.clone=zq,Vt.prototype.reverse=qq,Vt.prototype.value=Hq,re.prototype.at=wV,re.prototype.chain=bV,re.prototype.commit=_V,re.prototype.next=EV,re.prototype.plant=xV,re.prototype.reverse=AV,re.prototype.toJSON=re.prototype.valueOf=re.prototype.value=IV,re.prototype.first=re.prototype.head,dp&&(re.prototype[dp]=SV),re},Ih=_q();cn?((cn.exports=Ih)._=Ih,_r._=Ih):Qt._=Ih}).call(t1)})(SE,SE.exports);var o8e=Object.defineProperty,a8e=Object.defineProperties,c8e=Object.getOwnPropertyDescriptors,Jk=Object.getOwnPropertySymbols,l8e=Object.prototype.hasOwnProperty,u8e=Object.prototype.propertyIsEnumerable,Qk=(t,e,r)=>e in t?o8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fy=(t,e)=>{for(var r in e||(e={}))l8e.call(e,r)&&Qk(t,r,e[r]);if(Jk)for(var r of Jk(e))u8e.call(e,r)&&Qk(t,r,e[r]);return t},f8e=(t,e)=>a8e(t,c8e(e));function ta(t,e,r){var n;const i=M1(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${iz}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function vh(t){return t.includes(":")?t.split(":")[1]:t}function sz(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function h8e(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function e4(t={},e={}){const r=Yk(t),n=Yk(e);return SE.exports.merge(r,n)}function Yk(t){var e,r,n,i;const s={};if(!Ag(t))return s;for(const[o,a]of Object.entries(t)){const c=w9(o)?[o]:a.chains,l=a.methods||[],h=a.events||[],p=a.rpcMap||{},v=u1(o);s[v]=f8e(Fy(Fy({},s[v]),a),{chains:g2(c,(e=s[v])==null?void 0:e.chains),methods:g2(l,(r=s[v])==null?void 0:r.methods),events:g2(h,(n=s[v])==null?void 0:n.events),rpcMap:Fy(Fy({},p),(i=s[v])==null?void 0:i.rpcMap)})}return s}function d8e(t){return t.includes(":")?t.split(":")[2]:t}function Zk(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=w9(r)?[r]:n.chains?n.chains:sz(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function t4(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const oz={},hr=t=>oz[t],r4=(t,e)=>{oz[t]=e};class p8e{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=vh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}}var g8e=Object.defineProperty,m8e=Object.defineProperties,v8e=Object.getOwnPropertyDescriptors,Xk=Object.getOwnPropertySymbols,y8e=Object.prototype.hasOwnProperty,w8e=Object.prototype.propertyIsEnumerable,eO=(t,e,r)=>e in t?g8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tO=(t,e)=>{for(var r in e||(e={}))y8e.call(e,r)&&eO(t,r,e[r]);if(Xk)for(var r of Xk(e))w8e.call(e,r)&&eO(t,r,e[r]);return t},rO=(t,e)=>m8e(t,v8e(e));class b8e{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||ta(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(vh(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i;const s=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:rO(tO({},o.sessionProperties||{}),{capabilities:rO(tO({},a||{}),{[s]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xl("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${s8e}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}class _8e{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=vh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}}class E8e{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=vh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}}class S8e{constructor(e){this.name="algorand",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||ta(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new sa(new lc(n,hr("disableProviderPing")))}}class x8e{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=vh(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}}class A8e{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=vh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}}class I8e{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=vh(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}}class C8e{constructor(e){this.name="near",this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||ta(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace);return typeof n>"u"?void 0:new sa(new lc(n,hr("disableProviderPing")))}}class M8e{constructor(e){this.name=Xh,this.namespace=e.namespace,this.events=hr("events"),this.client=hr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(oa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=M1(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ta(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new sa(new lc(n,hr("disableProviderPing")))}}var R8e=Object.defineProperty,P8e=Object.defineProperties,k8e=Object.getOwnPropertyDescriptors,nO=Object.getOwnPropertySymbols,O8e=Object.prototype.hasOwnProperty,T8e=Object.prototype.propertyIsEnumerable,iO=(t,e,r)=>e in t?R8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jy=(t,e)=>{for(var r in e||(e={}))O8e.call(e,r)&&iO(t,r,e[r]);if(nO)for(var r of nO(e))T8e.call(e,r)&&iO(t,r,e[r]);return t},n4=(t,e)=>P8e(t,k8e(e));class M9{constructor(e){this.events=new SS,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Om(P3({level:(e==null?void 0:e.logger)||Kk})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new M9(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:jy({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,k3(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:pr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=Zk(this.session.namespaces);this.namespaces=e4(this.namespaces,o),this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});n&&(this.uri=n,this.events.emit("display_uri",n)),await i().then(s=>{this.session=s;const o=Zk(s.namespaces);this.namespaces=e4(this.namespaces,o),this.persist("namespaces",this.namespaces)}).catch(s=>{if(s.message!==nz)throw s;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e),s=this.getProvider(n);s.name===Xh?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(rc(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await C9.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Kk,relayUrl:this.providerOpts.relayUrl||r8e,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>u1(r)))];r4("client",this.client),r4("events",this.events),r4("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=h8e(r,this.session),i=sz(n),s=e4(this.namespaces,this.optionalNamespaces),o=n4(jy({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new b8e({namespace:o});break;case"algorand":this.rpcProviders[r]=new S8e({namespace:o});break;case"solana":this.rpcProviders[r]=new _8e({namespace:o});break;case"cosmos":this.rpcProviders[r]=new E8e({namespace:o});break;case"polkadot":this.rpcProviders[r]=new p8e({namespace:o});break;case"cip34":this.rpcProviders[r]=new x8e({namespace:o});break;case"elrond":this.rpcProviders[r]=new A8e({namespace:o});break;case"multiversx":this.rpcProviders[r]=new I8e({namespace:o});break;case"near":this.rpcProviders[r]=new C8e({namespace:o});break;default:this.rpcProviders[Xh]?this.rpcProviders[Xh].updateNamespace(o):this.rpcProviders[Xh]=new M8e({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:r}=e,{event:n}=r;if(n.name==="accountsChanged"){const i=n.data;i&&rc(i)&&this.events.emit("accountsChanged",i.map(d8e))}else if(n.name==="chainChanged"){const i=r.chainId,s=r.event.data,o=u1(i),a=t4(i)!==t4(s)?`${o}:${t4(s)}`:i;this.onChainChanged(a)}else this.events.emit(n.name,n.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n;const{namespaces:i}=r,s=(n=this.client)==null?void 0:n.session.get(e);this.session=n4(jy({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",n4(jy({},pr("USER_DISCONNECTED")),{data:e.topic}))}),this.on(oa.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Xh]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:i}=e;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.persist("namespaces",r),this.persist("optionalNamespaces",n)}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>u1(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=u1(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);i&&(r||this.getProvider(n).setDefaultChain(i),this.namespaces[n]?this.namespaces[n].defaultChain=i:this.namespaces[`${n}:${i}`]?this.namespaces[`${n}:${i}`].defaultChain=i:this.namespaces[`${n}:${i}`]={defaultChain:i},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",i))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,r){this.client.core.storage.setItem(`${Gk}/${e}`,r)}async getFromStore(e){return await this.client.core.storage.getItem(`${Gk}/${e}`)}}const N8e=M9,$8e="wc",D8e="ethereum_provider",L8e=`${$8e}@2:${D8e}:`,B8e="https://rpc.walletconnect.org/v1/",Sw=["eth_sendTransaction","personal_sign"],az=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],xw=["chainChanged","accountsChanged"],cz=["chainChanged","accountsChanged","message","disconnect","connect"];var F8e=Object.defineProperty,j8e=Object.defineProperties,U8e=Object.getOwnPropertyDescriptors,sO=Object.getOwnPropertySymbols,z8e=Object.prototype.hasOwnProperty,q8e=Object.prototype.propertyIsEnumerable,oO=(t,e,r)=>e in t?F8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ed=(t,e)=>{for(var r in e||(e={}))z8e.call(e,r)&&oO(t,r,e[r]);if(sO)for(var r of sO(e))q8e.call(e,r)&&oO(t,r,e[r]);return t},i4=(t,e)=>j8e(t,U8e(e));function Aw(t){return Number(t[0].split(":")[1])}function Uy(t){return`0x${t.toString(16)}`}function H8e(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!rc(e))throw new Error("Invalid chains");const c={chains:e,methods:n||Sw,events:s||xw,rpcMap:ed({},e.length?{[Aw(e)]:a[Aw(e)]}:{})},l=s==null?void 0:s.filter(b=>!xw.includes(b)),h=n==null?void 0:n.filter(b=>!Sw.includes(b));if(!r&&!o&&!i&&!(l!=null&&l.length)&&!(h!=null&&h.length))return{required:e.length?c:void 0};const p=(l==null?void 0:l.length)&&(h==null?void 0:h.length)||!r,v={chains:[...new Set(p?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:az))],events:[...new Set(c.events.concat(o!=null&&o.length?o:cz))],rpcMap:a};return{required:e.length?c:void 0,optional:r.length?v:void 0}}let lz=class uz{constructor(){this.events=new ci.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=L8e,this.on=(e,r)=>(this.events.on(e,r),this),this.once=(e,r)=>(this.events.once(e,r),this),this.removeListener=(e,r)=>(this.events.removeListener(e,r),this),this.off=(e,r)=>(this.events.off(e,r),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){const r=new uz;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:n}=H8e(this.rpc);try{const i=await new Promise(async(o,a)=>{var c;this.rpc.showQrModal&&((c=this.modal)==null||c.subscribeModal(l=>{!l.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(i4(ed({namespaces:ed({},r&&{[this.namespace]:r})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e==null?void 0:e.pairingTopic})).then(l=>{o(l)}).catch(l=>{a(new Error(l.message))})});if(!i)return;const s=aP(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Uy(this.chainId)})}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async authenticate(e,r){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const n=await new Promise(async(s,o)=>{var a;this.rpc.showQrModal&&((a=this.modal)==null||a.subscribeModal(c=>{!c.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(i4(ed({},e),{chains:this.rpc.chains}),r).then(c=>{s(c)}).catch(c=>{o(new Error(c.message))})}),i=n.session;if(i){const s=aP(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Uy(this.chainId)})}return n}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",Uy(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",i4(ed({},pr("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var r,n;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(n=this.modal)==null||n.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Uy(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e==null?void 0:e.chains)!=null?r:[],s=(n=e==null?void 0:e.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||Sw:[],c=i.length?(e==null?void 0:e.events)||xw:[],l=(e==null?void 0:e.optionalMethods)||[],h=(e==null?void 0:e.optionalEvents)||[],p=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),v=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(b=>this.formatChainId(b)),optionalChains:s.map(b=>this.formatChainId(b)),methods:a,events:c,optionalMethods:l,optionalEvents:h,rpcMap:p,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:v,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Aw(this.rpc.chains):Aw(this.rpc.optionalChains),this.signer=await N8e.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:n}=await Vg(()=>Promise.resolve().then(()=>pEe),void 0);r=n}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(ed({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&rc(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),n&&rc(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${B8e}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}};const W8e=lz,V8e=Object.freeze(Object.defineProperty({__proto__:null,EthereumProvider:W8e,OPTIONAL_EVENTS:cz,OPTIONAL_METHODS:az,REQUIRED_EVENTS:xw,REQUIRED_METHODS:Sw,default:lz},Symbol.toStringTag,{value:"Module"})),K8e=Symbol(),aO=Object.getPrototypeOf,xE=new WeakMap,G8e=t=>t&&(xE.has(t)?xE.get(t):aO(t)===Object.prototype||aO(t)===Array.prototype),J8e=t=>G8e(t)&&t[K8e]||null,cO=(t,e=!0)=>{xE.set(t,e)},Iw={BASE_URL:"/wc-webview-reproduction/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},s4=t=>typeof t=="object"&&t!==null,Tl=new WeakMap,zy=new WeakSet,Q8e=(t=Object.is,e=(l,h)=>new Proxy(l,h),r=l=>s4(l)&&!zy.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,h,p=n)=>{const v=i.get(l);if((v==null?void 0:v[0])===h)return v[1];const b=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return cO(b,!0),i.set(l,[h,b]),Reflect.ownKeys(l).forEach(S=>{if(Object.getOwnPropertyDescriptor(b,S))return;const T=Reflect.get(l,S),B={value:T,enumerable:!0,configurable:!0};if(zy.has(T))cO(T,!1);else if(T instanceof Promise)delete B.value,B.get=()=>p(T);else if(Tl.has(T)){const[R,P]=Tl.get(T);B.value=s(R,P(),p)}Object.defineProperty(b,S,B)}),Object.preventExtensions(b)},o=new WeakMap,a=[1,1],c=l=>{if(!s4(l))throw new Error("object required");const h=o.get(l);if(h)return h;let p=a[0];const v=new Set,b=(te,oe=++a[0])=>{p!==oe&&(p=oe,v.forEach(K=>K(te,oe)))};let S=a[1];const T=(te=++a[1])=>(S!==te&&!v.size&&(S=te,R.forEach(([oe])=>{const K=oe[1](te);K>p&&(p=K)})),p),B=te=>(oe,K)=>{const k=[...oe];k[1]=[te,...k[1]],b(k,K)},R=new Map,P=(te,oe)=>{if((Iw?"production":void 0)!=="production"&&R.has(te))throw new Error("prop listener already exists");if(v.size){const K=oe[3](B(te));R.set(te,[oe,K])}else R.set(te,[oe])},O=te=>{var oe;const K=R.get(te);K&&(R.delete(te),(oe=K[1])==null||oe.call(K))},L=te=>(v.add(te),v.size===1&&R.forEach(([K,k],g)=>{if((Iw?"production":void 0)!=="production"&&k)throw new Error("remove already exists");const f=K[3](B(g));R.set(g,[K,f])}),()=>{v.delete(te),v.size===0&&R.forEach(([K,k],g)=>{k&&(k(),R.set(g,[K]))})}),D=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),M=e(D,{deleteProperty(te,oe){const K=Reflect.get(te,oe);O(oe);const k=Reflect.deleteProperty(te,oe);return k&&b(["delete",[oe],K]),k},set(te,oe,K,k){const g=Reflect.has(te,oe),f=Reflect.get(te,oe,k);if(g&&(t(f,K)||o.has(K)&&t(f,o.get(K))))return!0;O(oe),s4(K)&&(K=J8e(K)||K);let m=K;if(K instanceof Promise)K.then(_=>{K.status="fulfilled",K.value=_,b(["resolve",[oe],_])}).catch(_=>{K.status="rejected",K.reason=_,b(["reject",[oe],_])});else{!Tl.has(K)&&r(K)&&(m=c(K));const _=!zy.has(m)&&Tl.get(m);_&&P(oe,_)}return Reflect.set(te,oe,m,k),b(["set",[oe],K,f]),!0}});o.set(l,M);const H=[D,T,s,L];return Tl.set(M,H),Reflect.ownKeys(l).forEach(te=>{const oe=Object.getOwnPropertyDescriptor(l,te);"value"in oe&&(M[te]=l[te],delete oe.value,delete oe.writable),Object.defineProperty(D,te,oe)}),M})=>[c,Tl,zy,t,e,r,n,i,s,o,a],[Y8e]=Q8e();function Pu(t={}){return Y8e(t)}function yh(t,e,r){const n=Tl.get(t);(Iw?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const l=o(h=>{s.push(h),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Z8e(t,e){const r=Tl.get(t);(Iw?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}const Un=Pu({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),Kr={state:Un,subscribe(t){return yh(Un,()=>t(Un))},push(t,e){t!==Un.view&&(Un.view=t,e&&(Un.data=e),Un.history.push(t))},reset(t){Un.view=t,Un.history=[t]},replace(t){Un.history.length>1&&(Un.history[Un.history.length-1]=t,Un.view=t)},goBack(){if(Un.history.length>1){Un.history.pop();const[t]=Un.history.slice(-1);Un.view=t}},setData(t){Un.data=t}},pt={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return pt.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const t=navigator.userAgent.toLowerCase();return pt.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},isArray(t){return Array.isArray(t)&&t.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(t,e,r){if(pt.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(t,e,r){if(!pt.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;if(n.startsWith("https://t.me")){const s=Buffer.from(e).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,r);const o=new URL(n);return o.searchParams.set("startapp",s),o.toString()}n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e){const r=this.isTelegram()?"_blank":e;window.open(t,r,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(pt.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(pt.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(pt.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(pt.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=(t=Kr.state.data)==null?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},X8e=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),yi=Pu({enabled:X8e,userSessionId:"",events:[],connectedWalletId:void 0}),fz={state:yi,subscribe(t){return yh(yi.events,()=>t(Z8e(yi.events[yi.events.length-1])))},initialize(){yi.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(yi.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){yi.connectedWalletId=t},click(t){if(yi.enabled){const e={type:"CLICK",name:t.name,userSessionId:yi.userSessionId,timestamp:Date.now(),data:t};yi.events.push(e)}},track(t){if(yi.enabled){const e={type:"TRACK",name:t.name,userSessionId:yi.userSessionId,timestamp:Date.now(),data:t};yi.events.push(e)}},view(t){if(yi.enabled){const e={type:"VIEW",name:t.name,userSessionId:yi.userSessionId,timestamp:Date.now(),data:t};yi.events.push(e)}}},wa=Pu({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),mn={state:wa,subscribe(t){return yh(wa,()=>t(wa))},setChains(t){wa.chains=t},setWalletConnectUri(t){wa.walletConnectUri=t},setIsCustomDesktop(t){wa.isCustomDesktop=t},setIsCustomMobile(t){wa.isCustomMobile=t},setIsDataLoaded(t){wa.isDataLoaded=t},setIsUiLoaded(t){wa.isUiLoaded=t},setIsAuth(t){wa.isAuth=t}},qy=Pu({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Ls={state:qy,subscribe(t){return yh(qy,()=>t(qy))},setConfig(t){var e,r;fz.initialize(),mn.setChains(t.chains),mn.setIsAuth(!!t.enableAuthMode),mn.setIsCustomMobile(!!((e=t.mobileWallets)!=null&&e.length)),mn.setIsCustomDesktop(!!((r=t.desktopWallets)!=null&&r.length)),pt.setModalVersionInStorage(),Object.assign(qy,t)}};var eEe=Object.defineProperty,lO=Object.getOwnPropertySymbols,tEe=Object.prototype.hasOwnProperty,rEe=Object.prototype.propertyIsEnumerable,uO=(t,e,r)=>e in t?eEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nEe=(t,e)=>{for(var r in e||(e={}))tEe.call(e,r)&&uO(t,r,e[r]);if(lO)for(var r of lO(e))rEe.call(e,r)&&uO(t,r,e[r]);return t};const AE="https://explorer-api.walletconnect.com",IE="wcm",CE="js-2.7.0";async function Hy(t,e){const r=nEe({sdkType:IE,sdkVersion:CE},e),n=new URL(t,AE);return n.searchParams.append("projectId",Ls.state.projectId),Object.entries(r).forEach(([s,o])=>{o&&n.searchParams.append(s,String(o))}),(await fetch(n)).json()}const tf={async getDesktopListings(t){return Hy("/w3m/v1/getDesktopListings",t)},async getMobileListings(t){return Hy("/w3m/v1/getMobileListings",t)},async getInjectedListings(t){return Hy("/w3m/v1/getInjectedListings",t)},async getAllListings(t){return Hy("/w3m/v1/getAllListings",t)},getWalletImageUrl(t){return`${AE}/w3m/v1/getWalletImage/${t}?projectId=${Ls.state.projectId}&sdkType=${IE}&sdkVersion=${CE}`},getAssetImageUrl(t){return`${AE}/w3m/v1/getAssetImage/${t}?projectId=${Ls.state.projectId}&sdkType=${IE}&sdkVersion=${CE}`}};var iEe=Object.defineProperty,fO=Object.getOwnPropertySymbols,sEe=Object.prototype.hasOwnProperty,oEe=Object.prototype.propertyIsEnumerable,hO=(t,e,r)=>e in t?iEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aEe=(t,e)=>{for(var r in e||(e={}))sEe.call(e,r)&&hO(t,r,e[r]);if(fO)for(var r of fO(e))oEe.call(e,r)&&hO(t,r,e[r]);return t};const dO=pt.isMobile(),ba=Pu({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),is={state:ba,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=Ls.state;if(t==="NONE"||e==="ALL"&&!t)return ba.recomendedWallets;if(pt.isArray(t)){const n={recommendedIds:t.join(",")},{listings:i}=await tf.getAllListings(n),s=Object.values(i);s.sort((o,a)=>{const c=t.indexOf(o.id),l=t.indexOf(a.id);return c-l}),ba.recomendedWallets=s}else{const{chains:r,isAuth:n}=mn.state,i=r==null?void 0:r.join(","),s=pt.isArray(e),o={page:1,sdks:n?"auth_v1":void 0,entries:pt.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:s?e.join(","):void 0},{listings:a}=dO?await tf.getMobileListings(o):await tf.getDesktopListings(o);ba.recomendedWallets=Object.values(a)}return ba.recomendedWallets},async getWallets(t){const e=aEe({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=Ls.state,{recomendedWallets:i}=ba;if(n==="ALL")return ba.wallets;i.length?e.excludedIds=i.map(p=>p.id).join(","):pt.isArray(r)&&(e.excludedIds=r.join(",")),pt.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),mn.state.isAuth&&(e.sdks="auth_v1");const{page:s,search:o}=t,{listings:a,total:c}=dO?await tf.getMobileListings(e):await tf.getDesktopListings(e),l=Object.values(a),h=o?"search":"wallets";return ba[h]={listings:[...ba[h].listings,...l],total:c,page:s??1},{listings:l,total:c}},getWalletImageUrl(t){return tf.getWalletImageUrl(t)},getAssetImageUrl(t){return tf.getAssetImageUrl(t)},resetSearch(){ba.search={listings:[],total:0,page:1}}},Jh=Pu({open:!1}),Df={state:Jh,subscribe(t){return yh(Jh,()=>t(Jh))},async open(t){return new Promise(e=>{const{isUiLoaded:r,isDataLoaded:n}=mn.state;if(pt.removeWalletConnectDeepLink(),mn.setWalletConnectUri(t==null?void 0:t.uri),mn.setChains(t==null?void 0:t.chains),Kr.reset("ConnectWallet"),r&&n)Jh.open=!0,e();else{const i=setInterval(()=>{const s=mn.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(i),Jh.open=!0,e())},200)}})},close(){Jh.open=!1}};var cEe=Object.defineProperty,pO=Object.getOwnPropertySymbols,lEe=Object.prototype.hasOwnProperty,uEe=Object.prototype.propertyIsEnumerable,gO=(t,e,r)=>e in t?cEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fEe=(t,e)=>{for(var r in e||(e={}))lEe.call(e,r)&&gO(t,r,e[r]);if(pO)for(var r of pO(e))uEe.call(e,r)&&gO(t,r,e[r]);return t};function hEe(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const r1=Pu({themeMode:hEe()?"dark":"light"}),yu={state:r1,subscribe(t){return yh(r1,()=>t(r1))},setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(r1.themeMode=e),r&&(r1.themeVariables=fEe({},r))}},rf=Pu({open:!1,message:"",variant:"success"}),eu={state:rf,subscribe(t){return yh(rf,()=>t(rf))},openToast(t,e){rf.open=!0,rf.message=t,rf.variant=e},closeToast(){rf.open=!1}};class dEe{constructor(e){this.openModal=Df.open,this.closeModal=Df.close,this.subscribeModal=Df.subscribe,this.setTheme=yu.setThemeConfig,yu.setThemeConfig(e),Ls.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await Vg(()=>Promise.resolve().then(()=>_xe),void 0);const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),mn.setIsUiLoaded(!0)}}}const pEe=Object.freeze(Object.defineProperty({__proto__:null,WalletConnectModal:dEe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const x2=window,R9=x2.ShadowRoot&&(x2.ShadyCSS===void 0||x2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,P9=Symbol(),mO=new WeakMap;let hz=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==P9)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(R9&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=mO.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&mO.set(r,e))}return e}toString(){return this.cssText}};const gEe=t=>new hz(typeof t=="string"?t:t+"",void 0,P9),ar=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new hz(r,t,P9)},mEe=(t,e)=>{R9?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{const n=document.createElement("style"),i=x2.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)})},vO=R9?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return gEe(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o4;const Cw=window,yO=Cw.trustedTypes,vEe=yO?yO.emptyScript:"",wO=Cw.reactiveElementPolyfillSupport,ME={toAttribute(t,e){switch(e){case Boolean:t=t?vEe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},dz=(t,e)=>e!==t&&(e==e||t==t),a4={attribute:!0,type:String,converter:ME,reflect:!1,hasChanged:dz},RE="finalized";let td=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((r,n)=>{const i=this._$Ep(n,r);i!==void 0&&(this._$Ev.set(i,n),e.push(i))}),e}static createProperty(e,r=a4){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),!r.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){return{get(){return this[r]},set(i){const s=this[e];this[r]=i,this.requestUpdate(e,s,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||a4}static finalize(){if(this.hasOwnProperty(RE))return!1;this[RE]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,n=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const i of n)this.createProperty(i,r[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(vO(i))}else e!==void 0&&r.push(vO(e));return r}static _$Ep(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var e;const r=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return mEe(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostConnected)===null||n===void 0?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(r=>{var n;return(n=r.hostDisconnected)===null||n===void 0?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EO(e,r,n=a4){var i;const s=this.constructor._$Ep(e,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:ME).toAttribute(r,n.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,r){var n;const i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?o.converter:ME;this._$El=s,this[s]=a.fromAttribute(r,o.type),this._$El=null}}requestUpdate(e,r,n){let i=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||dz)(this[e],r)?(this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(n)):this._$Ek()}catch(i){throw r=!1,this._$Ek(),i}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$ES)===null||r===void 0||r.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((r,n)=>this._$EO(n,this[n],r)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};td[RE]=!0,td.elementProperties=new Map,td.elementStyles=[],td.shadowRootOptions={mode:"open"},wO==null||wO({ReactiveElement:td}),((o4=Cw.reactiveElementVersions)!==null&&o4!==void 0?o4:Cw.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var c4;const Mw=window,v0=Mw.trustedTypes,bO=v0?v0.createPolicy("lit-html",{createHTML:t=>t}):void 0,PE="$lit$",Fl=`lit$${(Math.random()+"").slice(9)}$`,pz="?"+Fl,yEe=`<${pz}>`,Qf=document,Rg=()=>Qf.createComment(""),Pg=t=>t===null||typeof t!="object"&&typeof t!="function",gz=Array.isArray,wEe=t=>gz(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",l4=`[ 	
\f\r]`,n1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_O=/-->/g,EO=/>/g,nf=RegExp(`>|${l4}(?:([^\\s"'>=/]+)(${l4}*=${l4}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),SO=/'/g,xO=/"/g,mz=/^(?:script|style|textarea|title)$/i,vz=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Ge=vz(1),nn=vz(2),Yf=Symbol.for("lit-noChange"),Tn=Symbol.for("lit-nothing"),AO=new WeakMap,Sf=Qf.createTreeWalker(Qf,129,null,!1);function yz(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return bO!==void 0?bO.createHTML(e):e}const bEe=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":"",o=n1;for(let a=0;a<r;a++){const c=t[a];let l,h,p=-1,v=0;for(;v<c.length&&(o.lastIndex=v,h=o.exec(c),h!==null);)v=o.lastIndex,o===n1?h[1]==="!--"?o=_O:h[1]!==void 0?o=EO:h[2]!==void 0?(mz.test(h[2])&&(i=RegExp("</"+h[2],"g")),o=nf):h[3]!==void 0&&(o=nf):o===nf?h[0]===">"?(o=i??n1,p=-1):h[1]===void 0?p=-2:(p=o.lastIndex-h[2].length,l=h[1],o=h[3]===void 0?nf:h[3]==='"'?xO:SO):o===xO||o===SO?o=nf:o===_O||o===EO?o=n1:(o=nf,i=void 0);const b=o===nf&&t[a+1].startsWith("/>")?" ":"";s+=o===n1?c+yEe:p>=0?(n.push(l),c.slice(0,p)+PE+c.slice(p)+Fl+b):c+Fl+(p===-2?(n.push(void 0),a):b)}return[yz(t,s+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class kg{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,h]=bEe(e,r);if(this.el=kg.createElement(l,n),Sf.currentNode=this.el.content,r===2){const p=this.el.content,v=p.firstChild;v.remove(),p.append(...v.childNodes)}for(;(i=Sf.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes()){const p=[];for(const v of i.getAttributeNames())if(v.endsWith(PE)||v.startsWith(Fl)){const b=h[o++];if(p.push(v),b!==void 0){const S=i.getAttribute(b.toLowerCase()+PE).split(Fl),T=/([.?@])?(.*)/.exec(b);c.push({type:1,index:s,name:T[2],strings:S,ctor:T[1]==="."?EEe:T[1]==="?"?xEe:T[1]==="@"?AEe:D3})}else c.push({type:6,index:s})}for(const v of p)i.removeAttribute(v)}if(mz.test(i.tagName)){const p=i.textContent.split(Fl),v=p.length-1;if(v>0){i.textContent=v0?v0.emptyScript:"";for(let b=0;b<v;b++)i.append(p[b],Rg()),Sf.nextNode(),c.push({type:2,index:++s});i.append(p[v],Rg())}}}else if(i.nodeType===8)if(i.data===pz)c.push({type:2,index:s});else{let p=-1;for(;(p=i.data.indexOf(Fl,p+1))!==-1;)c.push({type:7,index:s}),p+=Fl.length-1}s++}}static createElement(e,r){const n=Qf.createElement("template");return n.innerHTML=e,n}}function y0(t,e,r=t,n){var i,s,o,a;if(e===Yf)return e;let c=n!==void 0?(i=r._$Co)===null||i===void 0?void 0:i[n]:r._$Cl;const l=Pg(e)?void 0:e._$litDirective$;return(c==null?void 0:c.constructor)!==l&&((s=c==null?void 0:c._$AO)===null||s===void 0||s.call(c,!1),l===void 0?c=void 0:(c=new l(t),c._$AT(t,r,n)),n!==void 0?((o=(a=r)._$Co)!==null&&o!==void 0?o:a._$Co=[])[n]=c:r._$Cl=c),c!==void 0&&(e=y0(t,c._$AS(t,e.values),c,n)),e}class _Ee{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var r;const{el:{content:n},parts:i}=this._$AD,s=((r=e==null?void 0:e.creationScope)!==null&&r!==void 0?r:Qf).importNode(n,!0);Sf.currentNode=s;let o=Sf.nextNode(),a=0,c=0,l=i[0];for(;l!==void 0;){if(a===l.index){let h;l.type===2?h=new $m(o,o.nextSibling,this,e):l.type===1?h=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(h=new IEe(o,this,e)),this._$AV.push(h),l=i[++c]}a!==(l==null?void 0:l.index)&&(o=Sf.nextNode(),a++)}return Sf.currentNode=Qf,s}v(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class $m{constructor(e,r,n,i){var s;this.type=2,this._$AH=Tn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cp=(s=i==null?void 0:i.isConnected)===null||s===void 0||s}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=y0(this,e,r),Pg(e)?e===Tn||e==null||e===""?(this._$AH!==Tn&&this._$AR(),this._$AH=Tn):e!==this._$AH&&e!==Yf&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):wEe(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==Tn&&Pg(this._$AH)?this._$AA.nextSibling.data=e:this.$(Qf.createTextNode(e)),this._$AH=e}g(e){var r;const{values:n,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=kg.createElement(yz(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.v(n);else{const o=new _Ee(s,this),a=o.u(this.options);o.v(n),this.$(a),this._$AH=o}}_$AC(e){let r=AO.get(e.strings);return r===void 0&&AO.set(e.strings,r=new kg(e)),r}T(e){gz(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new $m(this.k(Rg()),this.k(Rg()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cp=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class D3{constructor(e,r,n,i,s){this.type=1,this._$AH=Tn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Tn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=y0(this,e,r,0),o=!Pg(e)||e!==this._$AH&&e!==Yf,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=y0(this,a[n+c],r,c),l===Yf&&(l=this._$AH[c]),o||(o=!Pg(l)||l!==this._$AH[c]),l===Tn?e=Tn:e!==Tn&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Tn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class EEe extends D3{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Tn?void 0:e}}const SEe=v0?v0.emptyScript:"";class xEe extends D3{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Tn?this.element.setAttribute(this.name,SEe):this.element.removeAttribute(this.name)}}class AEe extends D3{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){var n;if((e=(n=y0(this,e,r,0))!==null&&n!==void 0?n:Tn)===Yf)return;const i=this._$AH,s=e===Tn&&i!==Tn||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Tn&&(i===Tn||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}class IEe{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){y0(this,e)}}const IO=Mw.litHtmlPolyfillSupport;IO==null||IO(kg,$m),((c4=Mw.litHtmlVersions)!==null&&c4!==void 0?c4:Mw.litHtmlVersions=[]).push("2.8.0");const CEe=(t,e,r)=>{var n,i;const s=(n=r==null?void 0:r.renderBefore)!==null&&n!==void 0?n:e;let o=s._$litPart$;if(o===void 0){const a=(i=r==null?void 0:r.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new $m(e.insertBefore(Rg(),a),a,void 0,r??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var u4,f4;class Ut extends td{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,r;const n=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=n.firstChild),n}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=CEe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Yf}}Ut.finalized=!0,Ut._$litElement$=!0,(u4=globalThis.litElementHydrateSupport)===null||u4===void 0||u4.call(globalThis,{LitElement:Ut});const CO=globalThis.litElementPolyfillSupport;CO==null||CO({LitElement:Ut});((f4=globalThis.litElementVersions)!==null&&f4!==void 0?f4:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const er=t=>e=>typeof e=="function"?((r,n)=>(customElements.define(r,n),n))(t,e):((r,n)=>{const{kind:i,elements:s}=n;return{kind:i,elements:s,finisher(o){customElements.define(r,o)}}})(t,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const MEe=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}},REe=(t,e,r)=>{e.constructor.createProperty(r,t)};function Lt(t){return(e,r)=>r!==void 0?REe(t,e,r):MEe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ys(t){return Lt({...t,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var h4;((h4=window.HTMLSlotElement)===null||h4===void 0?void 0:h4.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const PEe={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},kEe=t=>(...e)=>({_$litDirective$:t,values:e});class OEe{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ol=kEe(class extends OEe{constructor(t){var e;if(super(t),t.type!==PEe.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,n;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!(!((r=this.nt)===null||r===void 0)&&r.has(s))&&this.it.add(s);return this.render(e)}const i=t.element.classList;this.it.forEach(s=>{s in e||(i.remove(s),this.it.delete(s))});for(const s in e){const o=!!e[s];o===this.it.has(s)||!((n=this.nt)===null||n===void 0)&&n.has(s)||(o?(i.add(s),this.it.add(s)):(i.remove(s),this.it.delete(s)))}return Yf}});function TEe(t,e){t.indexOf(e)===-1&&t.push(e)}const wz=(t,e,r)=>Math.min(Math.max(r,t),e),ho={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Rw=t=>typeof t=="number",Td=t=>Array.isArray(t)&&!Rw(t[0]),NEe=(t,e,r)=>{const n=e-t;return((r-t)%n+n)%n+t};function $Ee(t,e){return Td(t)?t[NEe(0,t.length,e)]:t}const bz=(t,e,r)=>-r*t+r*e+t,_z=()=>{},fu=t=>t,k9=(t,e,r)=>e-t===0?1:(r-t)/(e-t);function Ez(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=k9(0,e,n);t.push(bz(r,1,i))}}function DEe(t){const e=[0];return Ez(e,t-1),e}function LEe(t,e=DEe(t.length),r=fu){const n=t.length,i=n-e.length;return i>0&&Ez(e,i),s=>{let o=0;for(;o<n-2&&!(s<e[o+1]);o++);let a=wz(0,1,k9(e[o],e[o+1],s));return a=$Ee(r,o)(a),bz(t[o],t[o+1],a)}}const Sz=t=>Array.isArray(t)&&Rw(t[0]),kE=t=>typeof t=="object"&&!!t.createAnimation,w0=t=>typeof t=="function",BEe=t=>typeof t=="string",N1={ms:t=>t*1e3,s:t=>t/1e3},xz=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,FEe=1e-7,jEe=12;function UEe(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=xz(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>FEe&&++a<jEe);return o}function f1(t,e,r,n){if(t===e&&r===n)return fu;const i=s=>UEe(s,0,1,t,r);return s=>s===0||s===1?s:xz(i(s),e,n)}const zEe=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);const n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return wz(0,1,i/t)},qEe={ease:f1(.25,.1,.25,1),"ease-in":f1(.42,0,1,1),"ease-in-out":f1(.42,0,.58,1),"ease-out":f1(0,0,.58,1)},HEe=/\((.*?)\)/;function MO(t){if(w0(t))return t;if(Sz(t))return f1(...t);const e=qEe[t];if(e)return e;if(t.startsWith("steps")){const r=HEe.exec(t);if(r){const n=r[1].split(",");return zEe(parseFloat(n[0]),n[1].trim())}}return fu}class Az{constructor(e,r=[0,1],{easing:n,duration:i=ho.duration,delay:s=ho.delay,endDelay:o=ho.endDelay,repeat:a=ho.repeat,offset:c,direction:l="normal",autoplay:h=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=fu,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((v,b)=>{this.resolve=v,this.reject=b}),n=n||ho.easing,kE(n)){const v=n.createAnimation(r);n=v.easing,r=v.keyframes||r,i=v.duration||i}this.repeat=a,this.easing=Td(n)?fu:MO(n),this.updateDuration(i);const p=LEe(r,c,Td(n)?n.map(MO):fu);this.tick=v=>{var b;s=s;let S=0;this.pauseTime!==void 0?S=this.pauseTime:S=(v-this.startTime)*this.rate,this.t=S,S/=1e3,S=Math.max(S-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(S=this.totalDuration);const T=S/this.duration;let B=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&B--;const P=B%2;(l==="reverse"||l==="alternate"&&P||l==="alternate-reverse"&&!P)&&(R=1-R);const O=S>=this.totalDuration?1:Math.min(R,1),L=p(this.easing(O));e(L),this.pauseTime===void 0&&(this.playState==="finished"||S>=this.totalDuration+o)?(this.playState="finished",(b=this.resolve)===null||b===void 0||b.call(this,L)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},h&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class WEe{setAnimation(e){this.animation=e,e==null||e.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const d4=new WeakMap;function Iz(t){return d4.has(t)||d4.set(t,{transforms:[],values:new Map}),d4.get(t)}function VEe(t,e){return t.has(e)||t.set(e,new WEe),t.get(e)}const KEe=["","X","Y","Z"],GEe=["translate","scale","rotate","skew"],Pw={x:"translateX",y:"translateY",z:"translateZ"},RO={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},JEe={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:RO,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:fu},skew:RO},Og=new Map,O9=t=>`--motion-${t}`,kw=["x","y","z"];GEe.forEach(t=>{KEe.forEach(e=>{kw.push(t+e),Og.set(O9(t+e),JEe[t])})});const QEe=(t,e)=>kw.indexOf(t)-kw.indexOf(e),YEe=new Set(kw),Cz=t=>YEe.has(t),ZEe=(t,e)=>{Pw[e]&&(e=Pw[e]);const{transforms:r}=Iz(t);TEe(r,e),t.style.transform=XEe(r)},XEe=t=>t.sort(QEe).reduce(e7e,"").trim(),e7e=(t,e)=>`${t} ${e}(var(${O9(e)}))`,OE=t=>t.startsWith("--"),PO=new Set;function t7e(t){if(!PO.has(t)){PO.add(t);try{const{syntax:e,initialValue:r}=Og.has(t)?Og.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:r})}catch{}}}const p4=(t,e)=>document.createElement("div").animate(t,e),kO={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{p4({opacity:[1]})}catch{return!1}return!0},finished:()=>!!p4({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{p4({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},g4={},md={};for(const t in kO)md[t]=()=>(g4[t]===void 0&&(g4[t]=kO[t]()),g4[t]);const r7e=.015,n7e=(t,e)=>{let r="";const n=Math.round(e/r7e);for(let i=0;i<n;i++)r+=t(k9(0,n-1,i))+", ";return r.substring(0,r.length-2)},OO=(t,e)=>w0(t)?md.linearEasing()?`linear(${n7e(t,e)})`:ho.easing:Sz(t)?i7e(t):t,i7e=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`;function s7e(t,e){for(let r=0;r<t.length;r++)t[r]===null&&(t[r]=r?t[r-1]:e());return t}const o7e=t=>Array.isArray(t)?t:[t];function TE(t){return Pw[t]&&(t=Pw[t]),Cz(t)?O9(t):t}const Wy={get:(t,e)=>{e=TE(e);let r=OE(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!r&&r!==0){const n=Og.get(e);n&&(r=n.initialValue)}return r},set:(t,e,r)=>{e=TE(e),OE(e)?t.style.setProperty(e,r):t.style[e]=r}};function Mz(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function a7e(t,e){var r;let n=(e==null?void 0:e.toDefaultUnit)||fu;const i=t[t.length-1];if(BEe(i)){const s=((r=i.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";s&&(n=o=>o+s)}return n}function c7e(){return window.__MOTION_DEV_TOOLS_RECORD}function l7e(t,e,r,n={},i){const s=c7e(),o=n.record!==!1&&s;let a,{duration:c=ho.duration,delay:l=ho.delay,endDelay:h=ho.endDelay,repeat:p=ho.repeat,easing:v=ho.easing,persist:b=!1,direction:S,offset:T,allowWebkitAcceleration:B=!1,autoplay:R=!0}=n;const P=Iz(t),O=Cz(e);let L=md.waapi();O&&ZEe(t,e);const D=TE(e),q=VEe(P.values,D),M=Og.get(D);return Mz(q.animation,!(kE(v)&&q.generator)&&n.record!==!1),()=>{const H=()=>{var K,k;return(k=(K=Wy.get(t,D))!==null&&K!==void 0?K:M==null?void 0:M.initialValue)!==null&&k!==void 0?k:0};let te=s7e(o7e(r),H);const oe=a7e(te,M);if(kE(v)){const K=v.createAnimation(te,e!=="opacity",H,D,q);v=K.easing,te=K.keyframes||te,c=K.duration||c}if(OE(D)&&(md.cssRegisterProperty()?t7e(D):L=!1),O&&!md.linearEasing()&&(w0(v)||Td(v)&&v.some(w0))&&(L=!1),L){M&&(te=te.map(g=>Rw(g)?M.toDefaultUnit(g):g)),te.length===1&&(!md.partialKeyframes()||o)&&te.unshift(H());const K={delay:N1.ms(l),duration:N1.ms(c),endDelay:N1.ms(h),easing:Td(v)?void 0:OO(v,c),direction:S,iterations:p+1,fill:"both"};a=t.animate({[D]:te,offset:T,easing:Td(v)?v.map(g=>OO(g,c)):void 0},K),a.finished||(a.finished=new Promise((g,f)=>{a.onfinish=g,a.oncancel=f}));const k=te[te.length-1];a.finished.then(()=>{b||(Wy.set(t,D,k),a.cancel())}).catch(_z),B||(a.playbackRate=1.000001)}else if(i&&O)te=te.map(K=>typeof K=="string"?parseFloat(K):K),te.length===1&&te.unshift(parseFloat(H())),a=new i(K=>{Wy.set(t,D,oe?oe(K):K)},te,Object.assign(Object.assign({},n),{duration:c,easing:v}));else{const K=te[te.length-1];Wy.set(t,D,M&&Rw(K)?M.toDefaultUnit(K):K)}return o&&s(t,e,te,{duration:c,delay:l,easing:v,repeat:p,offset:T},"motion-one"),q.setAnimation(a),a&&!R&&a.pause(),a}}const u7e=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function f7e(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const h7e=t=>t(),Rz=(t,e,r=ho.duration)=>new Proxy({animations:t.map(h7e).filter(Boolean),duration:r,options:e},p7e),d7e=t=>t.animations[0],p7e={get:(t,e)=>{const r=d7e(t);switch(e){case"duration":return t.duration;case"currentTime":return N1.s((r==null?void 0:r[e])||0);case"playbackRate":case"playState":return r==null?void 0:r[e];case"finished":return t.finished||(t.finished=Promise.all(t.animations.map(g7e)).catch(_z)),t.finished;case"stop":return()=>{t.animations.forEach(n=>Mz(n))};case"forEachNative":return n=>{t.animations.forEach(i=>n(i,t))};default:return typeof(r==null?void 0:r[e])>"u"?void 0:()=>t.animations.forEach(n=>n[e]())}},set:(t,e,r)=>{switch(e){case"currentTime":r=N1.ms(r);case"playbackRate":for(let n=0;n<t.animations.length;n++)t.animations[n][e]=r;return!0}return!1}},g7e=t=>t.finished;function m7e(t,e,r){return w0(t)?t(e,r):t}function v7e(t){return function(r,n,i={}){r=f7e(r);const s=r.length,o=[];for(let a=0;a<s;a++){const c=r[a];for(const l in n){const h=u7e(i,l);h.delay=m7e(h.delay,a,s);const p=l7e(c,l,n[l],h,t);o.push(p)}}return Rz(o,i,i.duration)}}const y7e=v7e(Az);function w7e(t,e={}){return Rz([()=>{const r=new Az(t,[0,1],e);return r.finished.catch(()=>{}),r}],e,e.duration)}function xf(t,e,r){return(w0(t)?w7e:y7e)(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ui=t=>t??Tn;var Dm={},b7e=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Pz={},zs={};let T9;const _7e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];zs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};zs.getSymbolTotalCodewords=function(e){return _7e[e]};zs.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};zs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');T9=e};zs.isKanjiModeEnabled=function(){return typeof T9<"u"};zs.toSJIS=function(e){return T9(e)};var L3={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(L3);function kz(){this.buffer=[],this.length=0}kz.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var E7e=kz;function Lm(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Lm.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Lm.prototype.get=function(t,e){return this.data[t*this.size+e]};Lm.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Lm.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var S7e=Lm,Oz={};(function(t){const e=zs.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(Oz);var Tz={};const x7e=zs.getSymbolSize,TO=7;Tz.getPositions=function(e){const r=x7e(e);return[[0,0],[r-TO,0],[0,r-TO]]};var Nz={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,h=null;for(let p=0;p<s;p++){a=c=0,l=h=null;for(let v=0;v<s;v++){let b=i.get(p,v);b===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=b,a=1),b=i.get(v,p),b===h?c++:(c>=5&&(o+=e.N1+(c-5)),h=b,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let h=0;h<s;h++)a=a<<1&2047|i.get(l,h),h>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(h,l),h>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const h=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),h<c&&(c=h,a=l)}return a}})(Nz);var B3={};const tu=L3,Vy=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ky=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];B3.getBlocksCount=function(e,r){switch(r){case tu.L:return Vy[(e-1)*4+0];case tu.M:return Vy[(e-1)*4+1];case tu.Q:return Vy[(e-1)*4+2];case tu.H:return Vy[(e-1)*4+3];default:return}};B3.getTotalCodewordsCount=function(e,r){switch(r){case tu.L:return Ky[(e-1)*4+0];case tu.M:return Ky[(e-1)*4+1];case tu.Q:return Ky[(e-1)*4+2];case tu.H:return Ky[(e-1)*4+3];default:return}};var $z={},F3={};const $1=new Uint8Array(512),Ow=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)$1[r]=e,Ow[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)$1[r]=$1[r-255]})();F3.log=function(e){if(e<1)throw new Error("log("+e+")");return Ow[e]};F3.exp=function(e){return $1[e]};F3.mul=function(e,r){return e===0||r===0?0:$1[Ow[e]+Ow[r]]};(function(t){const e=F3;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})($z);const Dz=$z;function N9(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}N9.prototype.initialize=function(e){this.degree=e,this.genPoly=Dz.generateECPolynomial(this.degree)};N9.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=Dz.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var A7e=N9,Lz={},ku={},$9={};$9.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var uc={};const Bz="[0-9]+",I7e="[A-Z $%*+\\-./:]+";let Tg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Tg=Tg.replace(/u/g,"\\u");const C7e="(?:(?![A-Z0-9 $%*+\\-./:]|"+Tg+`)(?:.|[\r
]))+`;uc.KANJI=new RegExp(Tg,"g");uc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");uc.BYTE=new RegExp(C7e,"g");uc.NUMERIC=new RegExp(Bz,"g");uc.ALPHANUMERIC=new RegExp(I7e,"g");const M7e=new RegExp("^"+Tg+"$"),R7e=new RegExp("^"+Bz+"$"),P7e=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");uc.testKanji=function(e){return M7e.test(e)};uc.testNumeric=function(e){return R7e.test(e)};uc.testAlphanumeric=function(e){return P7e.test(e)};(function(t){const e=$9,r=uc;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(ku);(function(t){const e=zs,r=B3,n=L3,i=ku,s=$9,o=7973,a=e.getBCHDigit(o);function c(v,b,S){for(let T=1;T<=40;T++)if(b<=t.getCapacity(T,S,v))return T}function l(v,b){return i.getCharCountIndicator(v,b)+4}function h(v,b){let S=0;return v.forEach(function(T){const B=l(T.mode,b);S+=B+T.getBitsLength()}),S}function p(v,b){for(let S=1;S<=40;S++)if(h(v,S)<=t.getCapacity(S,b,i.MIXED))return S}t.from=function(b,S){return s.isValid(b)?parseInt(b,10):S},t.getCapacity=function(b,S,T){if(!s.isValid(b))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=i.BYTE);const B=e.getSymbolTotalCodewords(b),R=r.getTotalCodewordsCount(b,S),P=(B-R)*8;if(T===i.MIXED)return P;const O=P-l(T,b);switch(T){case i.NUMERIC:return Math.floor(O/10*3);case i.ALPHANUMERIC:return Math.floor(O/11*2);case i.KANJI:return Math.floor(O/13);case i.BYTE:default:return Math.floor(O/8)}},t.getBestVersionForData=function(b,S){let T;const B=n.from(S,n.M);if(Array.isArray(b)){if(b.length>1)return p(b,B);if(b.length===0)return 1;T=b[0]}else T=b;return c(T.mode,T.getLength(),B)},t.getEncodedBits=function(b){if(!s.isValid(b)||b<7)throw new Error("Invalid QR Code version");let S=b<<12;for(;e.getBCHDigit(S)-a>=0;)S^=o<<e.getBCHDigit(S)-a;return b<<12|S}})(Lz);var Fz={};const NE=zs,jz=1335,k7e=21522,NO=NE.getBCHDigit(jz);Fz.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;NE.getBCHDigit(i)-NO>=0;)i^=jz<<NE.getBCHDigit(i)-NO;return(n<<10|i)^k7e};var Uz={};const O7e=ku;function b0(t){this.mode=O7e.NUMERIC,this.data=t.toString()}b0.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};b0.prototype.getLength=function(){return this.data.length};b0.prototype.getBitsLength=function(){return b0.getBitsLength(this.data.length)};b0.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var T7e=b0;const N7e=ku,m4=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _0(t){this.mode=N7e.ALPHANUMERIC,this.data=t}_0.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};_0.prototype.getLength=function(){return this.data.length};_0.prototype.getBitsLength=function(){return _0.getBitsLength(this.data.length)};_0.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=m4.indexOf(this.data[r])*45;n+=m4.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(m4.indexOf(this.data[r]),6)};var $7e=_0,D7e=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const L7e=D7e,B7e=ku;function E0(t){this.mode=B7e.BYTE,typeof t=="string"&&(t=L7e(t)),this.data=new Uint8Array(t)}E0.getBitsLength=function(e){return e*8};E0.prototype.getLength=function(){return this.data.length};E0.prototype.getBitsLength=function(){return E0.getBitsLength(this.data.length)};E0.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var F7e=E0;const j7e=ku,U7e=zs;function S0(t){this.mode=j7e.KANJI,this.data=t}S0.getBitsLength=function(e){return e*13};S0.prototype.getLength=function(){return this.data.length};S0.prototype.getBitsLength=function(){return S0.getBitsLength(this.data.length)};S0.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=U7e.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var z7e=S0,zz={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,h,p,v,b,S,T,B;!a.empty();){c=a.pop(),l=c.value,p=c.cost,v=r[l]||{};for(h in v)v.hasOwnProperty(h)&&(b=v[h],S=p+b,T=o[h],B=typeof o[h]>"u",(B||T>S)&&(o[h]=S,a.push(h,S),s[h]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var R=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(R)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(zz);var q7e=zz.exports;(function(t){const e=ku,r=T7e,n=$7e,i=F7e,s=z7e,o=uc,a=zs,c=q7e;function l(R){return unescape(encodeURIComponent(R)).length}function h(R,P,O){const L=[];let D;for(;(D=R.exec(O))!==null;)L.push({data:D[0],index:D.index,mode:P,length:D[0].length});return L}function p(R){const P=h(o.NUMERIC,e.NUMERIC,R),O=h(o.ALPHANUMERIC,e.ALPHANUMERIC,R);let L,D;return a.isKanjiModeEnabled()?(L=h(o.BYTE,e.BYTE,R),D=h(o.KANJI,e.KANJI,R)):(L=h(o.BYTE_KANJI,e.BYTE,R),D=[]),P.concat(O,L,D).sort(function(M,H){return M.index-H.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function v(R,P){switch(P){case e.NUMERIC:return r.getBitsLength(R);case e.ALPHANUMERIC:return n.getBitsLength(R);case e.KANJI:return s.getBitsLength(R);case e.BYTE:return i.getBitsLength(R)}}function b(R){return R.reduce(function(P,O){const L=P.length-1>=0?P[P.length-1]:null;return L&&L.mode===O.mode?(P[P.length-1].data+=O.data,P):(P.push(O),P)},[])}function S(R){const P=[];for(let O=0;O<R.length;O++){const L=R[O];switch(L.mode){case e.NUMERIC:P.push([L,{data:L.data,mode:e.ALPHANUMERIC,length:L.length},{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.ALPHANUMERIC:P.push([L,{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.KANJI:P.push([L,{data:L.data,mode:e.BYTE,length:l(L.data)}]);break;case e.BYTE:P.push([{data:L.data,mode:e.BYTE,length:l(L.data)}])}}return P}function T(R,P){const O={},L={start:{}};let D=["start"];for(let q=0;q<R.length;q++){const M=R[q],H=[];for(let te=0;te<M.length;te++){const oe=M[te],K=""+q+te;H.push(K),O[K]={node:oe,lastCount:0},L[K]={};for(let k=0;k<D.length;k++){const g=D[k];O[g]&&O[g].node.mode===oe.mode?(L[g][K]=v(O[g].lastCount+oe.length,oe.mode)-v(O[g].lastCount,oe.mode),O[g].lastCount+=oe.length):(O[g]&&(O[g].lastCount=oe.length),L[g][K]=v(oe.length,oe.mode)+4+e.getCharCountIndicator(oe.mode,P))}}D=H}for(let q=0;q<D.length;q++)L[D[q]].end=0;return{map:L,table:O}}function B(R,P){let O;const L=e.getBestModeForData(R);if(O=e.from(P,L),O!==e.BYTE&&O.bit<L.bit)throw new Error('"'+R+'" cannot be encoded with mode '+e.toString(O)+`.
 Suggested mode is: `+e.toString(L));switch(O===e.KANJI&&!a.isKanjiModeEnabled()&&(O=e.BYTE),O){case e.NUMERIC:return new r(R);case e.ALPHANUMERIC:return new n(R);case e.KANJI:return new s(R);case e.BYTE:return new i(R)}}t.fromArray=function(P){return P.reduce(function(O,L){return typeof L=="string"?O.push(B(L,null)):L.data&&O.push(B(L.data,L.mode)),O},[])},t.fromString=function(P,O){const L=p(P,a.isKanjiModeEnabled()),D=S(L),q=T(D,O),M=c.find_path(q.map,"start","end"),H=[];for(let te=1;te<M.length-1;te++)H.push(q.table[M[te]].node);return t.fromArray(b(H))},t.rawSplit=function(P){return t.fromArray(p(P,a.isKanjiModeEnabled()))}})(Uz);const j3=zs,v4=L3,H7e=E7e,W7e=S7e,V7e=Oz,K7e=Tz,$E=Nz,DE=B3,G7e=A7e,Tw=Lz,J7e=Fz,Q7e=ku,y4=Uz;function Y7e(t,e){const r=t.size,n=K7e.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function Z7e(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function X7e(t,e){const r=V7e.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function eSe(t,e){const r=t.size,n=Tw.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function w4(t,e,r){const n=t.size,i=J7e.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function tSe(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function rSe(t,e,r){const n=new H7e;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Q7e.getCharCountIndicator(c.mode,t)),c.write(n)});const i=j3.getSymbolTotalCodewords(t),s=DE.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return nSe(n,t,e)}function nSe(t,e,r){const n=j3.getSymbolTotalCodewords(e),i=DE.getTotalCodewordsCount(e,r),s=n-i,o=DE.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),h=Math.floor(s/o),p=h+1,v=l-h,b=new G7e(v);let S=0;const T=new Array(o),B=new Array(o);let R=0;const P=new Uint8Array(t.buffer);for(let M=0;M<o;M++){const H=M<c?h:p;T[M]=P.slice(S,S+H),B[M]=b.encode(T[M]),S+=H,R=Math.max(R,H)}const O=new Uint8Array(n);let L=0,D,q;for(D=0;D<R;D++)for(q=0;q<o;q++)D<T[q].length&&(O[L++]=T[q][D]);for(D=0;D<v;D++)for(q=0;q<o;q++)O[L++]=B[q][D];return O}function iSe(t,e,r,n){let i;if(Array.isArray(t))i=y4.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const h=y4.rawSplit(t);l=Tw.getBestVersionForData(h,r)}i=y4.fromString(t,l||40)}else throw new Error("Invalid data");const s=Tw.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=rSe(e,r,i),a=j3.getSymbolSize(e),c=new W7e(a);return Y7e(c,e),Z7e(c),X7e(c,e),w4(c,r,0),e>=7&&eSe(c,e),tSe(c,o),isNaN(n)&&(n=$E.getBestMask(c,w4.bind(null,c,r))),$E.applyMask(n,c),w4(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}Pz.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=v4.M,i,s;return typeof r<"u"&&(n=v4.from(r.errorCorrectionLevel,v4.M),i=Tw.from(r.version),s=$E.from(r.maskPattern),r.toSJISFunc&&j3.setToSJISFunction(r.toSJISFunc)),iSe(e,i,n,s)};var qz={},D9={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),h=s.margin*c,p=[s.color.light,s.color.dark];for(let v=0;v<l;v++)for(let b=0;b<l;b++){let S=(v*l+b)*4,T=s.color.light;if(v>=h&&b>=h&&v<l-h&&b<l-h){const B=Math.floor((v-h)/c),R=Math.floor((b-h)/c);T=p[a[B*o+R]?1:0]}n[S++]=T.r,n[S++]=T.g,n[S++]=T.b,n[S]=T.a}}})(D9);(function(t){const e=D9;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const h=e.getImageWidth(s.modules.size,c),p=l.getContext("2d"),v=p.createImageData(h,h);return e.qrToImageData(v.data,s,c),r(p,l,h),p.putImageData(v,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),h=c.type||"image/png",p=c.rendererOpts||{};return l.toDataURL(h,p.quality)}})(qz);var Hz={};const sSe=D9;function $O(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function b4(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function oSe(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?b4("M",c+r,.5+l+r):b4("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=b4("h",o),o=0)):i++}return n}Hz.render=function(e,r,n){const i=sSe.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+$O(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+$O(i.color.dark,"stroke")+' d="'+oSe(o,s,i.margin)+'"/>',h='viewBox="0 0 '+a+" "+a+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+h+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,v),v};const aSe=b7e,LE=Pz,Wz=qz,cSe=Hz;function L9(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!aSe())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const h=LE.create(r,n);c(t(h,e,n))}catch(h){l(h)}})}try{const c=LE.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}Dm.create=LE.create;Dm.toCanvas=L9.bind(null,Wz.render);Dm.toDataURL=L9.bind(null,Wz.renderToDataURL);Dm.toString=L9.bind(null,function(t,e,r){return cSe.render(t,r)});var lSe=Object.defineProperty,DO=Object.getOwnPropertySymbols,uSe=Object.prototype.hasOwnProperty,fSe=Object.prototype.propertyIsEnumerable,LO=(t,e,r)=>e in t?lSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_4=(t,e)=>{for(var r in e||(e={}))uSe.call(e,r)&&LO(t,r,e[r]);if(DO)for(var r of DO(e))fSe.call(e,r)&&LO(t,r,e[r]);return t};function hSe(){var t;const e=(t=yu.state.themeMode)!=null?t:"dark",n={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":n.foreground[1],"--wcm-color-fg-2":n.foreground[2],"--wcm-color-fg-3":n.foreground[3],"--wcm-color-bg-1":n.background[1],"--wcm-color-bg-2":n.background[2],"--wcm-color-bg-3":n.background[3],"--wcm-color-overlay":n.overlay}}function BO(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const Xt={getPreset(t){return BO()[t]},setTheme(){const t=document.querySelector(":root"),{themeVariables:e}=yu.state;if(t){const r=_4(_4(_4({},hSe()),BO()),e);Object.entries(r).forEach(([n,i])=>t.style.setProperty(n,i))}},globalCss:ar`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},dSe=ar`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var pSe=Object.defineProperty,gSe=Object.getOwnPropertyDescriptor,sp=(t,e,r,n)=>{for(var i=n>1?void 0:n?gSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&pSe(e,r,i),i};let wu=class extends Ut{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const t={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),Ge`<button class="${ol(t)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};wu.styles=[Xt.globalCss,dSe];sp([Lt({type:Boolean})],wu.prototype,"disabled",2);sp([Lt()],wu.prototype,"iconLeft",2);sp([Lt()],wu.prototype,"iconRight",2);sp([Lt()],wu.prototype,"onClick",2);sp([Lt()],wu.prototype,"variant",2);wu=sp([er("wcm-button")],wu);const mSe=ar`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var vSe=Object.defineProperty,ySe=Object.getOwnPropertyDescriptor,B9=(t,e,r,n)=>{for(var i=n>1?void 0:n?ySe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&vSe(e,r,i),i};let Ng=class extends Ut{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const t={"wcm-secondary":this.variant==="secondary"};return Ge`<button ?disabled="${this.disabled}" class="${ol(t)}"><slot></slot></button>`}};Ng.styles=[Xt.globalCss,mSe];B9([Lt({type:Boolean})],Ng.prototype,"disabled",2);B9([Lt()],Ng.prototype,"variant",2);Ng=B9([er("wcm-button-big")],Ng);const wSe=ar`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var bSe=Object.defineProperty,_Se=Object.getOwnPropertyDescriptor,ESe=(t,e,r,n)=>{for(var i=n>1?void 0:n?_Se(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&bSe(e,r,i),i};let BE=class extends Ut{render(){return Ge`<div><slot></slot></div>`}};BE.styles=[Xt.globalCss,wSe];BE=ESe([er("wcm-info-footer")],BE);const fr={CROSS_ICON:nn`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:nn`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:nn`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:nn`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:nn`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:nn`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:nn`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:nn`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:nn`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:nn`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:nn`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:nn`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:nn`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:nn`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:nn`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:nn`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:nn`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:nn`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},SSe=ar`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var xSe=Object.defineProperty,ASe=Object.getOwnPropertyDescriptor,ISe=(t,e,r,n)=>{for(var i=n>1?void 0:n?ASe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&xSe(e,r,i),i};let FE=class extends Ut{render(){return Ge`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${fr.WALLET_CONNECT_LOGO} <button @click="${Df.close}">${fr.CROSS_ICON}</button></div>`}};FE.styles=[Xt.globalCss,SSe];FE=ISe([er("wcm-modal-backcard")],FE);const CSe=ar`main{padding:20px;padding-top:0;width:100%}`;var MSe=Object.defineProperty,RSe=Object.getOwnPropertyDescriptor,PSe=(t,e,r,n)=>{for(var i=n>1?void 0:n?RSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&MSe(e,r,i),i};let jE=class extends Ut{render(){return Ge`<main><slot></slot></main>`}};jE.styles=[Xt.globalCss,CSe];jE=PSe([er("wcm-modal-content")],jE);const kSe=ar`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var OSe=Object.defineProperty,TSe=Object.getOwnPropertyDescriptor,NSe=(t,e,r,n)=>{for(var i=n>1?void 0:n?TSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&OSe(e,r,i),i};let UE=class extends Ut{render(){return Ge`<footer><slot></slot></footer>`}};UE.styles=[Xt.globalCss,kSe];UE=NSe([er("wcm-modal-footer")],UE);const $Se=ar`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var DSe=Object.defineProperty,LSe=Object.getOwnPropertyDescriptor,Bm=(t,e,r,n)=>{for(var i=n>1?void 0:n?LSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&DSe(e,r,i),i};let Zf=class extends Ut{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return Ge`<button class="wcm-back-btn" @click="${Kr.goBack}">${fr.BACK_ICON}</button>`}actionBtnTemplate(){return Ge`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const t={"wcm-border":this.border},e=Kr.state.history.length>1,r=this.title?Ge`<wcm-text variant="big-bold">${this.title}</wcm-text>`:Ge`<slot></slot>`;return Ge`<header class="${ol(t)}">${e?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Zf.styles=[Xt.globalCss,$Se];Bm([Lt()],Zf.prototype,"title",2);Bm([Lt()],Zf.prototype,"onAction",2);Bm([Lt()],Zf.prototype,"actionIcon",2);Bm([Lt({type:Boolean})],Zf.prototype,"border",2);Zf=Bm([er("wcm-modal-header")],Zf);const Pt={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(t,e){const r=t.renderRoot.querySelector(e);if(!r)throw new Error(`${e} not found`);return r},getWalletIcon({id:t,image_id:e}){const{walletImages:r}=Ls.state;return r!=null&&r[t]?r[t]:e?is.getWalletImageUrl(e):""},getWalletName(t,e=!1){return e&&t.length>8?`${t.substring(0,8)}..`:t},isMobileAnimation(){return window.innerWidth<=Pt.MOBILE_BREAKPOINT},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,pt.wait(3e3)])},getErrorMessage(t){return t instanceof Error?t.message:"Unknown Error"},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},handleMobileLinking(t,e="_self"){const{walletConnectUri:r}=mn.state,{mobile:n,name:i}=t,s=n==null?void 0:n.native,o=n==null?void 0:n.universal;Pt.setRecentWallet(t);function a(c){if(s){const l=pt.formatNativeUrl(s,c,i);pt.openHref(l,e)}else if(o){const l=pt.formatUniversalUrl(o,c,i);pt.openHref(l,e)}}r&&a(r)},handleAndroidLinking(){const{walletConnectUri:t}=mn.state;t&&(pt.setWalletConnectAndroidDeepLink(t),pt.openHref(t,pt.isTelegram()?"_blank":"_self"))},async handleUriCopy(){const{walletConnectUri:t}=mn.state;if(t)try{await navigator.clipboard.writeText(t),eu.openToast("Link copied","success")}catch{eu.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:t}=Ls.state,e=Object.values(t??{});return Object.values(e)},truncate(t,e=8){return t.length<=e?t:`${t.substring(0,4)}...${t.substring(t.length-4)}`},setRecentWallet(t){try{localStorage.setItem(Pt.WCM_RECENT_WALLET_DATA,JSON.stringify(t))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const t=localStorage.getItem(Pt.WCM_RECENT_WALLET_DATA);return t?JSON.parse(t):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(t,e){return t.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){pt.openHref(Pt.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:t,mobile:e}=pt.getWalletRouterData(),r=!!(t!=null&&t.native),n=!!(t!=null&&t.universal),i=!!(e!=null&&e.native)||!!(e!=null&&e.universal);return{isDesktop:r,isMobile:i,isWeb:n}},goToConnectingView(t){Kr.setData({Wallet:t});const e=pt.isMobile(),{isDesktop:r,isWeb:n,isMobile:i}=Pt.getCachedRouterWalletPlatforms();e?i?(Kr.push("MobileConnecting"),!pt.isAndroid()&&pt.isTelegram()&&this.handleMobileLinking(t,"_blank")):n?Kr.push("WebConnecting"):Kr.push("InstallWallet"):r?Kr.push("DesktopConnecting"):n?Kr.push("WebConnecting"):i?Kr.push("MobileQrcodeConnecting"):Kr.push("InstallWallet")}},BSe=ar`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var FSe=Object.defineProperty,jSe=Object.getOwnPropertyDescriptor,F9=(t,e,r,n)=>{for(var i=n>1?void 0:n?jSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&FSe(e,r,i),i};let $g=class extends Ut{constructor(){super(),this.view=Kr.state.view,this.prevView=Kr.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=Kr.subscribe(t=>{this.view!==t.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([t])=>{const e=`${t.contentRect.height}px`;this.oldHeight!=="0px"&&xf(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var t,e;(t=this.unsubscribe)==null||t.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return Pt.getShadowRootElement(this,".wcm-router")}get contentEl(){return Pt.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return Ge`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return Ge`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return Ge`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return Ge`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return Ge`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return Ge`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return Ge`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return Ge`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return Ge`<div>Not Found</div>`}}async onChangeRoute(){await xf(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=Kr.state.view,xf(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return Ge`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};$g.styles=[Xt.globalCss,BSe];F9([ys()],$g.prototype,"view",2);F9([ys()],$g.prototype,"prevView",2);$g=F9([er("wcm-modal-router")],$g);const USe=ar`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var zSe=Object.defineProperty,qSe=Object.getOwnPropertyDescriptor,Vz=(t,e,r,n)=>{for(var i=n>1?void 0:n?qSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&zSe(e,r,i),i};let Nw=class extends Ut{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=eu.subscribe(t=>{t.open?(this.open=!0,this.timeout=setTimeout(()=>eu.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var t;(t=this.unsubscribe)==null||t.call(this),clearTimeout(this.timeout),eu.closeToast()}render(){const{message:t,variant:e}=eu.state,r={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?Ge`<div class="${ol(r)}">${e==="success"?fr.CHECKMARK_ICON:null} ${e==="error"?fr.CROSS_ICON:null}<wcm-text variant="small-regular">${t}</wcm-text></div>`:null}};Nw.styles=[Xt.globalCss,USe];Vz([ys()],Nw.prototype,"open",2);Nw=Vz([er("wcm-modal-toast")],Nw);const HSe=.1,FO=2.5,Ac=7;function E4(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+HSe}function WSe(t,e){const r=Array.prototype.slice.call(Dm.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const VSe={generate(t,e,r){const n="#141414",i="#ffffff",s=[],o=WSe(t,"Q"),a=e/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach(({x:S,y:T})=>{const B=(o.length-Ac)*a*S,R=(o.length-Ac)*a*T,P=.45;for(let O=0;O<c.length;O+=1){const L=a*(Ac-O*2);s.push(nn`<rect fill="${O%2===0?n:i}" height="${L}" rx="${L*P}" ry="${L*P}" width="${L}" x="${B+a*O}" y="${R+a*O}">`)}});const l=Math.floor((r+25)/a),h=o.length/2-l/2,p=o.length/2+l/2-1,v=[];o.forEach((S,T)=>{S.forEach((B,R)=>{if(o[T][R]&&!(T<Ac&&R<Ac||T>o.length-(Ac+1)&&R<Ac||T<Ac&&R>o.length-(Ac+1))&&!(T>h&&T<p&&R>h&&R<p)){const P=T*a+a/2,O=R*a+a/2;v.push([P,O])}})});const b={};return v.forEach(([S,T])=>{b[S]?b[S].push(T):b[S]=[T]}),Object.entries(b).map(([S,T])=>{const B=T.filter(R=>T.every(P=>!E4(R,P,a)));return[Number(S),B]}).forEach(([S,T])=>{T.forEach(B=>{s.push(nn`<circle cx="${S}" cy="${B}" fill="${n}" r="${a/FO}">`)})}),Object.entries(b).filter(([S,T])=>T.length>1).map(([S,T])=>{const B=T.filter(R=>T.some(P=>E4(R,P,a)));return[Number(S),B]}).map(([S,T])=>{T.sort((R,P)=>R<P?-1:1);const B=[];for(const R of T){const P=B.find(O=>O.some(L=>E4(R,L,a)));P?P.push(R):B.push([R])}return[S,B.map(R=>[R[0],R[R.length-1]])]}).forEach(([S,T])=>{T.forEach(([B,R])=>{s.push(nn`<line x1="${S}" x2="${S}" y1="${B}" y2="${R}" stroke="${n}" stroke-width="${a/(FO/2)}" stroke-linecap="round">`)})}),s}},KSe=ar`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var GSe=Object.defineProperty,JSe=Object.getOwnPropertyDescriptor,op=(t,e,r,n)=>{for(var i=n>1?void 0:n?JSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&GSe(e,r,i),i};let rl=class extends Ut{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const e=yu.state.themeMode==="light"?this.size:this.size-18*2;return nn`<svg height="${e}" width="${e}">${VSe.generate(this.uri,e,e/4)}</svg>`}render(){const t={"wcm-dark":yu.state.themeMode==="dark"};return Ge`<div style="${`width: ${this.size}px`}" class="${ol(t)}">${this.walletId||this.imageUrl?Ge`<wcm-wallet-image walletId="${Ui(this.walletId)}" imageId="${Ui(this.imageId)}" imageUrl="${Ui(this.imageUrl)}"></wcm-wallet-image>`:fr.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};rl.styles=[Xt.globalCss,KSe];op([Lt()],rl.prototype,"uri",2);op([Lt({type:Number})],rl.prototype,"size",2);op([Lt()],rl.prototype,"imageId",2);op([Lt()],rl.prototype,"walletId",2);op([Lt()],rl.prototype,"imageUrl",2);rl=op([er("wcm-qrcode")],rl);const QSe=ar`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var YSe=Object.defineProperty,ZSe=Object.getOwnPropertyDescriptor,Kz=(t,e,r,n)=>{for(var i=n>1?void 0:n?ZSe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&YSe(e,r,i),i};let $w=class extends Ut{constructor(){super(...arguments),this.onChange=()=>null}render(){return Ge`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${fr.SEARCH_ICON}`}};$w.styles=[Xt.globalCss,QSe];Kz([Lt()],$w.prototype,"onChange",2);$w=Kz([er("wcm-search-input")],$w);const XSe=ar`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var e9e=Object.defineProperty,t9e=Object.getOwnPropertyDescriptor,r9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?t9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&e9e(e,r,i),i};let zE=class extends Ut{render(){return Ge`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};zE.styles=[Xt.globalCss,XSe];zE=r9e([er("wcm-spinner")],zE);const n9e=ar`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var i9e=Object.defineProperty,s9e=Object.getOwnPropertyDescriptor,j9=(t,e,r,n)=>{for(var i=n>1?void 0:n?s9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&i9e(e,r,i),i};let Dg=class extends Ut{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const t={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return Ge`<span><slot class="${ol(t)}"></slot></span>`}};Dg.styles=[Xt.globalCss,n9e];j9([Lt()],Dg.prototype,"variant",2);j9([Lt()],Dg.prototype,"color",2);Dg=j9([er("wcm-text")],Dg);const o9e=ar`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var a9e=Object.defineProperty,c9e=Object.getOwnPropertyDescriptor,Ou=(t,e,r,n)=>{for(var i=n>1?void 0:n?c9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&a9e(e,r,i),i};let ic=class extends Ut{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?Ge`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?Ge`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){fz.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var t;return Ge`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${Ui(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(t=this.label)!=null?t:Pt.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};ic.styles=[Xt.globalCss,o9e];Ou([Lt()],ic.prototype,"onClick",2);Ou([Lt()],ic.prototype,"name",2);Ou([Lt()],ic.prototype,"walletId",2);Ou([Lt()],ic.prototype,"label",2);Ou([Lt()],ic.prototype,"imageId",2);Ou([Lt({type:Boolean})],ic.prototype,"installed",2);Ou([Lt({type:Boolean})],ic.prototype,"recent",2);ic=Ou([er("wcm-wallet-button")],ic);const l9e=ar`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var u9e=Object.defineProperty,f9e=Object.getOwnPropertyDescriptor,U3=(t,e,r,n)=>{for(var i=n>1?void 0:n?f9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&u9e(e,r,i),i};let x0=class extends Ut{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var t;const e=(t=this.imageUrl)!=null&&t.length?this.imageUrl:Pt.getWalletIcon({id:this.walletId,image_id:this.imageId});return Ge`${e.length?Ge`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:fr.WALLET_PLACEHOLDER}`}};x0.styles=[Xt.globalCss,l9e];U3([Lt()],x0.prototype,"walletId",2);U3([Lt()],x0.prototype,"imageId",2);U3([Lt()],x0.prototype,"imageUrl",2);x0=U3([er("wcm-wallet-image")],x0);var h9e=Object.defineProperty,d9e=Object.getOwnPropertyDescriptor,Gz=(t,e,r,n)=>{for(var i=n>1?void 0:n?d9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&h9e(e,r,i),i};let qE=class extends Ut{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(t){try{t!=null&&t.length&&await Promise.all(t.map(async e=>Pt.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",t)}}async preloadListings(){if(Ls.state.enableExplorer){await is.getRecomendedWallets(),mn.setIsDataLoaded(!0);const{recomendedWallets:t}=is.state,e=t.map(r=>Pt.getWalletIcon(r));await this.loadImages(e)}else mn.setIsDataLoaded(!0)}async preloadCustomImages(){const t=Pt.getCustomImageUrls();await this.loadImages(t)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(t){console.error(t),eu.openToast("Failed preloading","error")}}};Gz([ys()],qE.prototype,"preload",2);qE=Gz([er("wcm-explorer-context")],qE);var p9e=Object.defineProperty,g9e=Object.getOwnPropertyDescriptor,m9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?g9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&p9e(e,r,i),i};let jO=class extends Ut{constructor(){super(),this.unsubscribeTheme=void 0,Xt.setTheme(),this.unsubscribeTheme=yu.subscribe(Xt.setTheme)}disconnectedCallback(){var t;(t=this.unsubscribeTheme)==null||t.call(this)}};jO=m9e([er("wcm-theme-context")],jO);const v9e=ar`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var y9e=Object.defineProperty,w9e=Object.getOwnPropertyDescriptor,b9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?w9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&y9e(e,r,i),i};let HE=class extends Ut{onGoToQrcode(){Kr.push("Qrcode")}render(){const{recomendedWallets:t}=is.state,e=[...t,...t],r=pt.RECOMMENDED_WALLET_AMOUNT*2;return Ge`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${fr.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${fr.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(r)].map((n,i)=>{const s=e[i%e.length];return s?Ge`<wcm-wallet-image walletId="${s.id}" imageId="${s.image_id}"></wcm-wallet-image>`:fr.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${Pt.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};HE.styles=[Xt.globalCss,v9e];HE=b9e([er("wcm-android-wallet-selection")],HE);const _9e=ar`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var E9e=Object.defineProperty,S9e=Object.getOwnPropertyDescriptor,ap=(t,e,r,n)=>{for(var i=n>1?void 0:n?S9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&E9e(e,r,i),i};let bu=class extends Ut{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var t,e;const s=(e=(t=yu.state.themeVariables)==null?void 0:t["--wcm-wallet-icon-large-border-radius"])!=null?e:Xt.getPreset("--wcm-wallet-icon-large-border-radius");let o=0;s.includes("%")?o=88/100*parseInt(s,10):o=parseInt(s,10),o*=1.17;const a=317-o*1.57,c=425-o*1.8;return Ge`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${o}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${a}" stroke-dashoffset="${c}"></use></svg>`}render(){const t={"wcm-error":this.isError,"wcm-stale":this.isStale};return Ge`<div class="${ol(t)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${Ui(this.walletId)}" imageId="${Ui(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};bu.styles=[Xt.globalCss,_9e];ap([Lt()],bu.prototype,"walletId",2);ap([Lt()],bu.prototype,"imageId",2);ap([Lt({type:Boolean})],bu.prototype,"isError",2);ap([Lt({type:Boolean})],bu.prototype,"isStale",2);ap([Lt()],bu.prototype,"label",2);bu=ap([er("wcm-connector-waiting")],bu);const Nd={manualWallets(){var t,e;const{mobileWallets:r,desktopWallets:n}=Ls.state,i=(t=Nd.recentWallet())==null?void 0:t.id,s=pt.isMobile()?r:n,o=s==null?void 0:s.filter(a=>i!==a.id);return(e=pt.isMobile()?o==null?void 0:o.map(({id:a,name:c,links:l})=>({id:a,name:c,mobile:l,links:l})):o==null?void 0:o.map(({id:a,name:c,links:l})=>({id:a,name:c,desktop:l,links:l})))!=null?e:[]},recentWallet(){return Pt.getRecentWallet()},recomendedWallets(t=!1){var e;const r=t||(e=Nd.recentWallet())==null?void 0:e.id,{recomendedWallets:n}=is.state;return n.filter(s=>r!==s.id)}},hu={onConnecting(t){Pt.goToConnectingView(t)},manualWalletsTemplate(){return Nd.manualWallets().map(e=>Ge`<wcm-wallet-button walletId="${e.id}" name="${e.name}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(t=!1){return Nd.recomendedWallets(t).map(r=>Ge`<wcm-wallet-button name="${r.name}" walletId="${r.id}" imageId="${r.image_id}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`)},recentWalletTemplate(){const t=Nd.recentWallet();if(t)return Ge`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${Ui(t.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`}},x9e=ar`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var A9e=Object.defineProperty,I9e=Object.getOwnPropertyDescriptor,C9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?I9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&A9e(e,r,i),i};let WE=class extends Ut{render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=Ls.state,r=t!=="ALL"&&e,n=hu.manualWalletsTemplate(),i=hu.recomendedWalletsTemplate();let o=[hu.recentWalletTemplate(),...n,...i];o=o.filter(Boolean);const a=o.length>4||r;let c=[];a?c=o.slice(0,3):c=o;const l=!!c.length;return Ge`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${Pt.handleUriCopy}" .actionIcon="${fr.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${fr.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${fr.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${l?Ge`<wcm-modal-footer><div class="wcm-desktop-title">${fr.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${c} ${a?Ge`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};WE.styles=[Xt.globalCss,x9e];WE=C9e([er("wcm-desktop-wallet-selection")],WE);const M9e=ar`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var R9e=Object.defineProperty,P9e=Object.getOwnPropertyDescriptor,k9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?P9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&R9e(e,r,i),i};let VE=class extends Ut{render(){const{termsOfServiceUrl:t,privacyPolicyUrl:e}=Ls.state;return t??e?Ge`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${t?Ge`<a href="${t}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${t&&e?"and":null} ${e?Ge`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};VE.styles=[Xt.globalCss,M9e];VE=k9e([er("wcm-legal-notice")],VE);const O9e=ar`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var T9e=Object.defineProperty,N9e=Object.getOwnPropertyDescriptor,$9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?N9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&T9e(e,r,i),i};let KE=class extends Ut{onQrcode(){Kr.push("Qrcode")}render(){const{explorerExcludedWalletIds:t,enableExplorer:e}=Ls.state,r=t!=="ALL"&&e,n=hu.manualWalletsTemplate(),i=hu.recomendedWalletsTemplate();let o=[hu.recentWalletTemplate(),...n,...i];o=o.filter(Boolean);const a=o.length>8||r;let c=[];a?c=o.slice(0,7):c=o;const l=!!c.length;return Ge`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${fr.QRCODE_ICON}"></wcm-modal-header>${l?Ge`<wcm-modal-content><div>${c} ${a?Ge`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};KE.styles=[Xt.globalCss,O9e];KE=$9e([er("wcm-mobile-wallet-selection")],KE);const D9e=ar`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var L9e=Object.defineProperty,B9e=Object.getOwnPropertyDescriptor,U9=(t,e,r,n)=>{for(var i=n>1?void 0:n?B9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&L9e(e,r,i),i};let A0=class extends Ut{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=Df.subscribe(t=>{t.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var t;(t=this.unsubscribeModal)==null||t.call(this)}get overlayEl(){return Pt.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return Pt.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(t){if(document.querySelector("body"))if(t){const r=document.getElementById("wcm-styles");r==null||r.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(t){t.target===t.currentTarget&&Df.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const t=Pt.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,r=.2;await Promise.all([xf(this.overlayEl,{opacity:[0,1]},{delay:e,duration:r}).finished,xf(this.containerEl,t,{delay:e,duration:r}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const t=Pt.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([xf(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,xf(this.containerEl,t,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",t=>{var e;t.key==="Escape"?Df.close():t.key==="Tab"&&((e=t.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var t;(t=this.abortController)==null||t.abort(),this.abortController=void 0}render(){const t={"wcm-overlay":!0,"wcm-active":this.active};return Ge`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${ol(t)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?Ge`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};A0.styles=[Xt.globalCss,D9e];U9([ys()],A0.prototype,"open",2);U9([ys()],A0.prototype,"active",2);A0=U9([er("wcm-modal")],A0);const F9e=ar`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var j9e=Object.defineProperty,U9e=Object.getOwnPropertyDescriptor,Fm=(t,e,r,n)=>{for(var i=n>1?void 0:n?U9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&j9e(e,r,i),i};let Xf=class extends Ut{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){pt.isMobile()?Kr.replace("MobileConnecting"):Kr.replace("MobileQrcodeConnecting")}onDesktop(){Kr.replace("DesktopConnecting")}onWeb(){Kr.replace("WebConnecting")}render(){return Ge`<div>${this.isRetry?Ge`<slot></slot>`:null} ${this.isMobile?Ge`<wcm-button .onClick="${this.onMobile}" .iconLeft="${fr.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?Ge`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${fr.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?Ge`<wcm-button .onClick="${this.onWeb}" .iconLeft="${fr.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};Xf.styles=[Xt.globalCss,F9e];Fm([Lt({type:Boolean})],Xf.prototype,"isMobile",2);Fm([Lt({type:Boolean})],Xf.prototype,"isDesktop",2);Fm([Lt({type:Boolean})],Xf.prototype,"isWeb",2);Fm([Lt({type:Boolean})],Xf.prototype,"isRetry",2);Xf=Fm([er("wcm-platform-selection")],Xf);const z9e=ar`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var q9e=Object.defineProperty,H9e=Object.getOwnPropertyDescriptor,W9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?H9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&q9e(e,r,i),i};let GE=class extends Ut{onClick(){Kr.push("WalletExplorer")}render(){const{recomendedWallets:t}=is.state,e=Nd.manualWallets(),r=[...t,...e].reverse().slice(0,4);return Ge`<button @click="${this.onClick}"><div class="wcm-icons">${r.map(n=>{const i=Pt.getWalletIcon(n);if(i)return Ge`<img crossorigin="anonymous" src="${i}">`;const s=Pt.getWalletIcon({id:n.id});return s?Ge`<img crossorigin="anonymous" src="${s}">`:fr.WALLET_PLACEHOLDER})} ${[...Array(4-r.length)].map(()=>fr.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};GE.styles=[Xt.globalCss,z9e];GE=W9e([er("wcm-view-all-wallets-button")],GE);const V9e=ar`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var K9e=Object.defineProperty,G9e=Object.getOwnPropertyDescriptor,z3=(t,e,r,n)=>{for(var i=n>1?void 0:n?G9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&K9e(e,r,i),i};let I0=class extends Ut{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:t}=mn.state;this.uri=t},0)}get overlayEl(){return Pt.getShadowRootElement(this,".wcm-qr-container")}render(){return Ge`<div class="wcm-qr-container">${this.uri?Ge`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${Ui(this.walletId)}" imageId="${Ui(this.imageId)}"></wcm-qrcode>`:Ge`<wcm-spinner></wcm-spinner>`}</div>`}};I0.styles=[Xt.globalCss,V9e];z3([Lt()],I0.prototype,"walletId",2);z3([Lt()],I0.prototype,"imageId",2);z3([ys()],I0.prototype,"uri",2);I0=z3([er("wcm-walletconnect-qr")],I0);var J9e=Object.defineProperty,Q9e=Object.getOwnPropertyDescriptor,Y9e=(t,e,r,n)=>{for(var i=n>1?void 0:n?Q9e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&J9e(e,r,i),i};let JE=class extends Ut{viewTemplate(){return pt.isAndroid()&&!pt.isTelegram()?Ge`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:pt.isMobile()?Ge`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:Ge`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return Ge`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};JE.styles=[Xt.globalCss];JE=Y9e([er("wcm-connect-wallet-view")],JE);const Z9e=ar`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var X9e=Object.defineProperty,exe=Object.getOwnPropertyDescriptor,Jz=(t,e,r,n)=>{for(var i=n>1?void 0:n?exe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&X9e(e,r,i),i};let Dw=class extends Ut{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(t){const{desktop:e,name:r}=pt.getWalletRouterData(),n=e==null?void 0:e.native,i=e==null?void 0:e.universal;if(n){const s=pt.formatNativeUrl(n,t,r);pt.openHref(s,"_self")}else if(i){const s=pt.formatUniversalUrl(i,t,r);pt.openHref(s,"_blank")}}openDesktopApp(){const{walletConnectUri:t}=mn.state,e=pt.getWalletRouterData();Pt.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=pt.getWalletRouterData(),{isMobile:n,isWeb:i}=Pt.getCachedRouterWalletPlatforms();return Ge`<wcm-modal-header title="${t}" .onAction="${Pt.handleUriCopy}" .actionIcon="${fr.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ui(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${t} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${fr.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Dw.styles=[Xt.globalCss,Z9e];Jz([ys()],Dw.prototype,"isError",2);Dw=Jz([er("wcm-desktop-connecting-view")],Dw);const txe=ar`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var rxe=Object.defineProperty,nxe=Object.getOwnPropertyDescriptor,ixe=(t,e,r,n)=>{for(var i=n>1?void 0:n?nxe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&rxe(e,r,i),i};let QE=class extends Ut{onInstall(t){t&&pt.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,homepage:n}=pt.getWalletRouterData();return Ge`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ui(r)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${t} to continue. If multiple browser extensions are installed, disable non ${t} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${fr.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};QE.styles=[Xt.globalCss,txe];QE=ixe([er("wcm-install-wallet-view")],QE);const sxe=ar`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var oxe=Object.defineProperty,axe=Object.getOwnPropertyDescriptor,Qz=(t,e,r,n)=>{for(var i=n>1?void 0:n?axe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&oxe(e,r,i),i};let Lw=class extends Ut{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(t,e=!1){const{mobile:r,name:n}=pt.getWalletRouterData(),i=r==null?void 0:r.native,s=r==null?void 0:r.universal,o=pt.isTelegram()?"_blank":"_self";if(t=pt.isTelegram()&&pt.isAndroid()?encodeURIComponent(t):t,i&&!e){const a=pt.formatNativeUrl(i,t,n);pt.openHref(a,o)}else if(s){const a=pt.formatUniversalUrl(s,t,n);pt.openHref(a,o)}}openMobileApp(t=!1){const{walletConnectUri:e}=mn.state,r=pt.getWalletRouterData();e&&this.onFormatAndRedirect(e,t),Pt.setRecentWallet(r)}onGoToAppStore(t){t&&pt.openHref(t,"_blank")}render(){const{name:t,id:e,image_id:r,app:n,mobile:i}=pt.getWalletRouterData(),{isWeb:s}=Pt.getCachedRouterWalletPlatforms(),o=n==null?void 0:n.ios,a=i==null?void 0:i.universal;return Ge`<wcm-modal-header title="${t}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ui(r)}" label="Tap 'Open' to continue" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${fr.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${a?Ge`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${Ui(r)}"></wcm-wallet-image><wcm-text>${`Get ${t}`}</wcm-text></div><wcm-button .iconRight="${fr.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(o)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};Lw.styles=[Xt.globalCss,sxe];Qz([ys()],Lw.prototype,"isError",2);Lw=Qz([er("wcm-mobile-connecting-view")],Lw);const cxe=ar`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var lxe=Object.defineProperty,uxe=Object.getOwnPropertyDescriptor,fxe=(t,e,r,n)=>{for(var i=n>1?void 0:n?uxe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&lxe(e,r,i),i};let YE=class extends Ut{render(){const{name:t,id:e,image_id:r}=pt.getWalletRouterData(),{isDesktop:n,isWeb:i}=Pt.getCachedRouterWalletPlatforms();return Ge`<wcm-modal-header title="${t}" .onAction="${Pt.handleUriCopy}" .actionIcon="${fr.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${Ui(r)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${t} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${i}"></wcm-platform-selection></wcm-info-footer>`}};YE.styles=[Xt.globalCss,cxe];YE=fxe([er("wcm-mobile-qr-connecting-view")],YE);var hxe=Object.defineProperty,dxe=Object.getOwnPropertyDescriptor,pxe=(t,e,r,n)=>{for(var i=n>1?void 0:n?dxe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&hxe(e,r,i),i};let ZE=class extends Ut{render(){return Ge`<wcm-modal-header title="Scan the code" .onAction="${Pt.handleUriCopy}" .actionIcon="${fr.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};ZE.styles=[Xt.globalCss];ZE=pxe([er("wcm-qrcode-view")],ZE);const gxe=ar`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var mxe=Object.defineProperty,vxe=Object.getOwnPropertyDescriptor,jm=(t,e,r,n)=>{for(var i=n>1?void 0:n?vxe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&mxe(e,r,i),i};const S4=40;let eh=class extends Ut{constructor(){super(...arguments),this.loading=!is.state.wallets.listings.length,this.firstFetch=!is.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=Pt.debounce(t=>{t.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=t,is.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),is.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var t;(t=this.intersectionObserver)==null||t.disconnect()}get placeholderEl(){return Pt.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([t])=>{t.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:t,search:e}=is.state,{listings:r,total:n}=this.search?e:t;return n<=S4||r.length>=n}async fetchWallets(){var t;const{wallets:e,search:r}=is.state,{listings:n,total:i,page:s}=this.search?r:e;if(!this.endReached&&(this.firstFetch||i>S4&&n.length<i))try{this.loading=!0;const o=(t=mn.state.chains)==null?void 0:t.join(","),{listings:a}=await is.getWallets({page:this.firstFetch?1:s+1,entries:S4,search:this.search,version:2,chains:o}),c=a.map(l=>Pt.getWalletIcon(l));await Promise.all([...c.map(async l=>Pt.preloadImage(l)),pt.wait(300)]),this.endReached=this.isLastPage()}catch(o){console.error(o),eu.openToast(Pt.getErrorMessage(o),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(t){pt.isAndroid()?Pt.handleMobileLinking(t):Pt.goToConnectingView(t)}onSearchChange(t){const{value:e}=t.target;this.searchDebounce(e)}render(){const{wallets:t,search:e}=is.state,{listings:r}=this.search?e:t,n=this.loading&&!r.length,i=this.search.length>=3;let s=hu.manualWalletsTemplate(),o=hu.recomendedWalletsTemplate(!0);i&&(s=s.filter(({values:l})=>Pt.caseSafeIncludes(l[0],this.search)),o=o.filter(({values:l})=>Pt.caseSafeIncludes(l[0],this.search)));const a=!this.loading&&!r.length&&!o.length,c={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":a};return Ge`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${ol(c)}"><div class="wcm-grid">${n?null:s} ${n?null:o} ${n?null:r.map(l=>Ge`${l?Ge`<wcm-wallet-button imageId="${l.image_id}" name="${l.name}" walletId="${l.id}" .onClick="${()=>this.onConnect(l)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${a?Ge`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!a&&this.loading?Ge`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};eh.styles=[Xt.globalCss,gxe];jm([ys()],eh.prototype,"loading",2);jm([ys()],eh.prototype,"firstFetch",2);jm([ys()],eh.prototype,"search",2);jm([ys()],eh.prototype,"endReached",2);eh=jm([er("wcm-wallet-explorer-view")],eh);const yxe=ar`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var wxe=Object.defineProperty,bxe=Object.getOwnPropertyDescriptor,Yz=(t,e,r,n)=>{for(var i=n>1?void 0:n?bxe(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&wxe(e,r,i),i};let Bw=class extends Ut{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(t){const{desktop:e,name:r}=pt.getWalletRouterData(),n=e==null?void 0:e.universal;if(n){const i=pt.formatUniversalUrl(n,t,r);pt.openHref(i,"_blank")}}openWebWallet(){const{walletConnectUri:t}=mn.state,e=pt.getWalletRouterData();Pt.setRecentWallet(e),t&&this.onFormatAndRedirect(t)}render(){const{name:t,id:e,image_id:r}=pt.getWalletRouterData(),{isMobile:n,isDesktop:i}=Pt.getCachedRouterWalletPlatforms(),s=pt.isMobile();return Ge`<wcm-modal-header title="${t}" .onAction="${Pt.handleUriCopy}" .actionIcon="${fr.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Ui(r)}" label="${`Continue in ${t}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${t} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${s?!1:i}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${fr.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Bw.styles=[Xt.globalCss,yxe];Yz([ys()],Bw.prototype,"isError",2);Bw=Yz([er("wcm-web-connecting-view")],Bw);const _xe=Object.freeze(Object.defineProperty({__proto__:null,get WcmModal(){return A0},get WcmQrCode(){return rl}},Symbol.toStringTag,{value:"Module"}))});export default Exe();
